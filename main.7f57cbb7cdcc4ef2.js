"use strict";var zS=Object.defineProperty,$S=Object.defineProperties,ZS=Object.getOwnPropertyDescriptors,OI=Object.getOwnPropertySymbols,GS=Object.prototype.hasOwnProperty,WS=Object.prototype.propertyIsEnumerable,kI=(Dt,Ve,R)=>Ve in Dt?zS(Dt,Ve,{enumerable:!0,configurable:!0,writable:!0,value:R}):Dt[Ve]=R,RI=(Dt,Ve)=>{for(var R in Ve||(Ve={}))GS.call(Ve,R)&&kI(Dt,R,Ve[R]);if(OI)for(var R of OI(Ve))WS.call(Ve,R)&&kI(Dt,R,Ve[R]);return Dt},PI=(Dt,Ve)=>$S(Dt,ZS(Ve));(self.webpackChunkprojectfun=self.webpackChunkprojectfun||[]).push([[179],{2011:(Dt,Ve,R)=>{R.d(Ve,{Dh:()=>ce,GT:()=>Y,cc:()=>$e,hO:()=>We,on:()=>K,pX:()=>q,xv:()=>de});var i=R(5e3),v=R(127),z=R(5813);Dt=R.hmd(Dt);const fe=["ngOnDestroy"],q=(re,Ce,Ie,ke={})=>new Proxy(re,{get:(Z,ve)=>Ie.runOutsideAngular(()=>{var he;if(re[ve])return(null===(he=null==ke?void 0:ke.spy)||void 0===he?void 0:he.get)&&ke.spy.get(ve,re[ve]),re[ve];if(fe.indexOf(ve)>-1)return()=>{};const De=Ce.toPromise().then(Be=>{const Ee=Be&&Be[ve];return"function"==typeof Ee?Ee.bind(Be):Ee&&Ee.then?Ee.then(je=>Ie.run(()=>je)):Ie.run(()=>Ee)});return new Proxy(()=>{},{get:(Be,Ee)=>De[Ee],apply:(Be,Ee,je)=>De.then(nt=>{var rt;const mt=nt&&nt(...je);return(null===(rt=null==ke?void 0:ke.spy)||void 0===rt?void 0:rt.apply)&&ke.spy.apply(ve,je,mt),mt})})})}),Y=(re,Ce)=>{Ce.forEach(Ie=>{Object.getOwnPropertyNames(Ie.prototype||Ie).forEach(ke=>{Object.defineProperty(re.prototype,ke,Object.getOwnPropertyDescriptor(Ie.prototype||Ie,ke))})})};class J{constructor(Ce){return Ce}}const ce=new i.OlP("angularfire2.app.options"),de=new i.OlP("angularfire2.app.name");function K(re,Ce,Ie){const Z="object"==typeof Ie&&Ie||{};Z.name=Z.name||"string"==typeof Ie&&Ie||"[DEFAULT]";const he=v.Z.apps.filter(De=>De&&De.name===Z.name)[0]||Ce.runOutsideAngular(()=>v.Z.initializeApp(re,Z));try{JSON.stringify(re)!==JSON.stringify(he.options)&&ee("error",`${he.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(De){}return new J(he)}const ee=(re,...Ce)=>{(0,i.X6Q)()&&"undefined"!=typeof console&&console[re](...Ce)},te={provide:J,useFactory:K,deps:[ce,i.R0b,[new i.FiY,de]]};let We=(()=>{class re{constructor(Ie){v.Z.registerVersion("angularfire",z.q4.full,"core"),v.Z.registerVersion("angularfire",z.q4.full,"app-compat"),v.Z.registerVersion("angular",i.q4F.full,Ie.toString())}static initializeApp(Ie,ke){return{ngModule:re,providers:[{provide:ce,useValue:Ie},{provide:de,useValue:ke}]}}}return re.\u0275fac=function(Ie){return new(Ie||re)(i.LFG(i.Lbi))},re.\u0275mod=i.oAB({type:re}),re.\u0275inj=i.cJS({providers:[te]}),re})();function $e(re,Ce,Ie,ke,Z){const[,ve,he]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===re)||[];if(ve)return function ot(re,Ce){try{return re.toString()===Ce.toString()}catch(Ie){return re===Ce}}(Z,he)||(ze("error",`${Ce} was already initialized on the ${Ie} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),ze("warn",{is:Z,was:he})),ve;{const De=ke();return globalThis.\u0275AngularfireInstanceCache.push([re,De,Z]),De}}const Ze=!!Dt.hot,ze=(re,...Ce)=>{(0,i.X6Q)()&&"undefined"!=typeof console&&console[re](...Ce)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Dt,Ve,R)=>{R.d(Ve,{q4:()=>ts,iC:()=>Qo,HU:()=>zl,vb:()=>jl,JM:()=>wl});var i=R(5e3),v=R(5867),z=R(5861),fe=R(9681),q=R(2090),Y=R(4859),J=R(1877),ce=R(8766);const de="@firebase/installations",K="0.5.12",te=`w:${K}`,We="FIS_v2",Ce=new q.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ie(P){return P instanceof q.ZR&&P.code.includes("request-failed")}function ke({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function Z(P){return{token:P.token,requestStatus:2,expiresIn:nt(P.expiresIn),creationTime:Date.now()}}function ve(P,j){return he.apply(this,arguments)}function he(){return(he=(0,z.Z)(function*(P,j){const _e=(yield j.json()).error;return Ce.create("request-failed",{requestName:P,serverCode:_e.code,serverMessage:_e.message,serverStatus:_e.status})})).apply(this,arguments)}function De({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function Be(P,{refreshToken:j}){const se=De(P);return se.append("Authorization",function rt(P){return`${We} ${P}`}(j)),se}function Ee(P){return je.apply(this,arguments)}function je(){return(je=(0,z.Z)(function*(P){const j=yield P();return j.status>=500&&j.status<600?P():j})).apply(this,arguments)}function nt(P){return Number(P.replace("s","000"))}function mt(P,j){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,z.Z)(function*({appConfig:P,heartbeatServiceProvider:j},{fid:se}){const _e=ke(P),Ge=De(P),st=j.getImmediate({optional:!0});if(st){const Nn=yield st.getHeartbeatsHeader();Nn&&Ge.append("x-firebase-client",Nn)}const $t={method:"POST",headers:Ge,body:JSON.stringify({fid:se,authVersion:We,appId:P.appId,sdkVersion:te})},an=yield Ee(()=>fetch(_e,$t));if(an.ok){const Nn=yield an.json();return{fid:Nn.fid||se,registrationStatus:2,refreshToken:Nn.refreshToken,authToken:Z(Nn.authToken)}}throw yield ve("Create Installation",an)})).apply(this,arguments)}function Ht(P){return new Promise(j=>{setTimeout(j,P)})}const Mt=/^[cdef][\w-]{21}$/;function Ye(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const se=function Le(P){return function sn(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return Mt.test(se)?se:""}catch(P){return""}}function ct(P){return`${P.appName}!${P.appId}`}const Se=new Map;function ht(P,j){const se=ct(P);Jt(se,j),function Jn(P,j){const se=function jn(){return!Tn&&"BroadcastChannel"in self&&(Tn=new BroadcastChannel("[Firebase] FID Change"),Tn.onmessage=P=>{Jt(P.data.key,P.data.fid)}),Tn}();se&&se.postMessage({key:P,fid:j}),function _s(){0===Se.size&&Tn&&(Tn.close(),Tn=null)}()}(se,j)}function Jt(P,j){const se=Se.get(P);if(se)for(const _e of se)_e(j)}let Tn=null;const Ct="firebase-installations-store";let $i=null;function Mi(){return $i||($i=(0,ce.X3)("firebase-installations-database",1,{upgrade:(P,j)=>{0===j&&P.createObjectStore(Ct)}})),$i}function ln(P,j){return In.apply(this,arguments)}function In(){return(In=(0,z.Z)(function*(P,j){const se=ct(P),Ge=(yield Mi()).transaction(Ct,"readwrite"),st=Ge.objectStore(Ct),xt=yield st.get(se);return yield st.put(j,se),yield Ge.done,(!xt||xt.fid!==j.fid)&&ht(P,j.fid),j})).apply(this,arguments)}function Ti(P){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,z.Z)(function*(P){const j=ct(P),_e=(yield Mi()).transaction(Ct,"readwrite");yield _e.objectStore(Ct).delete(j),yield _e.done})).apply(this,arguments)}function gt(P,j){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,z.Z)(function*(P,j){const se=ct(P),Ge=(yield Mi()).transaction(Ct,"readwrite"),st=Ge.objectStore(Ct),xt=yield st.get(se),$t=j(xt);return void 0===$t?yield st.delete(se):yield st.put($t,se),yield Ge.done,$t&&(!xt||xt.fid!==$t.fid)&&ht(P,$t.fid),$t})).apply(this,arguments)}function Ne(P){return it.apply(this,arguments)}function it(){return(it=(0,z.Z)(function*(P){let j;const se=yield gt(P.appConfig,_e=>{const Ge=Et(_e),st=zt(P,Ge);return j=st.registrationPromise,st.installationEntry});return""===se.fid?{installationEntry:yield j}:{installationEntry:se,registrationPromise:j}})).apply(this,arguments)}function Et(P){return Xt(P||{fid:Ye(),registrationStatus:0})}function zt(P,j){if(0===j.registrationStatus){if(!navigator.onLine)return{installationEntry:j,registrationPromise:Promise.reject(Ce.create("app-offline"))};const se={fid:j.fid,registrationStatus:1,registrationTime:Date.now()},_e=function Pt(P,j){return Wt.apply(this,arguments)}(P,se);return{installationEntry:se,registrationPromise:_e}}return 1===j.registrationStatus?{installationEntry:j,registrationPromise:Sn(P)}:{installationEntry:j}}function Wt(){return(Wt=(0,z.Z)(function*(P,j){try{const se=yield mt(P,j);return ln(P.appConfig,se)}catch(se){throw Ie(se)&&409===se.customData.serverCode?yield Ti(P.appConfig):yield ln(P.appConfig,{fid:j.fid,registrationStatus:0}),se}})).apply(this,arguments)}function Sn(P){return gi.apply(this,arguments)}function gi(){return(gi=(0,z.Z)(function*(P){let j=yield Ln(P.appConfig);for(;1===j.registrationStatus;)yield Ht(100),j=yield Ln(P.appConfig);if(0===j.registrationStatus){const{installationEntry:se,registrationPromise:_e}=yield Ne(P);return _e||se}return j})).apply(this,arguments)}function Ln(P){return gt(P,j=>{if(!j)throw Ce.create("installation-not-found");return Xt(j)})}function Xt(P){return function vi(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function zn(P,j){return on.apply(this,arguments)}function on(){return(on=(0,z.Z)(function*({appConfig:P,heartbeatServiceProvider:j},se){const _e=Cn(P,se),Ge=Be(P,se),st=j.getImmediate({optional:!0});if(st){const Nn=yield st.getHeartbeatsHeader();Nn&&Ge.append("x-firebase-client",Nn)}const $t={method:"POST",headers:Ge,body:JSON.stringify({installation:{sdkVersion:te,appId:P.appId}})},an=yield Ee(()=>fetch(_e,$t));if(an.ok)return Z(yield an.json());throw yield ve("Generate Auth Token",an)})).apply(this,arguments)}function Cn(P,{fid:j}){return`${ke(P)}/${j}/authTokens:generate`}function be(P){return we.apply(this,arguments)}function we(){return(we=(0,z.Z)(function*(P,j=!1){let se;const _e=yield gt(P.appConfig,st=>{if(!fn(st))throw Ce.create("not-registered");const xt=st.authToken;if(!j&&bi(xt))return st;if(1===xt.requestStatus)return se=ye(P,j),st;{if(!navigator.onLine)throw Ce.create("app-offline");const $t=pr(st);return se=yt(P,$t),$t}});return se?yield se:_e.authToken})).apply(this,arguments)}function ye(P,j){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,z.Z)(function*(P,j){let se=yield Me(P.appConfig);for(;1===se.authToken.requestStatus;)yield Ht(100),se=yield Me(P.appConfig);const _e=se.authToken;return 0===_e.requestStatus?be(P,j):_e})).apply(this,arguments)}function Me(P){return gt(P,j=>{if(!fn(j))throw Ce.create("not-registered");return function $n(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(j.authToken)?Object.assign(Object.assign({},j),{authToken:{requestStatus:0}}):j})}function yt(P,j){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,z.Z)(function*(P,j){try{const se=yield zn(P,j),_e=Object.assign(Object.assign({},j),{authToken:se});return yield ln(P.appConfig,_e),se}catch(se){if(!Ie(se)||401!==se.customData.serverCode&&404!==se.customData.serverCode){const _e=Object.assign(Object.assign({},j),{authToken:{requestStatus:0}});yield ln(P.appConfig,_e)}else yield Ti(P.appConfig);throw se}})).apply(this,arguments)}function fn(P){return void 0!==P&&2===P.registrationStatus}function bi(P){return 2===P.requestStatus&&!function ci(P){const j=Date.now();return j<P.creationTime||P.creationTime+P.expiresIn<j+36e5}(P)}function pr(P){const j={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:j})}function qt(){return(qt=(0,z.Z)(function*(P){const j=P,{installationEntry:se,registrationPromise:_e}=yield Ne(j);return _e?_e.catch(console.error):be(j).catch(console.error),se.fid})).apply(this,arguments)}function Or(){return(Or=(0,z.Z)(function*(P,j=!1){const se=P;return yield ar(se),(yield be(se,j)).token})).apply(this,arguments)}function ar(P){return di.apply(this,arguments)}function di(){return(di=(0,z.Z)(function*(P){const{registrationPromise:j}=yield Ne(P);j&&(yield j)})).apply(this,arguments)}function mi(P){return Ce.create("missing-app-config-values",{valueName:P})}const Zs="installations",jt=P=>{const j=P.getProvider("app").getImmediate(),se=function os(P){if(!P||!P.options)throw mi("App Configuration");if(!P.name)throw mi("App Name");const j=["projectId","apiKey","appId"];for(const se of j)if(!P.options[se])throw mi(se);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(j);return{app:j,appConfig:se,heartbeatServiceProvider:(0,fe._getProvider)(j,"heartbeat"),_delete:()=>Promise.resolve()}},_n=P=>{const j=P.getProvider("app").getImmediate(),se=(0,fe._getProvider)(j,Zs).getImmediate();return{getId:()=>function Gi(P){return qt.apply(this,arguments)}(se),getToken:Ge=>function Br(P){return Or.apply(this,arguments)}(se,Ge)}};(function Wn(){(0,fe._registerComponent)(new Y.wA(Zs,jt,"PUBLIC")),(0,fe._registerComponent)(new Y.wA("installations-internal",_n,"PRIVATE"))})(),(0,fe.registerVersion)(de,K),(0,fe.registerVersion)(de,K,"esm2017");const hi="@firebase/remote-config",Di=new q.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class as{constructor(j,se,_e,Ge){this.client=j,this.storage=se,this.storageCache=_e,this.logger=Ge}isCachedDataFresh(j,se){if(!se)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const _e=Date.now()-se,Ge=_e<=j;return this.logger.debug(`Config fetch cache check. Cache age millis: ${_e}. Cache max age millis (minimumFetchIntervalMillis setting): ${j}. Is cache hit: ${Ge}.`),Ge}fetch(j){var se=this;return(0,z.Z)(function*(){const[_e,Ge]=yield Promise.all([se.storage.getLastSuccessfulFetchTimestampMillis(),se.storage.getLastSuccessfulFetchResponse()]);if(Ge&&se.isCachedDataFresh(j.cacheMaxAgeMillis,_e))return Ge;j.eTag=Ge&&Ge.eTag;const st=yield se.client.fetch(j),xt=[se.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===st.status&&xt.push(se.storage.setLastSuccessfulFetchResponse(st)),yield Promise.all(xt),st})()}}function Gr(P=navigator){return P.languages&&P.languages[0]||P.language}class Ki{constructor(j,se,_e,Ge,st,xt){this.firebaseInstallations=j,this.sdkVersion=se,this.namespace=_e,this.projectId=Ge,this.apiKey=st,this.appId=xt}fetch(j){var se=this;return(0,z.Z)(function*(){var _e,Ge,st;const[xt,$t]=yield Promise.all([se.firebaseInstallations.getId(),se.firebaseInstallations.getToken()]),Nn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${se.projectId}/namespaces/${se.namespace}:fetch?key=${se.apiKey}`,An={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":j.eTag||"*"},yn={sdk_version:se.sdkVersion,app_instance_id:xt,app_instance_id_token:$t,app_id:se.appId,language_code:Gr()},Lr={method:"POST",headers:An,body:JSON.stringify(yn)},Ir=fetch(Nn,Lr),$a=new Promise((bo,xa)=>{j.signal.addEventListener(()=>{const El=new Error("The operation was aborted.");El.name="AbortError",xa(El)})});let Cl;try{yield Promise.race([Ir,$a]),Cl=yield Ir}catch(bo){let xa="fetch-client-network";throw"AbortError"===(null===(_e=bo)||void 0===_e?void 0:_e.name)&&(xa="fetch-timeout"),Di.create(xa,{originalErrorMessage:null===(Ge=bo)||void 0===Ge?void 0:Ge.message})}let Jo=Cl.status;const $l=Cl.headers.get("ETag")||void 0;let vo,Xo;if(200===Cl.status){let bo;try{bo=yield Cl.json()}catch(xa){throw Di.create("fetch-client-parse",{originalErrorMessage:null===(st=xa)||void 0===st?void 0:st.message})}vo=bo.entries,Xo=bo.state}if("INSTANCE_STATE_UNSPECIFIED"===Xo?Jo=500:"NO_CHANGE"===Xo?Jo=304:("NO_TEMPLATE"===Xo||"EMPTY_CONFIG"===Xo)&&(vo={}),304!==Jo&&200!==Jo)throw Di.create("fetch-status",{httpStatus:Jo});return{status:Jo,eTag:$l,config:vo}})()}}class Wr{constructor(j,se){this.client=j,this.storage=se}fetch(j){var se=this;return(0,z.Z)(function*(){const _e=(yield se.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return se.attemptFetch(j,_e)})()}attemptFetch(j,{throttleEndTimeMillis:se,backoffCount:_e}){var Ge=this;return(0,z.Z)(function*(){yield function Gs(P,j){return new Promise((se,_e)=>{const Ge=Math.max(j-Date.now(),0),st=setTimeout(se,Ge);P.addEventListener(()=>{clearTimeout(st),_e(Di.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}(j.signal,se);try{const st=yield Ge.client.fetch(j);return yield Ge.storage.deleteThrottleMetadata(),st}catch(st){if(!function bs(P){if(!(P instanceof q.ZR&&P.customData))return!1;const j=Number(P.customData.httpStatus);return 429===j||500===j||503===j||504===j}(st))throw st;const xt={throttleEndTimeMillis:Date.now()+(0,q.$s)(_e),backoffCount:_e+1};return yield Ge.storage.setThrottleMetadata(xt),Ge.attemptFetch(j,xt)}})()}}class Ws{constructor(j,se,_e,Ge,st){this.app=j,this._client=se,this._storageCache=_e,this._storage=Ge,this._logger=st,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function oo(P,j){var se;const _e=P.target.error||void 0;return Di.create(j,{originalErrorMessage:_e&&(null===(se=_e)||void 0===se?void 0:se.message)})}const _r="app_namespace_store";class ir{constructor(j,se,_e,Ge=function So(){return new Promise((P,j)=>{var se;try{const _e=indexedDB.open("firebase_remote_config",1);_e.onerror=Ge=>{j(oo(Ge,"storage-open"))},_e.onsuccess=Ge=>{P(Ge.target.result)},_e.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(_r,{keyPath:"compositeKey"})}}catch(_e){j(Di.create("storage-open",{originalErrorMessage:null===(se=_e)||void 0===se?void 0:se.message}))}})}()){this.appId=j,this.appName=se,this.namespace=_e,this.openDbPromise=Ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(j){return this.set("last_fetch_status",j)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(j){return this.set("last_successful_fetch_timestamp_millis",j)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(j){return this.set("last_successful_fetch_response",j)}getActiveConfig(){return this.get("active_config")}setActiveConfig(j){return this.set("active_config",j)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(j){return this.set("active_config_etag",j)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(j){return this.set("throttle_metadata",j)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(j){var se=this;return(0,z.Z)(function*(){const _e=yield se.openDbPromise;return new Promise((Ge,st)=>{var xt;const an=_e.transaction([_r],"readonly").objectStore(_r),Nn=se.createCompositeKey(j);try{const An=an.get(Nn);An.onerror=yn=>{st(oo(yn,"storage-get"))},An.onsuccess=yn=>{const Lr=yn.target.result;Ge(Lr?Lr.value:void 0)}}catch(An){st(Di.create("storage-get",{originalErrorMessage:null===(xt=An)||void 0===xt?void 0:xt.message}))}})})()}set(j,se){var _e=this;return(0,z.Z)(function*(){const Ge=yield _e.openDbPromise;return new Promise((st,xt)=>{var $t;const Nn=Ge.transaction([_r],"readwrite").objectStore(_r),An=_e.createCompositeKey(j);try{const yn=Nn.put({compositeKey:An,value:se});yn.onerror=Lr=>{xt(oo(Lr,"storage-set"))},yn.onsuccess=()=>{st()}}catch(yn){xt(Di.create("storage-set",{originalErrorMessage:null===($t=yn)||void 0===$t?void 0:$t.message}))}})})()}delete(j){var se=this;return(0,z.Z)(function*(){const _e=yield se.openDbPromise;return new Promise((Ge,st)=>{var xt;const an=_e.transaction([_r],"readwrite").objectStore(_r),Nn=se.createCompositeKey(j);try{const An=an.delete(Nn);An.onerror=yn=>{st(oo(yn,"storage-delete"))},An.onsuccess=()=>{Ge()}}catch(An){st(Di.create("storage-delete",{originalErrorMessage:null===(xt=An)||void 0===xt?void 0:xt.message}))}})})()}createCompositeKey(j){return[this.appId,this.appName,this.namespace,j].join()}}class qs{constructor(j){this.storage=j}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var j=this;return(0,z.Z)(function*(){const se=j.storage.getLastFetchStatus(),_e=j.storage.getLastSuccessfulFetchTimestampMillis(),Ge=j.storage.getActiveConfig(),st=yield se;st&&(j.lastFetchStatus=st);const xt=yield _e;xt&&(j.lastSuccessfulFetchTimestampMillis=xt);const $t=yield Ge;$t&&(j.activeConfig=$t)})()}setLastFetchStatus(j){return this.lastFetchStatus=j,this.storage.setLastFetchStatus(j)}setLastSuccessfulFetchTimestampMillis(j){return this.lastSuccessfulFetchTimestampMillis=j,this.storage.setLastSuccessfulFetchTimestampMillis(j)}setActiveConfig(j){return this.activeConfig=j,this.storage.setActiveConfig(j)}}function lo(){return ls.apply(this,arguments)}function ls(){return(ls=(0,z.Z)(function*(){if(!(0,q.hl)())return!1;try{return yield(0,q.eu)()}catch(P){return!1}})).apply(this,arguments)}!function Ls(){(0,fe._registerComponent)(new Y.wA("remote-config",function P(j,{instanceIdentifier:se}){const _e=j.getProvider("app").getImmediate(),Ge=j.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Di.create("registration-window");if(!(0,q.hl)())throw Di.create("indexed-db-unavailable");const{projectId:st,apiKey:xt,appId:$t}=_e.options;if(!st)throw Di.create("registration-project-id");if(!xt)throw Di.create("registration-api-key");if(!$t)throw Di.create("registration-app-id");const an=new ir($t,_e.name,se=se||"firebase"),Nn=new qs(an),An=new J.Yd(hi);An.logLevel=J.in.ERROR;const yn=new Ki(Ge,fe.SDK_VERSION,se,st,xt,$t),Lr=new Wr(yn,an),Ir=new as(Lr,an,Nn,An),$a=new Ws(_e,Ir,Nn,an,An);return function Gt(P){const j=(0,q.m9)(P);j._initializePromise||(j._initializePromise=j._storageCache.loadFromStorage().then(()=>{j._isInitializationComplete=!0}))}($a),$a},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(hi,"0.3.11"),(0,fe.registerVersion)(hi,"0.3.11","esm2017")}();const jo="/firebase-messaging-sw.js",uo="/firebase-cloud-messaging-push-scope",us="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rr="google.c.a.c_id",Cs="google.c.a.c_l",qr="google.c.a.ts",Kr="google.c.a.e";var Es=(()=>{return(P=Es||(Es={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",Es;var P})();function Yi(P){const j=new Uint8Array(P);return btoa(String.fromCharCode(...j)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yr(P){const se=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),_e=atob(se),Ge=new Uint8Array(_e.length);for(let st=0;st<_e.length;++st)Ge[st]=_e.charCodeAt(st);return Ge}const Hr="fcm_token_details_db",Qr="fcm_token_object_Store";function Ys(P){return cs.apply(this,arguments)}function cs(){return cs=(0,z.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(st=>st.name).includes(Hr))return null;let j=null;return(yield(0,ce.X3)(Hr,5,{upgrade:(_e=(0,z.Z)(function*(Ge,st,xt,$t){var an;if(st<2||!Ge.objectStoreNames.contains(Qr))return;const Nn=$t.objectStore(Qr),An=yield Nn.index("fcmSenderId").get(P);if(yield Nn.clear(),An)if(2===st){const yn=An;if(!yn.auth||!yn.p256dh||!yn.endpoint)return;j={token:yn.fcmToken,createTime:null!==(an=yn.createTime)&&void 0!==an?an:Date.now(),subscriptionOptions:{auth:yn.auth,p256dh:yn.p256dh,endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:"string"==typeof yn.vapidKey?yn.vapidKey:Yi(yn.vapidKey)}}}else if(3===st){const yn=An;j={token:yn.fcmToken,createTime:yn.createTime,subscriptionOptions:{auth:Yi(yn.auth),p256dh:Yi(yn.p256dh),endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:Yi(yn.vapidKey)}}}else if(4===st){const yn=An;j={token:yn.fcmToken,createTime:yn.createTime,subscriptionOptions:{auth:Yi(yn.auth),p256dh:Yi(yn.p256dh),endpoint:yn.endpoint,swScope:yn.swScope,vapidKey:Yi(yn.vapidKey)}}}}),function(st,xt,$t,an){return _e.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Hr),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),zo(j)?j:null;var _e}),cs.apply(this,arguments)}function zo(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:j}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof j.auth&&j.auth.length>0&&"string"==typeof j.p256dh&&j.p256dh.length>0&&"string"==typeof j.endpoint&&j.endpoint.length>0&&"string"==typeof j.swScope&&j.swScope.length>0&&"string"==typeof j.vapidKey&&j.vapidKey.length>0}const Hn="firebase-messaging-store";let Ts=null;function Fi(){return Ts||(Ts=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(P,j)=>{0===j&&P.createObjectStore(Hn)}})),Ts}function B(P){return oe.apply(this,arguments)}function oe(){return(oe=(0,z.Z)(function*(P){const j=It(P),_e=yield(yield Fi()).transaction(Hn).objectStore(Hn).get(j);if(_e)return _e;{const Ge=yield Ys(P.appConfig.senderId);if(Ge)return yield H(P,Ge),Ge}})).apply(this,arguments)}function H(P,j){return ue.apply(this,arguments)}function ue(){return(ue=(0,z.Z)(function*(P,j){const se=It(P),Ge=(yield Fi()).transaction(Hn,"readwrite");return yield Ge.objectStore(Hn).put(j,se),yield Ge.done,j})).apply(this,arguments)}function xe(P){return lt.apply(this,arguments)}function lt(){return(lt=(0,z.Z)(function*(P){const j=It(P),_e=(yield Fi()).transaction(Hn,"readwrite");yield _e.objectStore(Hn).delete(j),yield _e.done})).apply(this,arguments)}function It({appConfig:P}){return P.appId}const U=new q.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function L(P,j){return O.apply(this,arguments)}function O(){return(O=(0,z.Z)(function*(P,j){var se;const _e=yield wi(P),Ge=Jr(j),st={method:"POST",headers:_e,body:JSON.stringify(Ge)};let xt;try{xt=yield(yield fetch(Kt(P.appConfig),st)).json()}catch($t){throw U.create("token-subscribe-failed",{errorInfo:null===(se=$t)||void 0===se?void 0:se.toString()})}if(xt.error)throw U.create("token-subscribe-failed",{errorInfo:xt.error.message});if(!xt.token)throw U.create("token-subscribe-no-token");return xt.token})).apply(this,arguments)}function ne(P,j){return et.apply(this,arguments)}function et(){return(et=(0,z.Z)(function*(P,j){var se;const _e=yield wi(P),Ge=Jr(j.subscriptionOptions),st={method:"PATCH",headers:_e,body:JSON.stringify(Ge)};let xt;try{xt=yield(yield fetch(`${Kt(P.appConfig)}/${j.token}`,st)).json()}catch($t){throw U.create("token-update-failed",{errorInfo:null===(se=$t)||void 0===se?void 0:se.toString()})}if(xt.error)throw U.create("token-update-failed",{errorInfo:xt.error.message});if(!xt.token)throw U.create("token-update-no-token");return xt.token})).apply(this,arguments)}function Nt(P,j){return gn.apply(this,arguments)}function gn(){return(gn=(0,z.Z)(function*(P,j){var se;const Ge={method:"DELETE",headers:yield wi(P)};try{const xt=yield(yield fetch(`${Kt(P.appConfig)}/${j}`,Ge)).json();if(xt.error)throw U.create("token-unsubscribe-failed",{errorInfo:xt.error.message})}catch(st){throw U.create("token-unsubscribe-failed",{errorInfo:null===(se=st)||void 0===se?void 0:se.toString()})}})).apply(this,arguments)}function Kt({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function wi(P){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,z.Z)(function*({appConfig:P,installations:j}){const se=yield j.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${se}`})})).apply(this,arguments)}function Jr({p256dh:P,auth:j,endpoint:se,vapidKey:_e}){const Ge={web:{endpoint:se,auth:j,p256dh:P}};return _e!==us&&(Ge.web.applicationPubKey=_e),Ge}const Qs=6048e5;function ds(P){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,z.Z)(function*(P){const j=yield Vs(P.swRegistration,P.vapidKey),se={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:j.endpoint,auth:Yi(j.getKey("auth")),p256dh:Yi(j.getKey("p256dh"))},_e=yield B(P.firebaseDependencies);if(_e){if(Na(_e.subscriptionOptions,se))return Date.now()>=_e.createTime+Qs?qn(P,{token:_e.token,createTime:Date.now(),subscriptionOptions:se}):_e.token;try{yield Nt(P.firebaseDependencies,_e.token)}catch(Ge){console.warn(Ge)}return Ai(P.firebaseDependencies,se)}return Ai(P.firebaseDependencies,se)})).apply(this,arguments)}function ll(P){return St.apply(this,arguments)}function St(){return(St=(0,z.Z)(function*(P){const j=yield B(P.firebaseDependencies);j&&(yield Nt(P.firebaseDependencies,j.token),yield xe(P.firebaseDependencies));const se=yield P.swRegistration.pushManager.getSubscription();return!se||se.unsubscribe()})).apply(this,arguments)}function qn(P,j){return ha.apply(this,arguments)}function ha(){return(ha=(0,z.Z)(function*(P,j){try{const se=yield ne(P.firebaseDependencies,j),_e=Object.assign(Object.assign({},j),{token:se,createTime:Date.now()});return yield H(P.firebaseDependencies,_e),se}catch(se){throw yield ll(P),se}})).apply(this,arguments)}function Ai(P,j){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,z.Z)(function*(P,j){const _e={token:yield L(P,j),createTime:Date.now(),subscriptionOptions:j};return yield H(P,_e),_e.token})).apply(this,arguments)}function Vs(P,j){return hs.apply(this,arguments)}function hs(){return(hs=(0,z.Z)(function*(P,j){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yr(j)})})).apply(this,arguments)}function Na(P,j){return j.vapidKey===P.vapidKey&&j.endpoint===P.endpoint&&j.auth===P.auth&&j.p256dh===P.p256dh}function Js(P){const j={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function au(P,j){if(!j.notification)return;P.notification={};const se=j.notification.title;se&&(P.notification.title=se);const _e=j.notification.body;_e&&(P.notification.body=_e);const Ge=j.notification.image;Ge&&(P.notification.image=Ge)}(j,P),function jr(P,j){!j.data||(P.data=j.data)}(j,P),function Oo(P,j){var se,_e,Ge,st,xt;if(!j.fcmOptions&&!(null===(se=j.notification)||void 0===se?void 0:se.click_action))return;P.fcmOptions={};const $t=null!==(Ge=null===(_e=j.fcmOptions)||void 0===_e?void 0:_e.link)&&void 0!==Ge?Ge:null===(st=j.notification)||void 0===st?void 0:st.click_action;$t&&(P.fcmOptions.link=$t);const an=null===(xt=j.fcmOptions)||void 0===xt?void 0:xt.analytics_label;an&&(P.fcmOptions.analyticsLabel=an)}(j,P),j}function ho(P){return"object"==typeof P&&!!P&&rr in P}function sr(P,j){const se=[];for(let _e=0;_e<P.length;_e++)se.push(P.charAt(_e)),_e<j.length&&se.push(j.charAt(_e));return se.join("")}function fa(P){return U.create("missing-app-config-values",{valueName:P})}sr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ko{constructor(j,se,_e){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ge=function Xs(P){if(!P||!P.options)throw fa("App Configuration Object");if(!P.name)throw fa("App Name");const j=["projectId","apiKey","appId","messagingSenderId"],{options:se}=P;for(const _e of j)if(!se[_e])throw fa(_e);return{appName:P.name,projectId:se.projectId,apiKey:se.apiKey,appId:se.appId,senderId:se.messagingSenderId}}(j);this.firebaseDependencies={app:j,appConfig:Ge,installations:se,analyticsProvider:_e}}_delete(){return Promise.resolve()}}function Is(P){return ul.apply(this,arguments)}function ul(){return(ul=(0,z.Z)(function*(P){var j;try{P.swRegistration=yield navigator.serviceWorker.register(jo,{scope:uo}),P.swRegistration.update().catch(()=>{})}catch(se){throw U.create("failed-service-worker-registration",{browserErrorMessage:null===(j=se)||void 0===j?void 0:j.message})}})).apply(this,arguments)}function $o(P,j){return pa.apply(this,arguments)}function pa(){return(pa=(0,z.Z)(function*(P,j){if(!j&&!P.swRegistration&&(yield Is(P)),j||!P.swRegistration){if(!(j instanceof ServiceWorkerRegistration))throw U.create("invalid-sw-registration");P.swRegistration=j}})).apply(this,arguments)}function cl(P,j){return fo.apply(this,arguments)}function fo(){return(fo=(0,z.Z)(function*(P,j){j?P.vapidKey=j:P.vapidKey||(P.vapidKey=us)})).apply(this,arguments)}function eo(){return(eo=(0,z.Z)(function*(P,j){if(!navigator)throw U.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw U.create("permission-blocked");return yield cl(P,null==j?void 0:j.vapidKey),yield $o(P,null==j?void 0:j.serviceWorkerRegistration),ds(P)})).apply(this,arguments)}function Vu(P,j,se){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,z.Z)(function*(P,j,se){const _e=Ro(j);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(_e,{message_id:se[rr],message_name:se[Cs],message_time:se[qr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ro(P){switch(P){case Es.NOTIFICATION_CLICKED:return"notification_open";case Es.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ga(){return(ga=(0,z.Z)(function*(P,j){const se=j.data;if(!se.isFirebaseMessaging)return;P.onMessageHandler&&se.messageType===Es.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Js(se)):P.onMessageHandler.next(Js(se)));const _e=se.data;ho(_e)&&"1"===_e[Kr]&&(yield Vu(P,se.messageType,_e))})).apply(this,arguments)}const ma="@firebase/messaging",La=P=>{const j=new ko(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",se=>function Zo(P,j){return ga.apply(this,arguments)}(j,se)),j},Go=P=>{const j=P.getProvider("messaging").getImmediate();return{getToken:_e=>function Fa(P,j){return eo.apply(this,arguments)}(j,_e)}};function hl(){return cr.apply(this,arguments)}function cr(){return(cr=(0,z.Z)(function*(){try{yield(0,q.eu)()}catch(P){return!1}return"undefined"!=typeof window&&(0,q.hl)()&&(0,q.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function dl(){(0,fe._registerComponent)(new Y.wA("messaging",La,"PUBLIC")),(0,fe._registerComponent)(new Y.wA("messaging-internal",Go,"PRIVATE")),(0,fe.registerVersion)(ma,"0.9.16"),(0,fe.registerVersion)(ma,"0.9.16","esm2017")}();const Po="analytics",Wo="firebase_id",Ba="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",po="https://www.googletagmanager.com/gtag/js",Ii=new J.Yd("@firebase/analytics");function Us(P){return Promise.all(P.map(j=>j.catch(se=>se)))}function ya(P,j){const se=document.createElement("script");se.src=`${po}?l=${P}&id=${j}`,se.async=!0,document.head.appendChild(se)}function va(P,j,se,_e,Ge,st){return No.apply(this,arguments)}function No(){return(No=(0,z.Z)(function*(P,j,se,_e,Ge,st){const xt=_e[Ge];try{if(xt)yield j[xt];else{const an=(yield Us(se)).find(Nn=>Nn.measurementId===Ge);an&&(yield j[an.appId])}}catch($t){Ii.error($t)}P("config",Ge,st)})).apply(this,arguments)}function uu(P,j,se,_e,Ge){return to.apply(this,arguments)}function to(){return(to=(0,z.Z)(function*(P,j,se,_e,Ge){try{let st=[];if(Ge&&Ge.send_to){let xt=Ge.send_to;Array.isArray(xt)||(xt=[xt]);const $t=yield Us(se);for(const an of xt){const Nn=$t.find(yn=>yn.measurementId===an),An=Nn&&j[Nn.appId];if(!An){st=[];break}st.push(An)}}0===st.length&&(st=Object.values(j)),yield Promise.all(st),P("event",_e,Ge||{})}catch(st){Ii.error(st)}})).apply(this,arguments)}function Fl(){const P=window.document.getElementsByTagName("script");for(const j of Object.values(P))if(j.src&&j.src.includes(po))return j;return null}const zr=new q.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qo=new class Hu{constructor(j={},se=1e3){this.throttleMetadata=j,this.intervalMillis=se}getThrottleMetadata(j){return this.throttleMetadata[j]}setThrottleMetadata(j,se){this.throttleMetadata[j]=se}deleteThrottleMetadata(j){delete this.throttleMetadata[j]}};function ju(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function Ua(P){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,z.Z)(function*(P){var j;const{appId:se,apiKey:_e}=P,Ge={method:"GET",headers:ju(_e)},st=Ba.replace("{app-id}",se),xt=yield fetch(st,Ge);if(200!==xt.status&&304!==xt.status){let $t="";try{const an=yield xt.json();(null===(j=an.error)||void 0===j?void 0:j.message)&&($t=an.error.message)}catch(an){}throw zr.create("config-fetch-failed",{httpStatus:xt.status,responseMessage:$t})}return xt.json()})).apply(this,arguments)}function gl(P){return ml.apply(this,arguments)}function ml(){return(ml=(0,z.Z)(function*(P,j=qo,se){const{appId:_e,apiKey:Ge,measurementId:st}=P.options;if(!_e)throw zr.create("no-app-id");if(!Ge){if(st)return{measurementId:st,appId:_e};throw zr.create("no-api-key")}const xt=j.getThrottleMetadata(_e)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$t=new Ca;return setTimeout((0,z.Z)(function*(){$t.abort()}),void 0!==se?se:6e4),wa({appId:_e,apiKey:Ge,measurementId:st},xt,$t,j)})).apply(this,arguments)}function wa(P,j,se){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,z.Z)(function*(P,{throttleEndTimeMillis:j,backoffCount:se},_e,Ge=qo){var st,xt;const{appId:$t,measurementId:an}=P;try{yield _l(_e,j)}catch(Nn){if(an)return Ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${an} provided in the "measurementId" field in the local Firebase config. [${null===(st=Nn)||void 0===st?void 0:st.message}]`),{appId:$t,measurementId:an};throw Nn}try{const Nn=yield Ua(P);return Ge.deleteThrottleMetadata($t),Nn}catch(Nn){const An=Nn;if(!zu(An)){if(Ge.deleteThrottleMetadata($t),an)return Ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${an} provided in the "measurementId" field in the local Firebase config. [${null==An?void 0:An.message}]`),{appId:$t,measurementId:an};throw Nn}const yn=503===Number(null===(xt=null==An?void 0:An.customData)||void 0===xt?void 0:xt.httpStatus)?(0,q.$s)(se,Ge.intervalMillis,30):(0,q.$s)(se,Ge.intervalMillis),Lr={throttleEndTimeMillis:Date.now()+yn,backoffCount:se+1};return Ge.setThrottleMetadata($t,Lr),Ii.debug(`Calling attemptFetch again in ${yn} millis`),wa(P,Lr,_e,Ge)}})).apply(this,arguments)}function _l(P,j){return new Promise((se,_e)=>{const Ge=Math.max(j-Date.now(),0),st=setTimeout(se,Ge);P.addEventListener(()=>{clearTimeout(st),_e(zr.create("fetch-throttle",{throttleEndTimeMillis:j}))})})}function zu(P){if(!(P instanceof q.ZR&&P.customData))return!1;const j=Number(P.customData.httpStatus);return 429===j||500===j||503===j||504===j}class Ca{constructor(){this.listeners=[]}addEventListener(j){this.listeners.push(j)}abort(){this.listeners.forEach(j=>j())}}let ja,Bt;function M(){return(M=(0,z.Z)(function*(P,j,se,_e,Ge){if(Ge&&Ge.global)P("event",se,_e);else{const st=yield j;P("event",se,Object.assign(Object.assign({},_e),{send_to:st}))}})).apply(this,arguments)}function Vn(P){Bt=P}function rn(P){ja=P}function ii(){return kn.apply(this,arguments)}function kn(){return(kn=(0,z.Z)(function*(){var P;if(!(0,q.hl)())return Ii.warn(zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,q.eu)()}catch(j){return Ii.warn(zr.create("indexeddb-unavailable",{errorInfo:null===(P=j)||void 0===P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function Xr(){return(Xr=(0,z.Z)(function*(P,j,se,_e,Ge,st,xt){var $t;const an=gl(P);an.then(Ir=>{se[Ir.measurementId]=Ir.appId,P.options.measurementId&&Ir.measurementId!==P.options.measurementId&&Ii.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${Ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ir=>Ii.error(Ir)),j.push(an);const Nn=ii().then(Ir=>{if(Ir)return _e.getId()}),[An,yn]=yield Promise.all([an,Nn]);Fl()||ya(st,An.measurementId),Bt&&(Ge("consent","default",Bt),Vn(void 0)),Ge("js",new Date);const Lr=null!==($t=null==xt?void 0:xt.config)&&void 0!==$t?$t:{};return Lr.origin="firebase",Lr.update=!0,null!=yn&&(Lr[Wo]=yn),Ge("config",An.measurementId,Lr),ja&&(Ge("set",ja),rn(void 0)),An.measurementId})).apply(this,arguments)}class pi{constructor(j){this.app=j}_delete(){return delete yi[this.app.options.appId],Promise.resolve()}}let yi={},es=[];const $r={};let pu,ut,yr="dataLayer",Ea=!1;function ai(P,j,se){!function Si(){const P=[];if((0,q.ru)()&&P.push("This is a browser extension environment."),(0,q.zI)()||P.push("Cookies are not available."),P.length>0){const j=P.map((_e,Ge)=>`(${Ge+1}) ${_e}`).join(" "),se=zr.create("invalid-analytics-context",{errorInfo:j});Ii.warn(se.message)}}();const _e=P.options.appId;if(!_e)throw zr.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw zr.create("no-api-key");Ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yi[_e])throw zr.create("already-exists",{id:_e});if(!Ea){!function Nl(P){let j=[];Array.isArray(window[P])?j=window[P]:window[P]=j}(yr);const{wrappedGtag:st,gtagCore:xt}=function du(P,j,se,_e,Ge){let st=function(...xt){window[_e].push(arguments)};return window[Ge]&&"function"==typeof window[Ge]&&(st=window[Ge]),window[Ge]=function cu(P,j,se,_e){function st(){return(st=(0,z.Z)(function*(xt,$t,an){try{"event"===xt?yield uu(P,j,se,$t,an):"config"===xt?yield va(P,j,se,_e,$t,an):"consent"===xt?P("consent","update",an):P("set",$t)}catch(Nn){Ii.error(Nn)}})).apply(this,arguments)}return function Ge(xt,$t,an){return st.apply(this,arguments)}}(st,P,j,se),{gtagCore:st,wrappedGtag:window[Ge]}}(yi,es,$r,yr,"gtag");ut=st,pu=xt,Ea=!0}return yi[_e]=function _i(P,j,se,_e,Ge,st,xt){return Xr.apply(this,arguments)}(P,es,$r,j,pu,yr,se),new pi(P)}function un(){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,z.Z)(function*(){if((0,q.ru)()||!(0,q.zI)()||!(0,q.hl)())return!1;try{return yield(0,q.eu)()}catch(P){return!1}})).apply(this,arguments)}const vl="@firebase/analytics";!function ki(){(0,fe._registerComponent)(new Y.wA(Po,(j,{options:se})=>ai(j.getProvider("app").getImmediate(),j.getProvider("installations-internal").getImmediate(),se),"PUBLIC")),(0,fe._registerComponent)(new Y.wA("analytics-internal",function P(j){try{const se=j.getProvider(Po).getImmediate();return{logEvent:(_e,Ge,st)=>function Vl(P,j,se,_e){P=(0,q.m9)(P),function hu(P,j,se,_e,Ge){return M.apply(this,arguments)}(ut,yi[P.app.options.appId],j,se,_e).catch(Ge=>Ii.error(Ge))}(se,_e,Ge,st)}}catch(se){throw zr.create("interop-component-reg-failed",{reason:se})}},"PRIVATE")),(0,fe.registerVersion)(vl,"0.8.0"),(0,fe.registerVersion)(vl,"0.8.0","esm2017")}();var Hs=R(4408),mo=R(7565);const Zu=new class bl extends mo.v{}(class vr extends Hs.o{constructor(j,se){super(j,se),this.scheduler=j,this.work=se}schedule(j,se=0){return se>0?super.schedule(j,se):(this.delay=se,this.state=j,this.scheduler.flush(this),this)}execute(j,se){return se>0||this.closed?super.execute(j,se):this._execute(j,se)}requestAsyncId(j,se,_e=0){return null!=_e&&_e>0||null==_e&&this.delay>0?super.requestAsyncId(j,se,_e):j.flush(this)}});var Gu=R(4986),_u=R(8505),fs=R(9468),Rc=R(5363);const ts=new i.GfV("7.2.1"),Ia="__angularfire_symbol__analyticsIsSupportedValue",_o="__angularfire_symbol__analyticsIsSupported",Bl="__angularfire_symbol__remoteConfigIsSupportedValue",js="__angularfire_symbol__remoteConfigIsSupported",Ul="__angularfire_symbol__messagingIsSupportedValue",Wu="__angularfire_symbol__messagingIsSupported";function wl(P,j,se){if(j){if(1===j.length)return j[0];const st=j.filter(xt=>xt.app===se);if(1===st.length)return st[0]}return se.container.getProvider(P).getImmediate({optional:!0})}globalThis[_o]||(globalThis[_o]=un().then(P=>globalThis[Ia]=P).catch(()=>globalThis[Ia]=!1)),globalThis[Wu]||(globalThis[Wu]=hl().then(P=>globalThis[Ul]=P).catch(()=>globalThis[Ul]=!1)),globalThis[js]||(globalThis[js]=lo().then(P=>globalThis[Bl]=P).catch(()=>globalThis[Bl]=!1));const jl=(P,j)=>{const se=j?[j]:(0,v.C6)(),_e=[];return se.forEach(Ge=>{Ge.container.getProvider(P).instances.forEach(xt=>{_e.includes(xt)||_e.push(xt)})}),_e};function Sa(){}class Yo{constructor(j,se=Zu){this.zone=j,this.delegate=se}now(){return this.delegate.now()}schedule(j,se,_e){const Ge=this.zone;return this.delegate.schedule(function(xt){Ge.runGuarded(()=>{j.apply(this,[xt])})},se,_e)}}class za{constructor(j){this.zone=j,this.task=null}call(j,se){const _e=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sa,{},Sa,Sa)),se.pipe((0,_u.b)({next:_e,complete:_e,error:_e})).subscribe(j).add(_e)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zl=(()=>{class P{constructor(se){this.ngZone=se,this.outsideAngular=se.runOutsideAngular(()=>new Yo(Zone.current)),this.insideAngular=se.run(()=>new Yo(Zone.current,Gu.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(se){return new(se||P)(i.LFG(i.R0b))},P.\u0275prov=i.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function Fo(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function Qo(P){return Fo(),function yo(P){return function(se){return(se=se.lift(new za(P.ngZone))).pipe((0,fs.R)(P.outsideAngular),(0,Rc.Q)(P.insideAngular))}}(Fo())(P)}},2090:(Dt,Ve,R)=>{R.d(Ve,{$s:()=>vi,BH:()=>We,G6:()=>De,L:()=>ce,LL:()=>Qe,Sg:()=>$e,UG:()=>ze,US:()=>Y,ZB:()=>ee,ZR:()=>mt,b$:()=>Ie,eu:()=>Ee,hl:()=>Be,jU:()=>re,m9:()=>Cn,ne:()=>Mi,pd:()=>Ct,r3:()=>qe,ru:()=>Ce,tV:()=>de,uI:()=>Ze,vZ:()=>Tn,w1:()=>Z,xO:()=>or,xb:()=>Jt,z$:()=>ot,zI:()=>je,zd:()=>er});const fe=function(be){const we=[];let ye=0;for(let Oe=0;Oe<be.length;Oe++){let Me=be.charCodeAt(Oe);Me<128?we[ye++]=Me:Me<2048?(we[ye++]=Me>>6|192,we[ye++]=63&Me|128):55296==(64512&Me)&&Oe+1<be.length&&56320==(64512&be.charCodeAt(Oe+1))?(Me=65536+((1023&Me)<<10)+(1023&be.charCodeAt(++Oe)),we[ye++]=Me>>18|240,we[ye++]=Me>>12&63|128,we[ye++]=Me>>6&63|128,we[ye++]=63&Me|128):(we[ye++]=Me>>12|224,we[ye++]=Me>>6&63|128,we[ye++]=63&Me|128)}return we},Y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,we){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ye=we?this.byteToCharMapWebSafe_:this.byteToCharMap_,Oe=[];for(let Me=0;Me<be.length;Me+=3){const yt=be[Me],Zt=Me+1<be.length,fn=Zt?be[Me+1]:0,bi=Me+2<be.length,ci=bi?be[Me+2]:0;let Gi=(15&fn)<<2|ci>>6,qt=63&ci;bi||(qt=64,Zt||(Gi=64)),Oe.push(ye[yt>>2],ye[(3&yt)<<4|fn>>4],ye[Gi],ye[qt])}return Oe.join("")},encodeString(be,we){return this.HAS_NATIVE_SUPPORT&&!we?btoa(be):this.encodeByteArray(fe(be),we)},decodeString(be,we){return this.HAS_NATIVE_SUPPORT&&!we?atob(be):function(be){const we=[];let ye=0,Oe=0;for(;ye<be.length;){const Me=be[ye++];if(Me<128)we[Oe++]=String.fromCharCode(Me);else if(Me>191&&Me<224){const yt=be[ye++];we[Oe++]=String.fromCharCode((31&Me)<<6|63&yt)}else if(Me>239&&Me<365){const bi=((7&Me)<<18|(63&be[ye++])<<12|(63&be[ye++])<<6|63&be[ye++])-65536;we[Oe++]=String.fromCharCode(55296+(bi>>10)),we[Oe++]=String.fromCharCode(56320+(1023&bi))}else{const yt=be[ye++],Zt=be[ye++];we[Oe++]=String.fromCharCode((15&Me)<<12|(63&yt)<<6|63&Zt)}}return we.join("")}(this.decodeStringToByteArray(be,we))},decodeStringToByteArray(be,we){this.init_();const ye=we?this.charToByteMapWebSafe_:this.charToByteMap_,Oe=[];for(let Me=0;Me<be.length;){const yt=ye[be.charAt(Me++)],fn=Me<be.length?ye[be.charAt(Me)]:0;++Me;const ci=Me<be.length?ye[be.charAt(Me)]:64;++Me;const $n=Me<be.length?ye[be.charAt(Me)]:64;if(++Me,null==yt||null==fn||null==ci||null==$n)throw Error();Oe.push(yt<<2|fn>>4),64!==ci&&(Oe.push(fn<<4&240|ci>>2),64!==$n&&Oe.push(ci<<6&192|$n))}return Oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}},ce=function(be){return function(be){const we=fe(be);return Y.encodeByteArray(we,!0)}(be).replace(/\./g,"")},de=function(be){try{return Y.decodeString(be,!0)}catch(we){console.error("base64Decode failed: ",we)}return null};function ee(be,we){if(!(we instanceof Object))return we;switch(we.constructor){case Date:return new Date(we.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return we}for(const ye in we)!we.hasOwnProperty(ye)||!te(ye)||(be[ye]=ee(be[ye],we[ye]));return be}function te(be){return"__proto__"!==be}class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((we,ye)=>{this.resolve=we,this.reject=ye})}wrapCallback(we){return(ye,Oe)=>{ye?this.reject(ye):this.resolve(Oe),"function"==typeof we&&(this.promise.catch(()=>{}),1===we.length?we(ye):we(ye,Oe))}}}function $e(be,we){if(be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Oe=we||"demo-project",Me=be.iat||0,yt=be.sub||be.user_id;if(!yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Zt=Object.assign({iss:`https://securetoken.google.com/${Oe}`,aud:Oe,iat:Me,exp:Me+3600,auth_time:Me,sub:yt,user_id:yt,firebase:{sign_in_provider:"custom",identities:{}}},be);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(Zt)),""].join(".")}function ot(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ot())}function ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(be){return!1}}function re(){return"object"==typeof self&&self.self===self}function Ce(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function Ie(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Z(){const be=ot();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function De(){return!ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Be(){return"object"==typeof indexedDB}function Ee(){return new Promise((be,we)=>{try{let ye=!0;const Oe="validate-browser-context-for-indexeddb-analytics-module",Me=self.indexedDB.open(Oe);Me.onsuccess=()=>{Me.result.close(),ye||self.indexedDB.deleteDatabase(Oe),be(!0)},Me.onupgradeneeded=()=>{ye=!1},Me.onerror=()=>{var yt;we((null===(yt=Me.error)||void 0===yt?void 0:yt.message)||"")}}catch(ye){we(ye)}})}function je(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class mt extends Error{constructor(we,ye,Oe){super(ye),this.code=we,this.customData=Oe,this.name="FirebaseError",Object.setPrototypeOf(this,mt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(we,ye,Oe){this.service=we,this.serviceName=ye,this.errors=Oe}create(we,...ye){const Oe=ye[0]||{},Me=`${this.service}/${we}`,yt=this.errors[we],Zt=yt?function Ht(be,we){return be.replace(sn,(ye,Oe)=>{const Me=we[Oe];return null!=Me?String(Me):`<${Oe}?>`})}(yt,Oe):"Error";return new mt(Me,`${this.serviceName}: ${Zt} (${Me}).`,Oe)}}const sn=/\{\$([^}]+)}/g;function qe(be,we){return Object.prototype.hasOwnProperty.call(be,we)}function Jt(be){for(const we in be)if(Object.prototype.hasOwnProperty.call(be,we))return!1;return!0}function Tn(be,we){if(be===we)return!0;const ye=Object.keys(be),Oe=Object.keys(we);for(const Me of ye){if(!Oe.includes(Me))return!1;const yt=be[Me],Zt=we[Me];if(jn(yt)&&jn(Zt)){if(!Tn(yt,Zt))return!1}else if(yt!==Zt)return!1}for(const Me of Oe)if(!ye.includes(Me))return!1;return!0}function jn(be){return null!==be&&"object"==typeof be}function or(be){const we=[];for(const[ye,Oe]of Object.entries(be))Array.isArray(Oe)?Oe.forEach(Me=>{we.push(encodeURIComponent(ye)+"="+encodeURIComponent(Me))}):we.push(encodeURIComponent(ye)+"="+encodeURIComponent(Oe));return we.length?"&"+we.join("&"):""}function er(be){const we={};return be.replace(/^\?/,"").split("&").forEach(Oe=>{if(Oe){const[Me,yt]=Oe.split("=");we[decodeURIComponent(Me)]=decodeURIComponent(yt)}}),we}function Ct(be){const we=be.indexOf("?");if(!we)return"";const ye=be.indexOf("#",we);return be.substring(we,ye>0?ye:void 0)}function Mi(be,we){const ye=new ln(be,we);return ye.subscribe.bind(ye)}class ln{constructor(we,ye){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ye,this.task.then(()=>{we(this)}).catch(Oe=>{this.error(Oe)})}next(we){this.forEachObserver(ye=>{ye.next(we)})}error(we){this.forEachObserver(ye=>{ye.error(we)}),this.close(we)}complete(){this.forEachObserver(we=>{we.complete()}),this.close()}subscribe(we,ye,Oe){let Me;if(void 0===we&&void 0===ye&&void 0===Oe)throw new Error("Missing Observer.");Me=function Ti(be,we){if("object"!=typeof be||null===be)return!1;for(const ye of we)if(ye in be&&"function"==typeof be[ye])return!0;return!1}(we,["next","error","complete"])?we:{next:we,error:ye,complete:Oe},void 0===Me.next&&(Me.next=Zi),void 0===Me.error&&(Me.error=Zi),void 0===Me.complete&&(Me.complete=Zi);const yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Me.error(this.finalError):Me.complete()}catch(Zt){}}),this.observers.push(Me),yt}unsubscribeOne(we){void 0===this.observers||void 0===this.observers[we]||(delete this.observers[we],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(we){if(!this.finalized)for(let ye=0;ye<this.observers.length;ye++)this.sendOne(ye,we)}sendOne(we,ye){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[we])try{ye(this.observers[we])}catch(Oe){"undefined"!=typeof console&&console.error&&console.error(Oe)}})}close(we){this.finalized||(this.finalized=!0,void 0!==we&&(this.finalError=we),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Zi(){}function vi(be,we=1e3,ye=2){const Oe=we*Math.pow(ye,be),Me=Math.round(.5*Oe*(Math.random()-.5)*2);return Math.min(144e5,Oe+Me)}function Cn(be){return be&&be._delegate?be._delegate:be}},208:(Dt,Ve,R)=>{R.d(Ve,{g:()=>Ye});var i=R(845),v=R(7172),z=R(4297),fe=R(8759),q=R(3640),Y=R(8631),J=R(2266),ce=R(85),de=R(4119),K=R(5787),ee=R(1424),te=R(5e3),We=R(9808),$e=R(1777),ot=R(2382),Ze=R(5730),ze=R(9783),re=R(5921);const Ce=["input"];function Ie(Le,ct){if(1&Le){const Se=te.EpF();te.TgZ(0,"i",4),te.NdJ("click",function(){return te.CHM(Se),te.oxw().onMaskToggle()}),te.qZA()}if(2&Le){const Se=te.oxw();te.Q6J("ngClass",Se.toggleIconClass())}}function ke(Le,ct){1&Le&&te.GkF(0)}function Z(Le,ct){1&Le&&te.GkF(0)}function ve(Le,ct){if(1&Le&&(te.ynx(0),te.YNc(1,Z,1,0,"ng-container",6),te.BQk()),2&Le){const Se=te.oxw(2);te.xp6(1),te.Q6J("ngTemplateOutlet",Se.contentTemplate)}}const he=function(Le){return{width:Le}};function De(Le,ct){if(1&Le&&(te.TgZ(0,"div",9),te._UZ(1,"div",0),te.qZA(),te.TgZ(2,"div",10),te._uU(3),te.qZA()),2&Le){const Se=te.oxw(2);te.xp6(1),te.Q6J("ngClass",Se.strengthClass())("ngStyle",te.VKq(3,he,Se.meter?Se.meter.width:"")),te.xp6(2),te.Oqu(Se.infoText)}}function Be(Le,ct){1&Le&&te.GkF(0)}const Ee=function(Le,ct){return{showTransitionParams:Le,hideTransitionParams:ct}},je=function(Le){return{value:"visible",params:Le}};function nt(Le,ct){if(1&Le){const Se=te.EpF();te.TgZ(0,"div",4,5),te.NdJ("click",function(qe){return te.CHM(Se),te.oxw().onOverlayClick(qe)})("@overlayAnimation.start",function(qe){return te.CHM(Se),te.oxw().onAnimationStart(qe)})("@overlayAnimation.done",function(qe){return te.CHM(Se),te.oxw().onAnimationEnd(qe)}),te.YNc(2,ke,1,0,"ng-container",6),te.YNc(3,ve,2,1,"ng-container",7),te.YNc(4,De,4,5,"ng-template",null,8,te.W1O),te.YNc(6,Be,1,0,"ng-container",6),te.qZA()}if(2&Le){const Se=te.MAs(5),ht=te.oxw();te.Q6J("ngClass","p-password-panel p-component")("@overlayAnimation",te.VKq(9,je,te.WLB(6,Ee,ht.showTransitionOptions,ht.hideTransitionOptions))),te.xp6(2),te.Q6J("ngTemplateOutlet",ht.headerTemplate),te.xp6(1),te.Q6J("ngIf",ht.contentTemplate)("ngIfElse",Se),te.xp6(3),te.Q6J("ngTemplateOutlet",ht.footerTemplate)}}const mt={provide:ot.JU,useExisting:(0,te.Gpc)(()=>Qe),multi:!0};let Qe=(()=>{class Le{constructor(Se,ht,qe,pt){this.cd=Se,this.config=ht,this.el=qe,this.overlayService=pt,this.mediumRegex="^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})",this.strongRegex="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})",this.feedback=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new te.vpe,this.onBlur=new te.vpe,this.overlayVisible=!1,this.focused=!1,this.unmasked=!1,this.value=null,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngAfterContentInit(){this.templates.forEach(Se=>{switch(Se.getType()){case"content":default:this.contentTemplate=Se.template;break;case"header":this.headerTemplate=Se.template;break;case"footer":this.footerTemplate=Se.template}})}ngOnInit(){this.infoText=this.promptText(),this.mediumCheckRegExp=new RegExp(this.mediumRegex),this.strongCheckRegExp=new RegExp(this.strongRegex),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.updateUI(this.value||"")})}onAnimationStart(Se){switch(Se.toState){case"visible":this.overlay=Se.element,re.P9.set("overlay",this.overlay,this.config.zIndex.overlay),this.appendContainer(),this.alignOverlay(),this.bindScrollListener(),this.bindResizeListener();break;case"void":this.unbindScrollListener(),this.unbindResizeListener(),this.overlay=null}}onAnimationEnd(Se){"void"===Se.toState&&re.P9.clear(Se.element)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):document.getElementById(this.appendTo).appendChild(this.overlay))}alignOverlay(){this.appendTo?(this.overlay.style.minWidth=Ze.p.getOuterWidth(this.input.nativeElement)+"px",Ze.p.absolutePosition(this.overlay,this.input.nativeElement)):Ze.p.relativePosition(this.overlay,this.input.nativeElement)}onInput(Se){this.value=Se.target.value,this.onModelChange(this.value),this.onModelTouched()}onInputFocus(Se){this.focused=!0,this.feedback&&(this.overlayVisible=!0),this.onFocus.emit(Se)}onInputBlur(Se){this.focused=!1,this.feedback&&(this.overlayVisible=!1),this.onBlur.emit(Se)}onKeyDown(Se){"Escape"===Se.key&&(this.overlayVisible=!1)}onKeyUp(Se){this.feedback&&(this.updateUI(Se.target.value),this.overlayVisible||(this.overlayVisible=!0))}updateUI(Se){let ht=null,qe=null;switch(this.testStrength(Se)){case 1:ht=this.weakText(),qe={strength:"weak",width:"33.33%"};break;case 2:ht=this.mediumText(),qe={strength:"medium",width:"66.66%"};break;case 3:ht=this.strongText(),qe={strength:"strong",width:"100%"};break;default:ht=this.promptText(),qe=null}this.meter=qe,this.infoText=ht}onMaskToggle(){this.unmasked=!this.unmasked}onOverlayClick(Se){this.overlayService.add({originalEvent:Se,target:this.el.nativeElement})}testStrength(Se){let ht=0;return this.strongCheckRegExp.test(Se)?ht=3:this.mediumCheckRegExp.test(Se)?ht=2:Se.length&&(ht=1),ht}writeValue(Se){this.value=void 0===Se?null:Se,this.feedback&&this.updateUI(this.value||""),this.cd.markForCheck()}registerOnChange(Se){this.onModelChange=Se}registerOnTouched(Se){this.onModelTouched=Se}setDisabledState(Se){this.disabled=Se}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ze.V(this.input.nativeElement,()=>{this.overlayVisible&&(this.overlayVisible=!1)})),this.scrollHandler.bindScrollListener()}bindResizeListener(){this.resizeListener||(this.resizeListener=()=>{this.overlayVisible&&(this.overlayVisible=!1)},window.addEventListener("resize",this.resizeListener))}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}containerClass(){return{"p-password p-component p-inputwrapper":!0,"p-input-icon-right":this.toggleMask}}inputFieldClass(){return{"p-password-input":!0,"p-disabled":this.disabled}}toggleIconClass(){return this.unmasked?"pi pi-eye-slash":"pi pi-eye"}strengthClass(){return`p-password-strength ${this.meter?this.meter.strength:""}`}filled(){return null!=this.value&&this.value.toString().length>0}promptText(){return this.promptLabel||this.getTranslation(ze.ws.PASSWORD_PROMPT)}weakText(){return this.weakLabel||this.getTranslation(ze.ws.WEAK)}mediumText(){return this.mediumLabel||this.getTranslation(ze.ws.MEDIUM)}strongText(){return this.strongLabel||this.getTranslation(ze.ws.STRONG)}restoreAppend(){this.overlay&&this.appendTo&&("body"===this.appendTo?document.body.removeChild(this.overlay):document.getElementById(this.appendTo).removeChild(this.overlay))}inputType(){return this.unmasked?"text":"password"}getTranslation(Se){return this.config.getTranslation(Se)}ngOnDestroy(){this.overlay&&(re.P9.clear(this.overlay),this.overlay=null),this.restoreAppend(),this.unbindResizeListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe()}}return Le.\u0275fac=function(Se){return new(Se||Le)(te.Y36(te.sBO),te.Y36(ze.b4),te.Y36(te.SBq),te.Y36(ze.F0))},Le.\u0275cmp=te.Xpm({type:Le,selectors:[["p-password"]],contentQueries:function(Se,ht,qe){if(1&Se&&te.Suo(qe,ze.jx,4),2&Se){let pt;te.iGM(pt=te.CRH())&&(ht.templates=pt)}},viewQuery:function(Se,ht){if(1&Se&&te.Gf(Ce,5),2&Se){let qe;te.iGM(qe=te.CRH())&&(ht.input=qe.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(Se,ht){2&Se&&te.ekj("p-inputwrapper-filled",ht.filled())("p-inputwrapper-focus",ht.focused)},inputs:{disabled:"disabled",promptLabel:"promptLabel",mediumRegex:"mediumRegex",strongRegex:"strongRegex",weakLabel:"weakLabel",mediumLabel:"mediumLabel",strongLabel:"strongLabel",inputId:"inputId",feedback:"feedback",appendTo:"appendTo",toggleMask:"toggleMask",inputStyleClass:"inputStyleClass",styleClass:"styleClass",style:"style",inputStyle:"inputStyle",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",placeholder:"placeholder"},outputs:{onFocus:"onFocus",onBlur:"onBlur"},features:[te._Bn([mt])],decls:5,vars:14,consts:[[3,"ngClass","ngStyle"],["pInputText","",3,"ngClass","ngStyle","value","input","focus","blur","keyup","keydown"],["input",""],[3,"ngClass","click",4,"ngIf"],[3,"ngClass","click"],["overlay",""],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["content",""],[1,"p-password-meter"],["className","p-password-info"]],template:function(Se,ht){1&Se&&(te.TgZ(0,"div",0),te.TgZ(1,"input",1,2),te.NdJ("input",function(pt){return ht.onInput(pt)})("focus",function(pt){return ht.onInputFocus(pt)})("blur",function(pt){return ht.onInputBlur(pt)})("keyup",function(pt){return ht.onKeyUp(pt)})("keydown",function(pt){return ht.onKeyDown(pt)}),te.qZA(),te.YNc(3,Ie,1,1,"i",3),te.YNc(4,nt,7,11,"div",3),te.qZA()),2&Se&&(te.Tol(ht.styleClass),te.Q6J("ngClass",ht.containerClass())("ngStyle",ht.style),te.xp6(1),te.Tol(ht.inputStyleClass),te.Q6J("ngClass",ht.inputFieldClass())("ngStyle",ht.inputStyle)("value",ht.value),te.uIk("id",ht.inputId)("type",ht.inputType())("placeholder",ht.placeholder),te.xp6(2),te.Q6J("ngIf",ht.toggleMask),te.xp6(1),te.Q6J("ngIf",ht.overlayVisible))},directives:[We.mk,We.PC,ee.o,We.O5,We.tP],styles:[".p-password{position:relative;display:inline-flex}.p-password-panel{position:absolute;top:0;left:0}.p-password .p-password-panel{min-width:100%}.p-password-meter{height:10px}.p-password-strength{height:100%;width:0%;transition:width 1s ease-in-out}.p-fluid .p-password{display:flex}\n"],encapsulation:2,data:{animation:[(0,$e.X$)("overlayAnimation",[(0,$e.eR)(":enter",[(0,$e.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,$e.jt)("{{showTransitionParams}}")]),(0,$e.eR)(":leave",[(0,$e.jt)("{{hideTransitionParams}}",(0,$e.oB)({opacity:0}))])])]},changeDetection:0}),Le})(),Ht=(()=>{class Le{}return Le.\u0275fac=function(Se){return new(Se||Le)},Le.\u0275mod=te.oAB({type:Le}),Le.\u0275inj=te.cJS({imports:[[We.ez,ee.j],ze.m8]}),Le})();var sn=R(7773),Mt=R(8850),Ot=R(8185);let Ye=(()=>{class Le{}return Le.\u0275fac=function(Se){return new(Se||Le)},Le.\u0275mod=te.oAB({type:Le}),Le.\u0275inj=te.cJS({imports:[i.hJ,v.W6,z.d,fe.b,q.y,Y.U$,J.F,ce.TX,de.z,K.T,ee.j,Ht,sn.EV,Mt.$,Ot.q]}),Le})()},2109:(Dt,Ve,R)=>{R.r(Ve),R.d(Ve,{CategoriesModule:()=>ke});var i=R(9808),v=R(5335),z=R(5e3),fe=R(5492),q=R(8185),Y=R(4297),J=R(9783),ce=R(845);function de(Z,ve){1&Z&&(z.TgZ(0,"div"),z._UZ(1,"p-progressBar",5),z.qZA())}function K(Z,ve){if(1&Z&&z._UZ(0,"img",12),2&Z){const he=z.oxw().$implicit;z.s9C("src",he.image,z.LSH)}}function ee(Z,ve){if(1&Z){const he=z.EpF();z.TgZ(0,"div",13),z.TgZ(1,"p-button",14),z.NdJ("onClick",function(){z.CHM(he);const Be=z.oxw().$implicit;return z.oxw().irADetalles(Be.id)}),z.qZA(),z.TgZ(2,"p-button",15),z.NdJ("onClick",function(){z.CHM(he);const Be=z.oxw().$implicit;return z.oxw().addCarrito(Be)}),z.qZA(),z.qZA()}}function te(Z,ve){if(1&Z&&(z.TgZ(0,"div",6),z.TgZ(1,"p-card",7),z.YNc(2,K,1,1,"ng-template",8),z.TgZ(3,"span",9),z._uU(4),z._UZ(5,"i",10),z.qZA(),z.YNc(6,ee,3,0,"ng-template",11),z.qZA(),z.qZA()),2&Z){const he=ve.$implicit;z.xp6(1),z.Q6J("header",he.title)("subheader",he.category),z.xp6(3),z.hij("",he.price," ")}}let We=(()=>{class Z{constructor(he,De){this.category=he,this.router=De,this.carga=!0,this.categoria="",this.productos=[]}ngOnInit(){this.category.setAndGetCategory(this.categoria).subscribe(he=>{this.productos=he},he=>{},()=>this.carga=!1)}irADetalles(he){this.router.navigate(["producto/",he])}addCarrito(he){this.category.addCarrito(he)}}return Z.\u0275fac=function(he){return new(he||Z)(z.Y36(fe.d),z.Y36(v.F0))},Z.\u0275cmp=z.Xpm({type:Z,selectors:[["app-listado-categoria"]],inputs:{categoria:"categoria"},decls:5,vars:2,consts:[[4,"ngIf"],[1,"grid","mt-5","flex","justify-content-center"],[1,"col-9"],[1,"grid"],["class","col-12 sm:col-6 md:col-4 lg:col-3 fadein animation-duration-1000",4,"ngFor","ngForOf"],["mode","indeterminate"],[1,"col-12","sm:col-6","md:col-4","lg:col-3","fadein","animation-duration-1000"],["styleClass","p-card-shadow",1,"flex","justify-content-center",3,"header","subheader"],["pTemplate","header"],[1,"flex","justify-content-center","align-items-center"],[1,"pi","pi-euro"],["pTemplate","footer"],["alt","Card",1,"h-18rem",3,"src"],[1,"flex","justify-content-center","align-items-end"],["label","Detalles","icon","pi pi-info","styleClass","p-button-info p-button-sm m-1",3,"onClick"],["icon","pi pi-shopping-cart","styleClass","p-button-secondary p-button-sm m-1",3,"onClick"]],template:function(he,De){1&he&&(z.YNc(0,de,2,0,"div",0),z.TgZ(1,"div",1),z.TgZ(2,"div",2),z.TgZ(3,"div",3),z.YNc(4,te,7,3,"div",4),z.qZA(),z.qZA(),z.qZA()),2&he&&(z.Q6J("ngIf",De.carga),z.xp6(4),z.Q6J("ngForOf",De.productos))},directives:[i.O5,i.sg,q.k,Y.Z,J.jx,ce.zx],styles:[".h-img[_ngcontent-%COMP%]{width:100%;height:300px}.card-h[_ngcontent-%COMP%]{height:500px}"]}),Z})();const re=[{path:"",children:[{path:"electronica",component:(()=>{class Z{constructor(){this.categoria=""}ngOnInit(){this.categoria="electronics"}}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275cmp=z.Xpm({type:Z,selectors:[["app-electronica"]],decls:1,vars:1,consts:[[3,"categoria"]],template:function(he,De){1&he&&z._UZ(0,"app-listado-categoria",0),2&he&&z.Q6J("categoria",De.categoria)},directives:[We],encapsulation:2}),Z})()},{path:"joyeria",component:(()=>{class Z{constructor(){this.categoria=""}ngOnInit(){this.categoria="jewelery"}}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275cmp=z.Xpm({type:Z,selectors:[["app-joyeria"]],decls:1,vars:1,consts:[[3,"categoria"]],template:function(he,De){1&he&&z._UZ(0,"app-listado-categoria",0),2&he&&z.Q6J("categoria",De.categoria)},directives:[We],encapsulation:2}),Z})()},{path:"ropa-hombre",component:(()=>{class Z{constructor(){this.categoria=""}ngOnInit(){this.categoria="men's clothing"}}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275cmp=z.Xpm({type:Z,selectors:[["app-ropa-hombre"]],decls:1,vars:1,consts:[[3,"categoria"]],template:function(he,De){1&he&&z._UZ(0,"app-listado-categoria",0),2&he&&z.Q6J("categoria",De.categoria)},directives:[We],encapsulation:2}),Z})()},{path:"ropa-mujer",component:(()=>{class Z{constructor(){this.categoria=""}ngOnInit(){this.categoria="women's clothing"}}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275cmp=z.Xpm({type:Z,selectors:[["app-ropa-mujer"]],decls:1,vars:1,consts:[[3,"categoria"]],template:function(he,De){1&he&&z._UZ(0,"app-listado-categoria",0),2&he&&z.Q6J("categoria",De.categoria)},directives:[We],encapsulation:2}),Z})()},{path:"**",redirectTo:"home"}]}];let Ce=(()=>{class Z{}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275mod=z.oAB({type:Z}),Z.\u0275inj=z.cJS({imports:[[v.Bz.forChild(re)]]}),Z})();var Ie=R(208);let ke=(()=>{class Z{}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275mod=z.oAB({type:Z}),Z.\u0275inj=z.cJS({imports:[[i.ez,Ce,Ie.g]]}),Z})()},5492:(Dt,Ve,R)=>{R.d(Ve,{d:()=>fe});var i=R(7579),v=R(5e3),z=R(520);let fe=(()=>{class q{constructor(J){this.http=J,this.nombre$=new i.x,this.apellido$=new i.x,this.carrito$=new i.x,this.cantidadTotal$=new i.x,this.cantidadTotal=0,this.totalItem=0,this.total=0,this.carrito=[]}getProductos(){return this.http.get("https://fakestoreapi.com/products?limit=12")}getProducto(J){return this.http.get(`https://fakestoreapi.com/products/${J}`)}setAndGetCategory(J){return this.http.get(`https://fakestoreapi.com/products/category/${J}`)}addCarrito(J){this.cantidadTotal++,this.cantidadTotal$.next(this.cantidadTotal),this.carrito.includes(J)?J.cantidad++:(J.cantidad=1,this.carrito.push(J),this.carrito$.next(this.carrito)),this.calcularTotalItem()}calcularTotalItem(){this.carrito.map(J=>{this.totalItem=J.price*J.cantidad,J.total=this.totalItem})}calcularTotal(){this.carrito.map(J=>{this.total+=J.total})}cambiarNombreApellido(J,ce){this.nombre$.next(J),this.apellido$.next(ce)}getNombre$(){return this.nombre$.asObservable()}getApellido$(){return this.apellido$.asObservable()}setCarrito$(J){this.carrito$.next(J)}getCarrito$(){return this.carrito$}}return q.\u0275fac=function(J){return new(J||q)(v.LFG(z.eN))},q.\u0275prov=v.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},2702:(Dt,Ve,R)=>{var i=R(9808),v=R(5e3);class z extends i.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends z{static makeCurrent(){(0,i.HT)(new fe)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Y(){return q=q||document.querySelector("base"),q?q.getAttribute("href"):null}();return null==t?null:function ce(n){J=J||document.createElement("a"),J.setAttribute("href",n);const e=J.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){q=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,i.Mx)(document.cookie,e)}}let J,q=null;const de=new v.OlP("TRANSITION_ID"),ee=[{provide:v.ip1,useFactory:function K(n,e,t){return()=>{t.get(v.CZH).donePromise.then(()=>{const r=(0,i.q)(),u=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<u.length;d++)r.remove(u[d])})}},deps:[de,i.K0,v.zs3],multi:!0}];class te{static init(){(0,v.VLi)(new te)}addToWindow(e){v.dqk.getAngularTestability=(r,u=!0)=>{const d=e.findTestabilityInTree(r,u);if(null==d)throw new Error("Could not find testability for element.");return d},v.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(r=>{const u=v.dqk.getAllAngularTestabilities();let d=u.length,g=!1;const w=function(A){g=g||A,d--,0==d&&r(g)};u.forEach(function(A){A.whenStable(w)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const u=e.getTestability(t);return null!=u?u:r?(0,i.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let We=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const $e=new v.OlP("EventManagerPlugins");let ot=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(u=>u.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,u){return this._findPluginFor(r).addEventListener(t,r,u)}addGlobalEventListener(t,r,u){return this._findPluginFor(r).addGlobalEventListener(t,r,u)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const u=this._plugins;for(let d=0;d<u.length;d++){const g=u[d];if(g.supports(t))return this._eventNameToPlugin.set(t,g),g}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG($e),v.LFG(v.R0b))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class Ze{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const u=(0,i.q)().getGlobalEventTarget(this._doc,e);if(!u)throw new Error(`Unsupported event target ${u} for event ${t}`);return this.addEventListener(u,t,r)}}let ze=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),r.add(u))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),re=(()=>{class n extends ze{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,u){t.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,u.push(r.appendChild(g))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ce),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,u)=>{this._addStylesToHost(t,u,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ce))}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(i.K0))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();function Ce(n){(0,i.q)().remove(n)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ke=/%COMP%/g;function je(n,e,t){for(let r=0;r<e.length;r++){let u=e[r];Array.isArray(u)?je(n,u,t):(u=u.replace(ke,n),t.push(u))}return t}function nt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mt=(()=>{class n{constructor(t,r,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Qe(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case v.ifc.Emulated:{let u=this.rendererByCompId.get(r.id);return u||(u=new Mt(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,u)),u.applyToHost(t),u}case 1:case v.ifc.ShadowDom:return new Ot(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const u=je(r.id,r.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(ot),v.LFG(re),v.LFG(v.AFp))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class Qe{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ie[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,u){if(u){t=u+":"+t;const d=Ie[u];d?e.setAttributeNS(d,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const u=Ie[r];u?e.removeAttributeNS(u,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,u){u&(v.JOm.DashCase|v.JOm.Important)?e.style.setProperty(t,r,u&v.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&v.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,nt(r)):this.eventManager.addEventListener(e,t,nt(r))}}class Mt extends Qe{constructor(e,t,r,u){super(e),this.component=r;const d=je(u+"-"+r.id,r.styles,[]);t.addStyles(d),this.contentAttr=function Be(n){return"_ngcontent-%COMP%".replace(ke,n)}(u+"-"+r.id),this.hostAttr=function Ee(n){return"_nghost-%COMP%".replace(ke,n)}(u+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ot extends Qe{constructor(e,t,r,u){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=je(u.id,u.styles,[]);for(let g=0;g<d.length;g++){const w=document.createElement("style");w.textContent=d[g],this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ye=(()=>{class n extends Ze{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,u){return t.addEventListener(r,u,!1),()=>this.removeEventListener(t,r,u)}removeEventListener(t,r,u){return t.removeEventListener(r,u)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(i.K0))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const Le=["alt","control","meta","shift"],Se={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},qe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pt=(()=>{class n extends Ze{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,u){const d=n.parseEventName(r),g=n.eventCallback(d.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,i.q)().onAndCancel(t,d.domEventName,g))}static parseEventName(t){const r=t.toLowerCase().split("."),u=r.shift();if(0===r.length||"keydown"!==u&&"keyup"!==u)return null;const d=n._normalizeKey(r.pop());let g="";if(Le.forEach(A=>{const F=r.indexOf(A);F>-1&&(r.splice(F,1),g+=A+".")}),g+=d,0!=r.length||0===d.length)return null;const w={};return w.domEventName=u,w.fullKey=g,w}static getEventFullKey(t){let r="",u=function Jt(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ht.hasOwnProperty(e)&&(e=ht[e]))}return Se[e]||e}(t);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),Le.forEach(d=>{d!=u&&qe[d](t)&&(r+=d+".")}),r+=u,r}static eventCallback(t,r,u){return d=>{n.getEventFullKey(d)===t&&u.runGuarded(()=>r(d))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(i.K0))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const or=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:i.bD},{provide:v.g9A,useValue:function Jn(){fe.makeCurrent(),te.init()},multi:!0},{provide:i.K0,useFactory:function jn(){return(0,v.RDi)(document),document},deps:[]}]),er=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function Tn(){return new v.qLn},deps:[]},{provide:$e,useClass:Ye,multi:!0,deps:[i.K0,v.R0b,v.Lbi]},{provide:$e,useClass:pt,multi:!0,deps:[i.K0]},{provide:mt,useClass:mt,deps:[ot,re,v.AFp]},{provide:v.FYo,useExisting:mt},{provide:ze,useExisting:re},{provide:re,useClass:re,deps:[i.K0]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b]},{provide:ot,useClass:ot,deps:[$e,v.R0b]},{provide:i.JF,useClass:We,deps:[]}];let Ct=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:v.AFp,useValue:t.appId},{provide:de,useExisting:v.AFp},ee]}}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(n,12))},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:er,imports:[i.ez,v.hGG]}),n})();"undefined"!=typeof window&&window;var qt=R(1777);function Br(){return"undefined"!=typeof window&&void 0!==window.document}function Or(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ar(n){switch(n.length){case 0:return new qt.ZN;case 1:return n[0];default:return new qt.ZE(n)}}function di(n,e,t,r,u={},d={}){const g=[],w=[];let A=-1,F=null;if(r.forEach(X=>{const pe=X.offset,He=pe==A,Xe=He&&F||{};Object.keys(X).forEach(Je=>{let _t=Je,Ft=X[Je];if("offset"!==Je)switch(_t=e.normalizePropertyName(_t,g),Ft){case qt.k1:Ft=u[Je];break;case qt.l3:Ft=d[Je];break;default:Ft=e.normalizeStyleValue(Je,_t,Ft,g)}Xe[_t]=Ft}),He||w.push(Xe),F=Xe,A=pe}),g.length){const X="\n - ";throw new Error(`Unable to animate due to the following errors:${X}${g.join(X)}`)}return w}function tr(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Wi(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Wi(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Wi(t,"destroy",n)))}}function Wi(n,e,t){const r=t.totalTime,d=Qi(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),g=n._data;return null!=g&&(d._data=g),d}function Qi(n,e,t,r,u="",d=0,g){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:u,totalTime:d,disabled:!!g}}function xi(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Ji(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let lr=(n,e)=>!1,kr=(n,e)=>!1,os=(n,e,t)=>[];const mi=Or();(mi||"undefined"!=typeof Element)&&(lr=Br()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),kr=(()=>{if(mi||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):kr}})(),os=(n,e,t)=>{let r=[];if(t){const u=n.querySelectorAll(e);for(let d=0;d<u.length;d++)r.push(u[d])}else{const u=n.querySelector(e);u&&r.push(u)}return r});let Oi=null,jt=!1;function _n(n){Oi||(Oi=function Wn(){return"undefined"!=typeof document?document.body:null}()||{},jt=!!Oi.style&&"WebkitAppearance"in Oi.style);let e=!0;return Oi.style&&!function Zs(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Oi.style,!e&&jt&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Oi.style)),e}const hi=kr,nr=lr,si=os;function Bi(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let Xn=(()=>{class n{validateStyleProperty(t){return _n(t)}matchesElement(t,r){return hi(t,r)}containsElement(t,r){return nr(t,r)}query(t,r,u){return si(t,r,u)}computeStyle(t,r,u){return u||""}animate(t,r,u,d,g,w=[],A){return new qt.ZN(u,d)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})(),Di=(()=>{class n{}return n.NOOP=new Xn,n})();const Rr="ng-enter",qi="ng-leave",Un="ng-trigger",wt=".ng-trigger",Gt="ng-animating",ei=".ng-animating";function Hi(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ys(parseFloat(e[1]),e[2])}function ys(n,e){return"s"===e?1e3*n:n}function gr(n,e,t){return n.hasOwnProperty("duration")?n:function Pr(n,e,t){let u,d=0,g="";if("string"==typeof n){const w=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===w)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};u=ys(parseFloat(w[1]),w[2]);const A=w[3];null!=A&&(d=ys(parseFloat(A),w[4]));const F=w[5];F&&(g=F)}else u=n;if(!t){let w=!1,A=e.length;u<0&&(e.push("Duration values below 0 are not allowed for this animation step."),w=!0),d<0&&(e.push("Delay values below 0 are not allowed for this animation step."),w=!0),w&&e.splice(A,0,`The provided timing value "${n}" is invalid.`)}return{duration:u,delay:d,easing:g}}(n,e,t)}function vs(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function mr(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else vs(n,t);return t}function Er(n,e,t){return t?e+":"+t+";":""}function as(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Er(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Er(0,al(t),n.style[t]));n.setAttribute("style",e)}function Gr(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const u=_r(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[u]),n.style[u]=e[r]}),Or()&&as(n))}function Ki(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=_r(t);n.style[r]=""}),Or()&&as(n))}function Gs(n){return Array.isArray(n)?1==n.length?n[0]:(0,qt.vP)(n):n}const Wr=new RegExp("{{\\s*(.+?)\\s*}}","g");function so(n){let e=[];if("string"==typeof n){let t;for(;t=Wr.exec(n);)e.push(t[1]);Wr.lastIndex=0}return e}function Fs(n,e,t){const r=n.toString(),u=r.replace(Wr,(d,g)=>{let w=e[g];return e.hasOwnProperty(g)||(t.push(`Please provide a value for the animation param ${g}`),w=""),w.toString()});return u==r?n:u}function Ws(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const oo=/-+([a-z0-9])/g;function _r(n){return n.replace(oo,(...e)=>e[1].toUpperCase())}function al(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ao(n,e){return 0===n||0===e}function So(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let d=e[0],g=[];if(r.forEach(w=>{d.hasOwnProperty(w)||g.push(w),d[w]=t[w]}),g.length)for(var u=1;u<e.length;u++){let w=e[u];g.forEach(function(A){w[A]=qs(n,A)})}}return e}function ir(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function qs(n,e){return window.getComputedStyle(n)[e]}function Pa(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Ks(n,e,t){if(":"==n[0]){const A=function lo(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof A)return void e.push(A);n=A}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const u=r[1],d=r[2],g=r[3];e.push(uo(u,g));"<"==d[0]&&!("*"==u&&"*"==g)&&e.push(uo(g,u))}(r,t,e)):t.push(n),t}const ls=new Set(["true","1"]),jo=new Set(["false","0"]);function uo(n,e){const t=ls.has(n)||jo.has(n),r=ls.has(e)||jo.has(e);return(u,d)=>{let g="*"==n||n==u,w="*"==e||e==d;return!g&&t&&"boolean"==typeof u&&(g=u?ls.has(n):jo.has(n)),!w&&r&&"boolean"==typeof d&&(w=d?ls.has(e):jo.has(e)),g&&w}}const ws=new RegExp("s*:selfs*,?","g");function rr(n,e,t){return new qr(n).build(e,t)}class qr{constructor(e){this._driver=e}build(e,t){const r=new Es(t);return this._resetContextStyleTimingState(r),ir(this,Gs(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,u=t.depCount=0;const d=[],g=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(w=>{if(this._resetContextStyleTimingState(t),0==w.type){const A=w,F=A.name;F.toString().split(/\s*,\s*/).forEach(X=>{A.name=X,d.push(this.visitState(A,t))}),A.name=F}else if(1==w.type){const A=this.visitTransition(w,t);r+=A.queryCount,u+=A.depCount,g.push(A)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:d,transitions:g,queryCount:r,depCount:u,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),u=e.options&&e.options.params||null;if(r.containsDynamicStyles){const d=new Set,g=u||{};if(r.styles.forEach(w=>{if(Yr(w)){const A=w;Object.keys(A).forEach(F=>{so(A[F]).forEach(X=>{g.hasOwnProperty(X)||d.add(X)})})}}),d.size){const w=Ws(d.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${w.join(", ")}`)}}return{type:0,name:e.name,style:r,options:u?{params:u}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ir(this,Gs(e.animation),t);return{type:1,matchers:Pa(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ji(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ir(this,r,t)),options:ji(e.options)}}visitGroup(e,t){const r=t.currentTime;let u=0;const d=e.steps.map(g=>{t.currentTime=r;const w=ir(this,g,t);return u=Math.max(u,t.currentTime),w});return t.currentTime=u,{type:3,steps:d,options:ji(e.options)}}visitAnimate(e,t){const r=function Hr(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Qr(gr(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=Qr(0,0,"");return d.dynamic=!0,d.strValue=r,d}return t=t||gr(r,e),Qr(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let u,d=e.styles?e.styles:(0,qt.oB)({});if(5==d.type)u=this.visitKeyframes(d,t);else{let g=e.styles,w=!1;if(!g){w=!0;const F={};r.easing&&(F.easing=r.easing),g=(0,qt.oB)(F)}t.currentTime+=r.duration+r.delay;const A=this.visitStyle(g,t);A.isEmptyStep=w,u=A}return t.currentAnimateTimings=null,{type:4,timings:r,style:u,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(g=>{"string"==typeof g?g==qt.l3?r.push(g):t.errors.push(`The provided style string value ${g} is not allowed.`):r.push(g)}):r.push(e.styles);let u=!1,d=null;return r.forEach(g=>{if(Yr(g)){const w=g,A=w.easing;if(A&&(d=A,delete w.easing),!u)for(let F in w)if(w[F].toString().indexOf("{{")>=0){u=!0;break}}}),{type:6,styles:r,easing:d,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let u=t.currentTime,d=t.currentTime;r&&d>0&&(d-=r.duration+r.delay),e.styles.forEach(g=>{"string"!=typeof g&&Object.keys(g).forEach(w=>{if(!this._driver.validateStyleProperty(w))return void t.errors.push(`The provided animation property "${w}" is not a supported CSS property for animations`);const A=t.collectedStyles[t.currentQuerySelector],F=A[w];let X=!0;F&&(d!=u&&d>=F.startTime&&u<=F.endTime&&(t.errors.push(`The CSS property "${w}" that exists between the times of "${F.startTime}ms" and "${F.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${u}ms"`),X=!1),d=F.startTime),X&&(A[w]={startTime:d,endTime:u}),t.options&&function bs(n,e,t){const r=e.params||{},u=so(n);u.length&&u.forEach(d=>{r.hasOwnProperty(d)||t.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(g[w],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let d=0;const g=[];let w=!1,A=!1,F=0;const X=e.steps.map(vn=>{const On=this._makeStyleAst(vn,t);let Bn=null!=On.offset?On.offset:function Yi(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Yr(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Yr(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(On.styles),bn=0;return null!=Bn&&(d++,bn=On.offset=Bn),A=A||bn<0||bn>1,w=w||bn<F,F=bn,g.push(bn),On});A&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),w&&t.errors.push("Please ensure that all keyframe offsets are in order");const pe=e.steps.length;let He=0;d>0&&d<pe?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(He=1/(pe-1));const Xe=pe-1,Je=t.currentTime,_t=t.currentAnimateTimings,Ft=_t.duration;return X.forEach((vn,On)=>{const Bn=He>0?On==Xe?1:He*On:g[On],bn=Bn*Ft;t.currentTime=Je+_t.delay+bn,_t.duration=bn,this._validateStyleAst(vn,t),vn.offset=Bn,r.styles.push(vn)}),r}visitReference(e,t){return{type:8,animation:ir(this,Gs(e.animation),t),options:ji(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ji(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ji(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,u=e.options||{};t.queryCount++,t.currentQuery=e;const[d,g]=function Kr(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ws,"")),n=n.replace(/@\*/g,wt).replace(/@\w+/g,t=>wt+"-"+t.substr(1)).replace(/:animating/g,ei),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+d:d,xi(t.collectedStyles,t.currentQuerySelector,{});const w=ir(this,Gs(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:d,limit:u.limit||0,optional:!!u.optional,includeSelf:g,animation:w,originalSelector:e.selector,options:ji(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:gr(e.timings,t.errors,!0);return{type:12,animation:ir(this,Gs(e.animation),t),timings:r,options:null}}}class Es{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Yr(n){return!Array.isArray(n)&&"object"==typeof n}function ji(n){return n?(n=vs(n)).params&&(n.params=function Do(n){return n?vs(n):null}(n.params)):n={},n}function Qr(n,e,t){return{duration:n,delay:e,easing:t}}function Ys(n,e,t,r,u,d,g=null,w=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:u,delay:d,totalTime:u+d,easing:g,subTimeline:w}}class cs{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const co=new RegExp(":enter","g"),Ts=new RegExp(":leave","g");function Fi(n,e,t,r,u,d={},g={},w,A,F=[]){return(new B).buildKeyframes(n,e,t,r,u,d,g,w,A,F)}class B{buildKeyframes(e,t,r,u,d,g,w,A,F,X=[]){F=F||new cs;const pe=new H(e,t,F,u,d,X,[]);pe.options=A,pe.currentTimeline.setStyles([g],null,pe.errors,A),ir(this,r,pe);const He=pe.timelines.filter(Xe=>Xe.containsAnimation());if(He.length&&Object.keys(w).length){const Xe=He[He.length-1];Xe.allowOnlyTimelineStyles()||Xe.setStyles([w],null,pe.errors,A)}return He.length?He.map(Xe=>Xe.buildKeyframes()):[Ys(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const u=t.createSubContext(e.options),d=t.currentTimeline.currentTime,g=this._visitSubInstructions(r,u,u.options);d!=g&&t.transformIntoNewTimeline(g)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let d=t.currentTimeline.currentTime;const g=null!=r.duration?Hi(r.duration):null,w=null!=r.delay?Hi(r.delay):null;return 0!==g&&e.forEach(A=>{const F=t.appendInstructionToTimeline(A,g,w);d=Math.max(d,F.duration+F.delay)}),d}visitReference(e,t){t.updateOptions(e.options,!0),ir(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let u=t;const d=e.options;if(d&&(d.params||d.delay)&&(u=t.createSubContext(d),u.transformIntoNewTimeline(),null!=d.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=oe);const g=Hi(d.delay);u.delayNextStep(g)}e.steps.length&&(e.steps.forEach(g=>ir(this,g,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>r&&u.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let u=t.currentTimeline.currentTime;const d=e.options&&e.options.delay?Hi(e.options.delay):0;e.steps.forEach(g=>{const w=t.createSubContext(e.options);d&&w.delayNextStep(d),ir(this,g,w),u=Math.max(u,w.currentTimeline.currentTime),r.push(w.currentTimeline)}),r.forEach(g=>t.currentTimeline.mergeTimelineCollectedStyles(g)),t.transformIntoNewTimeline(u),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return gr(t.params?Fs(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),u=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),u.snapshotCurrentStyles());const d=e.style;5==d.type?this.visitKeyframes(d,t):(t.incrementTime(r.duration),this.visitStyle(d,t),u.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,u=t.currentAnimateTimings;!u&&r.getCurrentStyleProperties().length&&r.forwardFrame();const d=u&&u.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(d):r.setStyles(e.styles,d,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,u=t.currentTimeline.duration,d=r.duration,w=t.createSubContext().currentTimeline;w.easing=r.easing,e.styles.forEach(A=>{w.forwardTime((A.offset||0)*d),w.setStyles(A.styles,A.easing,t.errors,t.options),w.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(w),t.transformIntoNewTimeline(u+d),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,u=e.options||{},d=u.delay?Hi(u.delay):0;d&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=oe);let g=r;const w=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!u.optional,t.errors);t.currentQueryTotal=w.length;let A=null;w.forEach((F,X)=>{t.currentQueryIndex=X;const pe=t.createSubContext(e.options,F);d&&pe.delayNextStep(d),F===t.element&&(A=pe.currentTimeline),ir(this,e.animation,pe),pe.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,pe.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(g),A&&(t.currentTimeline.mergeTimelineCollectedStyles(A),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,u=t.currentTimeline,d=e.timings,g=Math.abs(d.duration),w=g*(t.currentQueryTotal-1);let A=g*t.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":A=w-A;break;case"full":A=r.currentStaggerTime}const X=t.currentTimeline;A&&X.delayNextStep(A);const pe=X.currentTime;ir(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=u.currentTime-pe+(u.startTime-r.currentTimeline.startTime)}}const oe={};class H{constructor(e,t,r,u,d,g,w,A){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=u,this._leaveClassName=d,this.errors=g,this.timelines=w,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oe,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=A||new ue(this._driver,t,0),w.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let u=this.options;null!=r.duration&&(u.duration=Hi(r.duration)),null!=r.delay&&(u.delay=Hi(r.delay));const d=r.params;if(d){let g=u.params;g||(g=this.options.params={}),Object.keys(d).forEach(w=>{(!t||!g.hasOwnProperty(w))&&(g[w]=Fs(d[w],g,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(u=>{r[u]=t[u]})}}return e}createSubContext(e=null,t,r){const u=t||this.element,d=new H(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,r||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(e),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(e){return this.previousNode=oe,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const u={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},d=new xe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,u,e.stretchStartingKeyframe);return this.timelines.push(d),u}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,u,d,g){let w=[];if(u&&w.push(this.element),e.length>0){e=(e=e.replace(co,"."+this._enterClassName)).replace(Ts,"."+this._leaveClassName);let F=this._driver.query(this.element,e,1!=r);0!==r&&(F=r<0?F.slice(F.length+r,F.length):F.slice(0,r)),w.push(...F)}return!d&&0==w.length&&g.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),w}}class ue{constructor(e,t,r,u){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=u,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ue(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||qt.l3,this._currentKeyframe[t]=qt.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,u){t&&(this._previousKeyframe.easing=t);const d=u&&u.params||{},g=function It(n,e){const t={};let r;return n.forEach(u=>{"*"===u?(r=r||Object.keys(e),r.forEach(d=>{t[d]=qt.l3})):mr(u,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(g).forEach(w=>{const A=Fs(g[w],d,r);this._pendingStyles[w]=A,this._localTimelineStyles.hasOwnProperty(w)||(this._backFill[w]=this._globalTimelineStyles.hasOwnProperty(w)?this._globalTimelineStyles[w]:qt.l3),this._updateStyle(w,A)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],u=e._styleSummary[t];(!r||u.time>r.time)&&this._updateStyle(t,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((w,A)=>{const F=mr(w,!0);Object.keys(F).forEach(X=>{const pe=F[X];pe==qt.k1?e.add(X):pe==qt.l3&&t.add(X)}),r||(F.offset=A/this.duration),u.push(F)});const d=e.size?Ws(e.values()):[],g=t.size?Ws(t.values()):[];if(r){const w=u[0],A=vs(w);w.offset=0,A.offset=1,u=[w,A]}return Ys(this.element,u,d,g,this.duration,this.startTime,this.easing,!1)}}class xe extends ue{constructor(e,t,r,u,d,g,w=!1){super(e,t,g.delay),this.keyframes=r,this.preStyleProps=u,this.postStyleProps=d,this._stretchStartingKeyframe=w,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:u}=this.timings;if(this._stretchStartingKeyframe&&t){const d=[],g=r+t,w=t/g,A=mr(e[0],!1);A.offset=0,d.push(A);const F=mr(e[0],!1);F.offset=lt(w),d.push(F);const X=e.length-1;for(let pe=1;pe<=X;pe++){let He=mr(e[pe],!1);He.offset=lt((t+He.offset*r)/g),d.push(He)}r=g,t=0,u="",e=d}return Ys(this.element,e,this.preStyleProps,this.postStyleProps,r,t,u,!0)}}function lt(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class U{}class O extends U{normalizePropertyName(e,t){return _r(e)}normalizeStyleValue(e,t,r,u){let d="";const g=r.toString().trim();if(ne[t]&&0!==r&&"0"!==r)if("number"==typeof r)d="px";else{const w=r.match(/^[+-]?[\d\.]+([a-z]*)$/);w&&0==w[1].length&&u.push(`Please provide a CSS unit value for ${e}:${r}`)}return g+d}}const ne=(()=>function et(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Nt(n,e,t,r,u,d,g,w,A,F,X,pe,He){return{type:0,element:n,triggerName:e,isRemovalTransition:u,fromState:t,fromStyles:d,toState:r,toStyles:g,timelines:w,queriedElements:A,preStyleProps:F,postStyleProps:X,totalTime:pe,errors:He}}const gn={};class Kt{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,u){return function wi(n,e,t,r,u){return n.some(d=>d(e,t,r,u))}(this.ast.matchers,e,t,r,u)}buildStyles(e,t,r){const u=this._stateStyles["*"],d=this._stateStyles[e],g=u?u.buildStyles(t,r):{};return d?d.buildStyles(t,r):g}build(e,t,r,u,d,g,w,A,F,X){const pe=[],He=this.ast.options&&this.ast.options.params||gn,Je=this.buildStyles(r,w&&w.params||gn,pe),_t=A&&A.params||gn,Ft=this.buildStyles(u,_t,pe),vn=new Set,On=new Map,Bn=new Map,bn="void"===u,Zn={params:Object.assign(Object.assign({},He),_t)},Gn=X?[]:Fi(e,t,this.ast.animation,d,g,Je,Ft,Zn,F,pe);let Ni=0;if(Gn.forEach(bh=>{Ni=Math.max(bh.duration+bh.delay,Ni)}),pe.length)return Nt(t,this._triggerName,r,u,bn,Je,Ft,[],[],On,Bn,Ni,pe);Gn.forEach(bh=>{const wh=bh.element,xI=xi(On,wh,{});bh.preStyleProps.forEach(ug=>xI[ug]=!0);const Dv=xi(Bn,wh,{});bh.postStyleProps.forEach(ug=>Dv[ug]=!0),wh!==t&&vn.add(wh)});const ol=Ws(vn.values());return Nt(t,this._triggerName,r,u,bn,Je,Ft,Gn,ol,On,Bn,Ni)}}class Nr{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},u=vs(this.defaultParams);return Object.keys(e).forEach(d=>{const g=e[d];null!=g&&(u[d]=g)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const g=d;Object.keys(g).forEach(w=>{let A=g[w];A.length>1&&(A=Fs(A,u,t));const F=this.normalizer.normalizePropertyName(w,t);A=this.normalizer.normalizeStyleValue(w,F,A,t),r[F]=A})}}),r}}class Qs{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(u=>{this.states[u.name]=new Nr(u.style,u.options&&u.options.params||{},r)}),Ao(this.states,"true","1"),Ao(this.states,"false","0"),t.transitions.forEach(u=>{this.transitionFactories.push(new Kt(e,u,this.states))}),this.fallbackTransition=function ds(n,e,t){return new Kt(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,w)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,u){return this.transitionFactories.find(g=>g.match(e,t,r,u))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Ao(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const ll=new cs;class St{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],u=rr(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=u}_buildPlayer(e,t,r){const u=e.element,d=di(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(u,d,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const u=[],d=this._animations[e];let g;const w=new Map;if(d?(g=Fi(this._driver,t,d,Rr,qi,{},{},r,ll,u),g.forEach(X=>{const pe=xi(w,X.element,{});X.postStyleProps.forEach(He=>pe[He]=null)})):(u.push("The requested animation doesn't exist or has already been destroyed"),g=[]),u.length)throw new Error(`Unable to create the animation due to the following errors: ${u.join("\n")}`);w.forEach((X,pe)=>{Object.keys(X).forEach(He=>{X[He]=this._driver.computeStyle(pe,He,qt.l3)})});const F=ar(g.map(X=>{const pe=w.get(X.element);return this._buildPlayer(X,{},pe)}));return this._playersById[e]=F,F.onDestroy(()=>this.destroy(e)),this.players.push(F),F}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,u){const d=Qi(t,"","","");return tr(this._getPlayer(e),r,d,u),()=>{}}command(e,t,r,u){if("register"==r)return void this.register(e,u[0]);if("create"==r)return void this.create(e,t,u[0]||{});const d=this._getPlayer(e);switch(r){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(e)}}}const qn="ng-animate-queued",Ai="ng-animate-disabled",Mo=".ng-animate-disabled",Na=[],Js={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},au={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jr="__ng_removed";class Oo{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function ul(n){return null!=n?n:null}(r?e.value:e),r){const d=vs(e);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(u=>{null==r[u]&&(r[u]=t[u])})}}}const ho="void",sr=new Oo(ho);class Xs{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Tr(t,this._hostClassName)}listen(e,t,r,u){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function pa(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const d=xi(this._elementListeners,e,[]),g={name:t,phase:r,callback:u};d.push(g);const w=xi(this._engine.statesByElement,e,{});return w.hasOwnProperty(t)||(Tr(e,Un),Tr(e,Un+"-"+t),w[t]=sr),()=>{this._engine.afterFlush(()=>{const A=d.indexOf(g);A>=0&&d.splice(A,1),this._triggers[t]||delete w[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,u=!0){const d=this._getTrigger(t),g=new ko(this.id,t,e);let w=this._engine.statesByElement.get(e);w||(Tr(e,Un),Tr(e,Un+"-"+t),this._engine.statesByElement.set(e,w={}));let A=w[t];const F=new Oo(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&A&&F.absorbOptions(A.options),w[t]=F,A||(A=sr),F.value!==ho&&A.value===F.value){if(!function Pl(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let u=0;u<t.length;u++){const d=t[u];if(!e.hasOwnProperty(d)||n[d]!==e[d])return!1}return!0}(A.params,F.params)){const _t=[],Ft=d.matchStyles(A.value,A.params,_t),vn=d.matchStyles(F.value,F.params,_t);_t.length?this._engine.reportError(_t):this._engine.afterFlush(()=>{Ki(e,Ft),Gr(e,vn)})}return}const He=xi(this._engine.playersByElement,e,[]);He.forEach(_t=>{_t.namespaceId==this.id&&_t.triggerName==t&&_t.queued&&_t.destroy()});let Xe=d.matchTransition(A.value,F.value,e,F.params),Je=!1;if(!Xe){if(!u)return;Xe=d.fallbackTransition,Je=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Xe,fromState:A,toState:F,player:g,isFallbackTransition:Je}),Je||(Tr(e,qn),g.onStart(()=>{Ro(e,qn)})),g.onDone(()=>{let _t=this.players.indexOf(g);_t>=0&&this.players.splice(_t,1);const Ft=this._engine.playersByElement.get(e);if(Ft){let vn=Ft.indexOf(g);vn>=0&&Ft.splice(vn,1)}}),this.players.push(g),He.push(g),g}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(u=>u.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,wt,!0);r.forEach(u=>{if(u[jr])return;const d=this._engine.fetchNamespacesByElement(u);d.size?d.forEach(g=>g.triggerLeaveAnimation(u,t,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(e,t,r,u){const d=this._engine.statesByElement.get(e);if(d){const g=[];if(Object.keys(d).forEach(w=>{if(this._triggers[w]){const A=this.trigger(e,w,ho,u);A&&g.push(A)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&ar(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const u=new Set;t.forEach(d=>{const g=d.name;if(u.has(g))return;u.add(g);const A=this._triggers[g].fallbackTransition,F=r[g]||sr,X=new Oo(ho),pe=new ko(this.id,g,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:g,transition:A,fromState:F,toState:X,player:pe,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let u=!1;if(r.totalAnimations){const d=r.players.length?r.playersByQueriedElement.get(e):[];if(d&&d.length)u=!0;else{let g=e;for(;g=g.parentNode;)if(r.statesByElement.get(g)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(e),u)r.markElementAsRemoved(this.id,e,!1,t);else{const d=e[jr];(!d||d===Js)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Tr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const u=r.player;if(u.destroyed)return;const d=r.element,g=this._elementListeners.get(d);g&&g.forEach(w=>{if(w.name==r.triggerName){const A=Qi(d,r.triggerName,r.fromState.value,r.toState.value);A._data=e,tr(r.player,w.phase,A,w.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):t.push(r)}),this._queue=[],t.sort((r,u)=>{const d=r.transition.ast.depCount,g=u.transition.ast.depCount;return 0==d||0==g?d-g:this._engine.driver.containsElement(r.element,u.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class fa{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,d)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Xs(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let u=!1;for(let d=r;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,t)){this._namespaceList.splice(d+1,0,e),u=!0;break}u||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let u=this._namespaceLookup[e];u&&u.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const u=this._namespaceList.indexOf(r);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const u=Object.keys(r);for(let d=0;d<u.length;d++){const g=r[u[d]].namespaceId;if(g){const w=this._fetchNamespace(g);w&&t.add(w)}}}return t}trigger(e,t,r,u){if($o(t)){const d=this._fetchNamespace(e);if(d)return d.trigger(t,r,u),!0}return!1}insertNode(e,t,r,u){if(!$o(t))return;const d=t[jr];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const g=this.collectedLeaveElements.indexOf(t);g>=0&&this.collectedLeaveElements.splice(g,1)}if(e){const g=this._fetchNamespace(e);g&&g.insertNode(t,r)}u&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Tr(e,Ai)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ro(e,Ai))}removeNode(e,t,r,u){if($o(t)){const d=e?this._fetchNamespace(e):null;if(d?d.removeNode(t,u):this.markElementAsRemoved(e,t,!1,u),r){const g=this.namespacesByHostElement.get(t);g&&g.id!==e&&g.removeNode(t,u)}}else this._onRemovalComplete(t,u)}markElementAsRemoved(e,t,r,u){this.collectedLeaveElements.push(t),t[jr]={namespaceId:e,setForRemoval:u,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,u,d){return $o(t)?this._fetchNamespace(e).listen(t,r,u,d):()=>{}}_buildInstruction(e,t,r,u,d){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,u,e.fromState.options,e.toState.options,t,d)}destroyInnerAnimations(e){let t=this.driver.query(e,wt,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ei,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ar(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[jr];if(t&&t.setForRemoval){if(e[jr]=Js,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Mo)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Mo,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,u)=>this._balanceNamespaceList(r,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Tr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let u=0;u<r.length;u++)r[u]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ar(t).onDone(()=>{r.forEach(u=>u())}):r.forEach(u=>u())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new cs,u=[],d=new Map,g=[],w=new Map,A=new Map,F=new Map,X=new Set;this.disabledNodes.forEach(mn=>{X.add(mn);const Pn=this.driver.query(mn,".ng-animate-queued",!0);for(let ri=0;ri<Pn.length;ri++)X.add(Pn[ri])});const pe=this.bodyNode,He=Array.from(this.statesByElement.keys()),Xe=Fa(He,this.collectedEnterElements),Je=new Map;let _t=0;Xe.forEach((mn,Pn)=>{const ri=Rr+_t++;Je.set(Pn,ri),mn.forEach(zi=>Tr(zi,ri))});const Ft=[],vn=new Set,On=new Set;for(let mn=0;mn<this.collectedLeaveElements.length;mn++){const Pn=this.collectedLeaveElements[mn],ri=Pn[jr];ri&&ri.setForRemoval&&(Ft.push(Pn),vn.add(Pn),ri.hasAnimation?this.driver.query(Pn,".ng-star-inserted",!0).forEach(zi=>vn.add(zi)):On.add(Pn))}const Bn=new Map,bn=Fa(He,Array.from(vn));bn.forEach((mn,Pn)=>{const ri=qi+_t++;Bn.set(Pn,ri),mn.forEach(zi=>Tr(zi,ri))}),e.push(()=>{Xe.forEach((mn,Pn)=>{const ri=Je.get(Pn);mn.forEach(zi=>Ro(zi,ri))}),bn.forEach((mn,Pn)=>{const ri=Bn.get(Pn);mn.forEach(zi=>Ro(zi,ri))}),Ft.forEach(mn=>{this.processLeaveNode(mn)})});const Zn=[],Gn=[];for(let mn=this._namespaceList.length-1;mn>=0;mn--)this._namespaceList[mn].drainQueuedTransitions(t).forEach(ri=>{const zi=ri.player,Ho=ri.element;if(Zn.push(zi),this.collectedEnterElements.length){const Sd=Ho[jr];if(Sd&&Sd.setForMove)return void zi.destroy()}const Id=!pe||!this.driver.containsElement(pe,Ho),ou=Bn.get(Ho),Rf=Je.get(Ho),Ps=this._buildInstruction(ri,r,Rf,ou,Id);if(Ps.errors&&Ps.errors.length)Gn.push(Ps);else{if(Id)return zi.onStart(()=>Ki(Ho,Ps.fromStyles)),zi.onDestroy(()=>Gr(Ho,Ps.toStyles)),void u.push(zi);if(ri.isFallbackTransition)return zi.onStart(()=>Ki(Ho,Ps.fromStyles)),zi.onDestroy(()=>Gr(Ho,Ps.toStyles)),void u.push(zi);Ps.timelines.forEach(Sd=>Sd.stretchStartingKeyframe=!0),r.append(Ho,Ps.timelines),g.push({instruction:Ps,player:zi,element:Ho}),Ps.queriedElements.forEach(Sd=>xi(w,Sd,[]).push(zi)),Ps.preStyleProps.forEach((Sd,xv)=>{const B0=Object.keys(Sd);if(B0.length){let cg=A.get(xv);cg||A.set(xv,cg=new Set),B0.forEach(DT=>cg.add(DT))}}),Ps.postStyleProps.forEach((Sd,xv)=>{const B0=Object.keys(Sd);let cg=F.get(xv);cg||F.set(xv,cg=new Set),B0.forEach(DT=>cg.add(DT))})}});if(Gn.length){const mn=[];Gn.forEach(Pn=>{mn.push(`@${Pn.triggerName} has failed due to:\n`),Pn.errors.forEach(ri=>mn.push(`- ${ri}\n`))}),Zn.forEach(Pn=>Pn.destroy()),this.reportError(mn)}const Ni=new Map,ol=new Map;g.forEach(mn=>{const Pn=mn.element;r.has(Pn)&&(ol.set(Pn,Pn),this._beforeAnimationBuild(mn.player.namespaceId,mn.instruction,Ni))}),u.forEach(mn=>{const Pn=mn.element;this._getPreviousPlayers(Pn,!1,mn.namespaceId,mn.triggerName,null).forEach(zi=>{xi(Ni,Pn,[]).push(zi),zi.destroy()})});const bh=Ft.filter(mn=>La(mn,A,F)),wh=new Map;fo(wh,this.driver,On,F,qt.l3).forEach(mn=>{La(mn,A,F)&&bh.push(mn)});const Dv=new Map;Xe.forEach((mn,Pn)=>{fo(Dv,this.driver,new Set(mn),A,qt.k1)}),bh.forEach(mn=>{const Pn=wh.get(mn),ri=Dv.get(mn);wh.set(mn,Object.assign(Object.assign({},Pn),ri))});const ug=[],AI=[],MI={};g.forEach(mn=>{const{element:Pn,player:ri,instruction:zi}=mn;if(r.has(Pn)){if(X.has(Pn))return ri.onDestroy(()=>Gr(Pn,zi.toStyles)),ri.disabled=!0,ri.overrideTotalTime(zi.totalTime),void u.push(ri);let Ho=MI;if(ol.size>1){let ou=Pn;const Rf=[];for(;ou=ou.parentNode;){const Ps=ol.get(ou);if(Ps){Ho=Ps;break}Rf.push(ou)}Rf.forEach(Ps=>ol.set(Ps,Ho))}const Id=this._buildAnimation(ri.namespaceId,zi,Ni,d,Dv,wh);if(ri.setRealPlayer(Id),Ho===MI)ug.push(ri);else{const ou=this.playersByElement.get(Ho);ou&&ou.length&&(ri.parentPlayer=ar(ou)),u.push(ri)}}else Ki(Pn,zi.fromStyles),ri.onDestroy(()=>Gr(Pn,zi.toStyles)),AI.push(ri),X.has(Pn)&&u.push(ri)}),AI.forEach(mn=>{const Pn=d.get(mn.element);if(Pn&&Pn.length){const ri=ar(Pn);mn.setRealPlayer(ri)}}),u.forEach(mn=>{mn.parentPlayer?mn.syncPlayerEvents(mn.parentPlayer):mn.destroy()});for(let mn=0;mn<Ft.length;mn++){const Pn=Ft[mn],ri=Pn[jr];if(Ro(Pn,qi),ri&&ri.hasAnimation)continue;let zi=[];if(w.size){let Id=w.get(Pn);Id&&Id.length&&zi.push(...Id);let ou=this.driver.query(Pn,ei,!0);for(let Rf=0;Rf<ou.length;Rf++){let Ps=w.get(ou[Rf]);Ps&&Ps.length&&zi.push(...Ps)}}const Ho=zi.filter(Id=>!Id.destroyed);Ho.length?Zo(this,Pn,Ho):this.processLeaveNode(Pn)}return Ft.length=0,ug.forEach(mn=>{this.players.push(mn),mn.onDone(()=>{mn.destroy();const Pn=this.players.indexOf(mn);this.players.splice(Pn,1)}),mn.play()}),ug}elementContainsData(e,t){let r=!1;const u=t[jr];return u&&u.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,u,d){let g=[];if(t){const w=this.playersByQueriedElement.get(e);w&&(g=w)}else{const w=this.playersByElement.get(e);if(w){const A=!d||d==ho;w.forEach(F=>{F.queued||!A&&F.triggerName!=u||g.push(F)})}}return(r||u)&&(g=g.filter(w=>!(r&&r!=w.namespaceId||u&&u!=w.triggerName))),g}_beforeAnimationBuild(e,t,r){const d=t.element,g=t.isRemovalTransition?void 0:e,w=t.isRemovalTransition?void 0:t.triggerName;for(const A of t.timelines){const F=A.element,X=F!==d,pe=xi(r,F,[]);this._getPreviousPlayers(F,X,g,w,t.toState).forEach(Xe=>{const Je=Xe.getRealPlayer();Je.beforeDestroy&&Je.beforeDestroy(),Xe.destroy(),pe.push(Xe)})}Ki(d,t.fromStyles)}_buildAnimation(e,t,r,u,d,g){const w=t.triggerName,A=t.element,F=[],X=new Set,pe=new Set,He=t.timelines.map(Je=>{const _t=Je.element;X.add(_t);const Ft=_t[jr];if(Ft&&Ft.removedBeforeQueried)return new qt.ZN(Je.duration,Je.delay);const vn=_t!==A,On=function ga(n){const e=[];return ma(n,e),e}((r.get(_t)||Na).map(Ni=>Ni.getRealPlayer())).filter(Ni=>!!Ni.element&&Ni.element===_t),Bn=d.get(_t),bn=g.get(_t),Zn=di(0,this._normalizer,0,Je.keyframes,Bn,bn),Gn=this._buildPlayer(Je,Zn,On);if(Je.subTimeline&&u&&pe.add(_t),vn){const Ni=new ko(e,w,_t);Ni.setRealPlayer(Gn),F.push(Ni)}return Gn});F.forEach(Je=>{xi(this.playersByQueriedElement,Je.element,[]).push(Je),Je.onDone(()=>function Is(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const u=r.indexOf(t);r.splice(u,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const u=r.indexOf(t);r.splice(u,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,Je.element,Je))}),X.forEach(Je=>Tr(Je,Gt));const Xe=ar(He);return Xe.onDestroy(()=>{X.forEach(Je=>Ro(Je,Gt)),Gr(A,t.toStyles)}),pe.forEach(Je=>{xi(u,Je,[]).push(Xe)}),Xe}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new qt.ZN(e.duration,e.delay)}}class ko{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new qt.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>tr(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){xi(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function $o(n){return n&&1===n.nodeType}function cl(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function fo(n,e,t,r,u){const d=[];t.forEach(A=>d.push(cl(A)));const g=[];r.forEach((A,F)=>{const X={};A.forEach(pe=>{const He=X[pe]=e.computeStyle(F,pe,u);(!He||0==He.length)&&(F[jr]=au,g.push(F))}),n.set(F,X)});let w=0;return t.forEach(A=>cl(A,d[w++])),g}function Fa(n,e){const t=new Map;if(n.forEach(w=>t.set(w,[])),0==e.length)return t;const u=new Set(e),d=new Map;function g(w){if(!w)return 1;let A=d.get(w);if(A)return A;const F=w.parentNode;return A=t.has(F)?F:u.has(F)?1:g(F),d.set(w,A),A}return e.forEach(w=>{const A=g(w);1!==A&&t.get(A).push(w)}),t}const eo="$$classes";function Tr(n,e){if(n.classList)n.classList.add(e);else{let t=n[eo];t||(t=n[eo]={}),t[e]=!0}}function Ro(n,e){if(n.classList)n.classList.remove(e);else{let t=n[eo];t&&delete t[e]}}function Zo(n,e,t){ar(t).onDone(()=>n.processLeaveNode(e))}function ma(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof qt.ZE?ma(r.players,e):e.push(r)}}function La(n,e,t){const r=t.get(n);if(!r)return!1;let u=e.get(n);return u?r.forEach(d=>u.add(d)):e.set(n,r),t.delete(n),!0}class Go{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(u,d)=>{},this._transitionEngine=new fa(e,t,r),this._timelineEngine=new St(e,t,r),this._transitionEngine.onRemovalComplete=(u,d)=>this.onRemovalComplete(u,d)}registerTrigger(e,t,r,u,d){const g=e+"-"+u;let w=this._triggerCache[g];if(!w){const A=[],F=rr(this._driver,d,A);if(A.length)throw new Error(`The animation trigger "${u}" has failed to build due to the following errors:\n - ${A.join("\n - ")}`);w=function Jr(n,e,t){return new Qs(n,e,t)}(u,F,this._normalizer),this._triggerCache[g]=w}this._transitionEngine.registerTrigger(t,u,w)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,u){this._transitionEngine.insertNode(e,t,r,u)}onRemove(e,t,r,u){this._transitionEngine.removeNode(e,t,u||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,u){if("@"==r.charAt(0)){const[d,g]=Ji(r);this._timelineEngine.command(d,t,g,u)}else this._transitionEngine.trigger(e,t,r,u)}listen(e,t,r,u,d){if("@"==r.charAt(0)){const[g,w]=Ji(r);return this._timelineEngine.listen(g,t,w,d)}return this._transitionEngine.listen(e,t,r,u,d)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function dl(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=cr(e[0]),e.length>1&&(r=cr(e[e.length-1]))):e&&(t=cr(e)),t||r?new hl(n,t,r):null}let hl=(()=>{class n{constructor(t,r,u){this._element=t,this._startStyles=r,this._endStyles=u,this._state=0;let d=n.initialStylesByElement.get(t);d||n.initialStylesByElement.set(t,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Gr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Gr(this._element,this._initialStyles),this._endStyles&&(Gr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ki(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ki(this._element,this._endStyles),this._endStyles=null),Gr(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function cr(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const u=t[r];Bs(u)&&(e=e||{},e[u]=n[u])}return e}function Bs(n){return"display"===n||"position"===n}const fl="animation",pl="animationend";class Va{constructor(e,t,r,u,d,g,w){this._element=e,this._name=t,this._duration=r,this._delay=u,this._easing=d,this._fillMode=g,this._onDoneFn=w,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=A=>this._handleCallback(A)}apply(){(function lu(n,e){const t=po(n,"").trim();let r=0;t.length&&(r=function Ii(n,e){let t=0;for(let r=0;r<n.length;r++)n.charAt(r)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),Ba(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),dr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Bu(this._element,this._name,"paused")}resume(){Bu(this._element,this._name,"running")}setPosition(e){const t=Wo(this._element,this._name);this._position=e*this._duration,Ba(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),dr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function Po(n,e){const r=po(n,"").split(","),u=_a(r,e);u>=0&&(r.splice(u,1),Ba(n,"",r.join(",")))}(this._element,this._name))}}function Bu(n,e,t){Ba(n,"PlayState",t,Wo(n,e))}function Wo(n,e){const t=po(n,"");return t.indexOf(",")>0?_a(t.split(","),e):_a([t],e)}function _a(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function dr(n,e,t){t?n.removeEventListener(pl,e):n.addEventListener(pl,e)}function Ba(n,e,t,r){const u=fl+e;if(null!=r){const d=n.style[u];if(d.length){const g=d.split(",");g[r]=t,t=g.join(",")}}n.style[u]=t}function po(n,e){return n.style[fl+e]||""}class Nl{constructor(e,t,r,u,d,g,w,A){this.element=e,this.keyframes=t,this.animationName=r,this._duration=u,this._delay=d,this._finalStyles=w,this._specialStyles=A,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=g||"linear",this.totalTime=u+d,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Va(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:qs(this.element,r))})}this.currentSnapshot=e}}class va extends qt.ZN{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Bi(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class to{constructor(){this._count=0}validateStyleProperty(e){return _n(e)}matchesElement(e,t){return hi(e,t)}containsElement(e,t){return nr(e,t)}query(e,t,r){return si(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(w=>Bi(w));let u=`@keyframes ${t} {\n`,d="";r.forEach(w=>{d=" ";const A=parseFloat(w.offset);u+=`${d}${100*A}% {\n`,d+=" ",Object.keys(w).forEach(F=>{const X=w[F];switch(F){case"offset":return;case"easing":return void(X&&(u+=`${d}animation-timing-function: ${X};\n`));default:return void(u+=`${d}${F}: ${X};\n`)}}),u+=`${d}}\n`}),u+="}\n";const g=document.createElement("style");return g.textContent=u,g}animate(e,t,r,u,d,g=[],w){const A=g.filter(Ft=>Ft instanceof Nl),F={};ao(r,u)&&A.forEach(Ft=>{let vn=Ft.currentSnapshot;Object.keys(vn).forEach(On=>F[On]=vn[On])});const X=function du(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(u=>{"offset"==u||"easing"==u||(e[u]=r[u])})}),e}(t=So(e,t,F));if(0==r)return new va(e,X);const pe="gen_css_kf_"+this._count++,He=this.buildKeyframeElement(e,pe,t);(function cu(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(He);const Je=dl(e,t),_t=new Nl(e,t,pe,r,u,d,X,Je);return _t.onDestroy(()=>function Fl(n){n.parentNode.removeChild(n)}(He)),_t}}class ba{constructor(e,t,r,u){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:qs(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Uu{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(qo().toString()),this._cssKeyframesDriver=new to}validateStyleProperty(e){return _n(e)}matchesElement(e,t){return hi(e,t)}containsElement(e,t){return nr(e,t)}query(e,t,r){return si(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,u,d,g=[],w){if(!w&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,u,d,g);const X={duration:r,delay:u,fill:0==u?"both":"forwards"};d&&(X.easing=d);const pe={},He=g.filter(Je=>Je instanceof ba);ao(r,u)&&He.forEach(Je=>{let _t=Je.currentSnapshot;Object.keys(_t).forEach(Ft=>pe[Ft]=_t[Ft])});const Xe=dl(e,t=So(e,t=t.map(Je=>mr(Je,!1)),pe));return new ba(e,t,X,Xe)}}function qo(){return Br()&&Element.prototype.animate||{}}let ju=(()=>{class n extends qt._j{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:v.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(t)?(0,qt.vP)(t):t;return gl(this._renderer,null,r,"register",[u]),new Ua(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.FYo),v.LFG(i.K0))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class Ua extends qt.LC{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ha(this._id,e,t||{},this._renderer)}}class Ha{constructor(e,t,r,u){this.id=e,this.element=t,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return gl(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function gl(n,e,t,r,u){return n.setProperty(e,`@@${t}:${r}`,u)}const wa="@.disabled";let Ss=(()=>{class n{constructor(t,r,u){this.delegate=t,this.engine=r,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(d,g)=>{const w=null==g?void 0:g.parentNode(d);w&&g.removeChild(w,d)}}createRenderer(t,r){const d=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let X=this._rendererCache.get(d);return X||(X=new _l("",d,this.engine),this._rendererCache.set(d,X)),X}const g=r.id,w=r.id+"-"+this._currentId;this._currentId++,this.engine.register(w,t);const A=X=>{Array.isArray(X)?X.forEach(A):this.engine.registerTrigger(g,w,t,X.name,X)};return r.data.animation.forEach(A),new zu(this,w,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,u){t>=0&&t<this._microtaskId?this._zone.run(()=>r(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[g,w]=d;g(w)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(v.FYo),v.LFG(Go),v.LFG(v.R0b))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();class _l{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,u=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,u)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,u){this.delegate.setAttribute(e,t,r,u)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,u){this.delegate.setStyle(e,t,r,u)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==wa?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class zu extends _l{constructor(e,t,r,u){super(t,r,u),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==wa?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const u=function Ca(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let d=t.substr(1),g="";return"@"!=d.charAt(0)&&([d,g]=function ja(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(d)),this.engine.listen(this.namespaceId,u,d,g,w=>{this.factory.scheduleListenerCallback(w._data||-1,r,w)})}return this.delegate.listen(e,t,r)}}let hu=(()=>{class n extends Go{constructor(t,r,u){super(t.body,r,u)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(i.K0),v.LFG(Di),v.LFG(U))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac}),n})();const V=new v.OlP("AnimationModuleType"),G=[{provide:qt._j,useClass:ju},{provide:U,useFactory:function D(){return new O}},{provide:Go,useClass:hu},{provide:v.FYo,useFactory:function I(n,e,t){return new Ss(n,e,t)},deps:[mt,Go,v.R0b]}],ae=[{provide:Di,useFactory:function M(){return function Hu(){return"function"==typeof qo()}()?new Uu:new to}},{provide:V,useValue:"BrowserAnimations"},...G],me=[{provide:Di,useClass:Xn},{provide:V,useValue:"NoopAnimations"},...G];let Re=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?me:ae}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:ae,imports:[Ct]}),n})();var un,Bt=R(2011),Vn=R(4986),rn=R(8306),ii=R(8996),kn=R(9646),_i=R(5813),Xr=R(8675),pi=R(1520),yi=R(4004),es=R(5026),$r=R(1884),yr=R(9300),pu=(R(6583),R(3942)),ut=R(5861),Ea=R(9681),yl=R(4859),Si=R(1877),ai=R(2090),Mc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ta={},Ll=Ll||{},xn=Mc||self;function Oc(){}function Ko(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gu(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Vl="closure_uid_"+(1e9*Math.random()>>>0),$u=0;function vl(n,e,t){return n.call.apply(n.bind,arguments)}function kc(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,r),n.apply(e,u)}}return function(){return n.apply(e,arguments)}}function ki(n,e,t){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vl:kc).apply(null,arguments)}function Hs(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function vr(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,u,d){for(var g=Array(arguments.length-2),w=2;w<arguments.length;w++)g[w-2]=arguments[w];return e.prototype[u].apply(r,g)}}function mo(){this.s=this.s,this.o=this.o}var Zu={};mo.prototype.s=!1,mo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Fr(n){return Object.prototype.hasOwnProperty.call(n,Vl)&&n[Vl]||(n[Vl]=++$u)}(this);delete Zu[n]}},mo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mu=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Gu(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function _u(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ko(r)){const u=n.length||0,d=r.length||0;n.length=u+d;for(let g=0;g<d;g++)n[u+g]=r[g]}else n.push(r)}}function fs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}fs.prototype.h=function(){this.defaultPrevented=!0};var Rc=function(){if(!xn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{xn.addEventListener("test",Oc,e),xn.removeEventListener("test",Oc,e)}catch(t){}return n}();function ts(n){return/^[\s\xa0]*$/.test(n)}var Ia=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function _o(n,e){return n<e?-1:n>e?1:0}function Bl(){var n=xn.navigator;return n&&(n=n.userAgent)?n:""}function js(n){return-1!=Bl().indexOf(n)}function Ul(n){return Ul[" "](n),n}Ul[" "]=Oc;var Yo,n,yu=js("Opera"),Hl=js("Trident")||js("MSIE"),Dd=js("Edge"),qu=Dd||Hl,wl=js("Gecko")&&!(-1!=Bl().toLowerCase().indexOf("webkit")&&!js("Edge"))&&!(js("Trident")||js("MSIE"))&&!js("Edge"),jl=-1!=Bl().toLowerCase().indexOf("webkit")&&!js("Edge");function Sa(){var n=xn.document;return n?n.documentMode:void 0}e:{var za="",zl=(n=Bl(),wl?/rv:([^\);]+)(\)|;)/.exec(n):Dd?/Edge\/([\d\.]+)/.exec(n):Hl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):jl?/WebKit\/(\S+)/.exec(n):yu?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zl&&(za=zl?zl[1]:""),Hl){var Fo=Sa();if(null!=Fo&&Fo>parseFloat(za)){Yo=String(Fo);break e}}Yo=za}var vu={};var Qo=xn.document&&Hl&&(Sa()||parseInt(Yo,10))||void 0;function yo(n,e){if(fs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(wl){e:{try{Ul(e.nodeName);var u=!0;break e}catch(d){}u=!1}u||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Nc[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yo.X.h.call(this)}}vr(yo,fs);var Nc={2:"touch",3:"pen",4:"mouse"};yo.prototype.h=function(){yo.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var br="closure_listenable_"+(1e6*Math.random()|0),P=0;function j(n,e,t,r,u){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=u,this.key=++P,this.ba=this.ea=!1}function se(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function _e(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Ge(n){const e={};for(const t in n)e[t]=n[t];return e}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(n,e){let t,r;for(let u=1;u<arguments.length;u++){for(t in r=arguments[u],r)n[t]=r[t];for(let d=0;d<st.length;d++)t=st[d],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $t(n){this.src=n,this.g={},this.h=0}function an(n,e){var t=e.type;if(t in n.g){var d,r=n.g[t],u=mu(r,e);(d=0<=u)&&Array.prototype.splice.call(r,u,1),d&&(se(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Nn(n,e,t,r){for(var u=0;u<n.length;++u){var d=n[u];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==r)return u}return-1}$t.prototype.add=function(n,e,t,r,u){var d=n.toString();(n=this.g[d])||(n=this.g[d]=[],this.h++);var g=Nn(n,e,r,u);return-1<g?(e=n[g],t||(e.ea=!1)):((e=new j(e,this.src,d,!!r,u)).ea=t,n.push(e)),e};var An="closure_lm_"+(1e6*Math.random()|0),yn={};function Lr(n,e,t,r,u){if(r&&r.once)return Cl(n,e,t,r,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Lr(n,e[d],t,r,u);return null}return t=El(t),n&&n[br]?n.N(e,t,gu(r)?!!r.capture:!!r,u):Ir(n,e,t,!1,r,u)}function Ir(n,e,t,r,u,d){if(!e)throw Error("Invalid event type");var g=gu(u)?!!u.capture:!!u,w=bo(n);if(w||(n[An]=w=new $t(n)),(t=w.add(e,t,r,g,d)).proxy)return t;if(r=function $a(){const e=Xo;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Rc||(u=g),void 0===u&&(u=!1),n.addEventListener(e.toString(),r,u);else if(n.attachEvent)n.attachEvent(vo(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Cl(n,e,t,r,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Cl(n,e[d],t,r,u);return null}return t=El(t),n&&n[br]?n.O(e,t,gu(r)?!!r.capture:!!r,u):Ir(n,e,t,!0,r,u)}function Jo(n,e,t,r,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)Jo(n,e[d],t,r,u);else r=gu(r)?!!r.capture:!!r,t=El(t),n&&n[br]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Nn(d=n.g[e],t,r,u))&&(se(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete n.g[e],n.h--))):n&&(n=bo(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Nn(e,t,r,u)),(t=-1<n?e[n]:null)&&$l(t))}function $l(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[br])an(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vo(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=bo(e))?(an(t,n),0==t.h&&(t.src=null,e[An]=null)):se(n)}}}function vo(n){return n in yn?yn[n]:yn[n]="on"+n}function Xo(n,e){if(n.ba)n=!0;else{e=new yo(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&$l(n),n=t.call(r,e)}return n}function bo(n){return(n=n[An])instanceof $t?n:null}var xa="__closure_events_fn_"+(1e9*Math.random()>>>0);function El(n){return"function"==typeof n?n:(n[xa]||(n[xa]=function(e){return n.handleEvent(e)}),n[xa])}function ns(){mo.call(this),this.i=new $t(this),this.P=this,this.I=null}function Ds(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new fs(e,n);else if(e instanceof fs)e.target=e.target||n;else{var u=e;xt(e=new fs(r,n),u)}if(u=!0,t)for(var d=t.length-1;0<=d;d--){var g=e.g=t[d];u=bu(g,r,!0,e)&&u}if(u=bu(g=e.g=n,r,!0,e)&&u,u=bu(g,r,!1,e)&&u,t)for(d=0;d<t.length;d++)u=bu(g=e.g=t[d],r,!1,e)&&u}function bu(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ba&&g.capture==t){var w=g.listener,A=g.ha||g.src;g.ea&&an(n.i,g),u=!1!==w.call(A,r)&&u}}return u&&!r.defaultPrevented}vr(ns,mo),ns.prototype[br]=!0,ns.prototype.removeEventListener=function(n,e,t,r){Jo(this,n,e,t,r)},ns.prototype.M=function(){if(ns.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)se(t[r]);delete n.g[e],n.h--}}this.I=null},ns.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ns.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var xd=xn.JSON.stringify;function Pf(){var n=Ad;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Qu,Fc=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Yu,n=>n.reset());class Yu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ch(n){xn.setTimeout(()=>{throw n},0)}function Lc(n,e){Qu||function Zl(){var n=xn.Promise.resolve(void 0);Qu=function(){n.then(Md)}}(),Cu||(Qu(),Cu=!0),Ad.add(n,e)}var Cu=!1,Ad=new class wu{constructor(){this.h=this.g=null}add(e,t){const r=Fc.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Md(){for(var n;n=Pf();){try{n.h.call(n.g)}catch(t){Ch(t)}var e=Fc;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Cu=!1}function Vc(n,e){ns.call(this),this.h=n||1,this.g=e||xn,this.j=ki(this.kb,this),this.l=Date.now()}function Bc(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Od(n,e,t){if("function"==typeof n)t&&(n=ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:xn.setTimeout(n,e||0)}function Eh(n){n.g=Od(()=>{n.g=null,n.i&&(n.i=!1,Eh(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}vr(Vc,ns),(un=Vc.prototype).ca=!1,un.R=null,un.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ds(this,"tick"),this.ca&&(Bc(this),this.start()))}},un.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},un.M=function(){Vc.X.M.call(this),Bc(this),delete this.g};class dg extends mo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Eh(this)}M(){super.M(),this.g&&(xn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ju(n){mo.call(this),this.h=n,this.g={}}vr(Ju,mo);var kd=[];function Tl(n,e,t,r){Array.isArray(t)||(t&&(kd[0]=t.toString()),t=kd);for(var u=0;u<t.length;u++){var d=Lr(e,t[u],r||n.handleEvent,!1,n.h||n);if(!d)break;n.g[d.key]=d}}function Xu(n){_e(n.g,function(e,t){this.g.hasOwnProperty(t)&&$l(e)},n),n.g={}}function Rd(){this.g=!0}function Uc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wm(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var u=r[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return xd(t)}catch(w){return e}}(n,t)+(r?" "+r:"")})}Ju.prototype.M=function(){Ju.X.M.call(this),Xu(this)},Ju.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rd.prototype.Aa=function(){this.g=!1},Rd.prototype.info=function(){};var Aa={},Ff=null;function Pd(){return Ff=Ff||new ns}function Lf(n){fs.call(this,Aa.Oa,n)}function Hc(n){const e=Pd();Ds(e,new Lf(e,n))}function Vf(n,e){fs.call(this,Aa.STAT_EVENT,n),this.stat=e}function C(n){const e=Pd();Ds(e,new Vf(e,n))}function N(n,e){fs.call(this,Aa.Pa,n),this.size=e}function l(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return xn.setTimeout(function(){n()},e)}Aa.Oa="serverreachability",vr(Lf,fs),Aa.STAT_EVENT="statevent",vr(Vf,fs),Aa.Pa="timingevent",vr(N,fs);var f={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},y={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function S(){}function Te(){}S.prototype.h=null;var pn,Fe={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function vt(){fs.call(this,"d")}function Lt(){fs.call(this,"c")}function ti(){}function Mn(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Ju(this),this.O=Pi,this.T=new Vc(n=qu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Ri}function Ri(){this.i=null,this.g="",this.h=!1}vr(vt,fs),vr(Lt,fs),vr(ti,S),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},pn=new ti;var Pi=45e3,hr={},Il={};function Eu(n,e,t){n.K=1,n.v=zc(Wl(e)),n.s=t,n.P=!0,ea(n,null)}function ea(n,e){n.F=Date.now(),Wa(n),n.A=Wl(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Fd(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Ri,n.g=Ae(n.l,t?e:null,!n.s),0<n.N&&(n.L=new dg(ki(n.Ka,n,n.g),n.N)),Tl(n.S,n.g,"readystatechange",n.hb),e=n.H?Ge(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Hc(1),function Nf(n,e,t,r,u,d){n.info(function(){if(n.g)if(d)for(var g="",w=d.split("&"),A=0;A<w.length;A++){var F=w[A].split("=");if(1<F.length){var X=F[0];F=F[1];var pe=X.split("_");g=2<=pe.length&&"type"==pe[1]?g+(X+"=")+F+"&":g+(X+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+r+") [attempt "+u+"]: "+e+"\n"+t+"\n"+g})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Za(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Tu(n,e,t){let u,r=!0;for(;!n.I&&n.C<t.length;){if(u=Ga(n,t),u==Il){4==e&&(n.o=4,C(14),r=!1),Uc(n.j,n.m,null,"[Incomplete Response]");break}if(u==hr){n.o=4,C(15),Uc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Uc(n.j,n.m,u,null),Gl(n,u)}Za(n)&&u!=Il&&u!=hr&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,C(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Jf(e),e.K=!0,C(11))):(Uc(n.j,n.m,t,"[Invalid Chunked Response]"),ec(n),Vi(n))}function Ga(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Il:(t=Number(e.substring(t,r)),isNaN(t)?hr:(r+=1)+t>e.length?Il:(e=e.substr(r,t),n.C=r+t,e))}function Wa(n){n.V=Date.now()+n.O,Lo(n,n.O)}function Lo(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=l(ki(n.fb,n),e)}function no(n){n.B&&(xn.clearTimeout(n.B),n.B=null)}function Vi(n){0==n.l.G||n.I||p(n.l,n)}function ec(n){no(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Bc(n.T),Xu(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Gl(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Gf(t.h,n)))if(!n.J&&Gf(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch(F){r=null}if(Array.isArray(r)&&3==r.length){var u=r;if(0==u[0])e:if(t.u)t.Ba=u[1],0<t.Ba-t.T&&37500>u[2]&&t.L&&0==t.A&&!t.v&&(t.v=l(ki(t.bb,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;b(t),Ud(t)}Qf(t),C(18)}if(1>=Sh(t.h)&&t.ja){try{t.ja()}catch(F){}t.ja=void 0}}else E(t,11)}else if((n.J||t.g==n)&&b(t),!ts(e))for(u=t.Fa.g.parse(e),e=0;e<u.length;e++){let F=u[e];if(t.T=F[0],F=F[1],2==t.G)if("c"==F[0]){t.I=F[1],t.ka=F[2];const X=F[3];null!=X&&(t.ma=X,t.j.info("VER="+t.ma));const pe=F[4];null!=pe&&(t.Ca=pe,t.j.info("SVER="+t.Ca));const He=F[5];null!=He&&"number"==typeof He&&0<He&&(t.J=r=1.5*He,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const Xe=n.g;if(Xe){const Je=Xe.g?Xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Je){var d=r.h;d.g||-1==Je.indexOf("spdy")&&-1==Je.indexOf("quic")&&-1==Je.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(ic(d,d.h),d.h=null))}if(r.D){const _t=Xe.g?Xe.g.getResponseHeader("X-HTTP-Session-Id"):null;_t&&(r.za=_t,li(r.F,r.D,_t))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var g=n;if((r=t).sa=Q(r,r.H?r.ka:null,r.V),g.J){qc(r.h,g);var w=g,A=r.J;A&&w.setTimeout(A),w.B&&(no(w),Wa(w)),r.g=g}else wg(r);0<t.i.length&&ia(t)}else"stop"!=F[0]&&"close"!=F[0]||E(t,7);else 3==t.G&&("stop"==F[0]||"close"==F[0]?"stop"==F[0]?E(t,7):sc(t):"noop"!=F[0]&&t.l&&t.l.wa(F),t.A=0)}Hc(4)}catch(F){}}function Th(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ko(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function fg(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if("undefined"!=typeof Map&&n instanceof Map)return Array.from(n.keys());if(!("undefined"!=typeof Set&&n instanceof Set)){if(Ko(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Bf(n){if(n.W&&"function"==typeof n.W)return n.W();if("undefined"!=typeof Map&&n instanceof Map||"undefined"!=typeof Set&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ko(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),u=r.length,d=0;d<u;d++)e.call(void 0,r[d],t&&t[d],n)}(un=Mn.prototype).setTimeout=function(n){this.O=n},un.hb=function(n){n=n.target;const e=this.L;e&&3==ql(n)?e.l():this.Ka(n)},un.Ka=function(n){try{if(n==this.g)e:{const X=ql(this.g);var e=this.g.Ea();const pe=this.g.aa();if(!(3>X)&&(3!=X||qu||this.g&&(this.h.h||this.g.fa()||Yf(this.g)))){this.I||4!=X||7==e||Hc(8==e||0>=pe?3:2),no(this);var t=this.g.aa();this.Y=t;t:if(Za(this)){var r=Yf(this.g);n="";var u=r.length,d=4==ql(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ec(this),Vi(this);var g="";break t}this.h.i=new xn.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:d&&e==u-1});r.splice(0,u),this.h.g+=n,this.C=0,g=this.h.g}else g=this.g.fa();if(this.i=200==t,function Gm(n,e,t,r,u,d,g){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.U,X,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var w,A=this.g;if((w=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ts(w)){var F=w;break t}}F=null}if(!(t=F)){this.i=!1,this.o=3,C(12),ec(this),Vi(this);break e}Uc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Gl(this,t)}this.P?(Tu(this,X,g),qu&&this.i&&3==X&&(Tl(this.S,this.T,"tick",this.gb),this.T.start())):(Uc(this.j,this.m,g,null),Gl(this,g)),4==X&&ec(this),this.i&&!this.I&&(4==X?p(this.l,this):(this.i=!1,Wa(this)))}else 400==t&&0<g.indexOf("Unknown SID")?(this.o=3,C(12)):(this.o=0,C(13)),ec(this),Vi(this)}}}catch(X){}},un.gb=function(){if(this.g){var n=ql(this.g),e=this.g.fa();this.C<e.length&&(no(this),Tu(this,n,e),this.i&&4!=n&&Wa(this))}},un.cancel=function(){this.I=!0,ec(this)},un.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function hg(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Hc(3),C(17)),ec(this),this.o=2,Vi(this)):Lo(this,this.V-n)};var pg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof tc){this.h=void 0!==e?e:n.h,Nd(this,n.j),this.s=n.s,this.g=n.g,Hf(this,n.m),this.l=n.l,e=n.i;var t=new nc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),jc(this,t),this.o=n.o}else n&&(t=String(n).match(pg))?(this.h=!!e,Nd(this,t[1]||"",!0),this.s=$c(t[2]||""),this.g=$c(t[3]||"",!0),Hf(this,t[4]),this.l=$c(t[5]||"",!0),jc(this,t[6]||"",!0),this.o=$c(t[7]||"")):(this.h=!!e,this.i=new nc(null,this.h))}function Wl(n){return new tc(n)}function Nd(n,e,t){n.j=t?$c(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Hf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function jc(n,e,t){e instanceof nc?(n.i=e,function Km(n,e){e&&!n.j&&(qa(n),n.i=null,n.g.forEach(function(t,r){var u=r.toLowerCase();r!=u&&(mg(this,r),Fd(this,u,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Zc(e,qm)),n.i=new nc(e,n.h))}function li(n,e,t){n.i.set(e,t)}function zc(n){return li(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $c(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,io),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function io(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zc(e,Gc,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zc(e,Gc,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zc(t,"/"==t.charAt(0)?jf:Ih,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zc(t,gg)),n.join("")};var Gc=/[#\/\?@]/g,Ih=/[#\?:]/g,jf=/[#\?]/g,qm=/[#\?@]/g,gg=/#/g;function nc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function qa(n){n.g||(n.g=new Map,n.h=0,n.i&&function Uf(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),u=null;if(0<=r){var d=n[t].substring(0,r);u=n[t].substring(r+1)}else d=n[t];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function mg(n,e){qa(n),e=Wc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function zf(n,e){return qa(n),e=Wc(n,e),n.g.has(e)}function Fd(n,e,t){mg(n,e),0<t.length&&(n.i=null,n.g.set(Wc(n,e),Gu(t)),n.h+=t.length)}function Wc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Zf(n){this.l=n||Ym,n=xn.PerformanceNavigationTiming?0<(n=xn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(xn.g&&xn.g.Ga&&xn.g.Ga()&&xn.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(un=nc.prototype).add=function(n,e){qa(this),this.i=null,n=Wc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},un.forEach=function(n,e){qa(this),this.g.forEach(function(t,r){t.forEach(function(u){n.call(e,u,r,this)},this)},this)},un.oa=function(){qa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const u=n[r];for(let d=0;d<u.length;d++)t.push(e[r])}return t},un.W=function(n){qa(this);let e=[];if("string"==typeof n)zf(this,n)&&(e=e.concat(this.g.get(Wc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},un.set=function(n,e){return qa(this),this.i=null,zf(this,n=Wc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},un.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},un.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const d=encodeURIComponent(String(r)),g=this.W(r);for(r=0;r<g.length;r++){var u=d;""!==g[r]&&(u+="="+encodeURIComponent(String(g[r]))),n.push(u)}}return this.i=n.join("&")};var Ym=10;function Qm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Sh(n){return n.h?1:n.g?n.g.size:0}function Gf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function ic(n,e){n.g?n.g.add(e):n.h=e}function qc(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Wf(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Gu(n.i)}function qf(){}function Jm(){this.g=new qf}function Xm(n,e,t){const r=t||"";try{Th(n,function(u,d){let g=u;gu(u)&&(g=xd(u)),e.push(r+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(r+"type="+encodeURIComponent("_badmap")),u}}function Kc(n,e,t,r,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(r)}catch(d){}}function rc(n){this.l=n.$b||null,this.j=n.ib||!1}function Yc(n,e){ns.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Dh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zf.prototype.cancel=function(){if(this.i=Wf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},qf.prototype.stringify=function(n){return xn.JSON.stringify(n,void 0)},qf.prototype.parse=function(n){return xn.JSON.parse(n,void 0)},vr(rc,S),rc.prototype.g=function(){return new Yc(this.l,this.j)},rc.prototype.i=function(n){return function(){return n}}({}),vr(Yc,ns);var Dh=0;function _g(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function Iu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ld(n)}function Ld(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(un=Yc.prototype).open=function(n,e){if(this.readyState!=Dh)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ld(this)},un.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||xn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ga.bind(this))},un.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Iu(this)),this.readyState=Dh},un.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ld(this)),this.g&&(this.readyState=3,Ld(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(void 0!==xn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_g(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},un.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Iu(this):Ld(this),3==this.readyState&&_g(this)}},un.Ua=function(n){this.g&&(this.response=this.responseText=n,Iu(this))},un.Ta=function(n){this.g&&(this.response=n,Iu(this))},un.ga=function(){this.g&&Iu(this)},un.setRequestHeader=function(n,e){this.v.append(n,e)},un.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},un.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Yc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ta=xn.JSON.parse;function wr(n){ns.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Su,this.K=this.L=!1}vr(wr,ns);var Su="",Sl=/^https?$/i,yg=["POST","PUT"];function Kf(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,bg(n),na(n)}function bg(n){n.D||(n.D=!0,Ds(n,"complete"),Ds(n,"error"))}function Ka(n){if(n.h&&void 0!==Ll&&(!n.C[1]||4!=ql(n)||2!=n.aa()))if(n.v&&4==ql(n))Od(n.Ha,0,n);else if(Ds(n,"readystatechange"),4==ql(n)){n.h=!1;try{const w=n.aa();e:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===w){var u=String(n.H).match(pg)[1]||null;if(!u&&xn.self&&xn.self.location){var d=xn.self.location.protocol;u=d.substr(0,d.length-1)}r=!Sl.test(u?u.toLowerCase():"")}t=r}if(t)Ds(n,"complete"),Ds(n,"success");else{n.m=6;try{var g=2<ql(n)?n.g.statusText:""}catch(A){g=""}n.j=g+" ["+n.aa()+"]",bg(n)}}finally{na(n)}}}function na(n,e){if(n.g){Vd(n);const t=n.g,r=n.C[0]?Oc:null;n.g=null,n.C=null,e||Ds(n,"ready");try{t.onreadystatechange=r}catch(u){}}}function Vd(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(xn.clearTimeout(n.A),n.A=null)}function ql(n){return n.g?n.g.readyState:0}function Yf(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Su:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Qc(n){let e="";return _e(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Bd(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Qc(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):li(n,e,t))}function ps(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Jc(n){this.Ca=0,this.i=[],this.j=new Rd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=ps("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=ps("baseRetryDelayMs",5e3,n),this.ab=ps("retryDelaySeedMs",1e4,n),this.Za=ps("forwardChannelMaxRetries",2,n),this.ta=ps("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Zf(n&&n.concurrentRequestLimit),this.Fa=new Jm,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function sc(n){if(Kl(n),3==n.G){var e=n.U++,t=Wl(n.F);li(t,"SID",n.I),li(t,"RID",e),li(t,"TYPE","terminate"),Hd(n,t),(e=new Mn(n,n.j,e,void 0)).K=2,e.v=zc(Wl(t)),t=!1,xn.navigator&&xn.navigator.sendBeacon&&(t=xn.navigator.sendBeacon(e.v.toString(),"")),!t&&xn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ae(e.l,null),e.g.da(e.v)),e.F=Date.now(),Wa(e)}$(n)}function Ud(n){n.g&&(Jf(n),n.g.cancel(),n.g=null)}function Kl(n){Ud(n),n.u&&(xn.clearTimeout(n.u),n.u=null),b(n),n.h.cancel(),n.m&&("number"==typeof n.m&&xn.clearTimeout(n.m),n.m=null)}function ia(n){Qm(n.h)||n.m||(n.m=!0,Lc(n.Ja,n),n.C=0)}function Ah(n,e){var t;t=e?e.m:n.U++;const r=Wl(n.F);li(r,"SID",n.I),li(r,"RID",t),li(r,"AID",n.T),Hd(n,r),n.o&&n.s&&Bd(r,n.o,n.s),t=new Mn(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=Xc(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),ic(n.h,t),Eu(t,r,e)}function Hd(n,e){n.ia&&_e(n.ia,function(t,r){li(e,r,t)}),n.l&&Th({},function(t,r){li(e,r,t)})}function Xc(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ki(n.l.Qa,n.l,n):null;e:{var u=n.i;let d=-1;for(;;){const g=["count="+t];-1==d?0<t?(d=u[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let w=!0;for(let A=0;A<t;A++){let F=u[A].h;const X=u[A].g;if(F-=d,0>F)d=Math.max(0,u[A].h-100),w=!1;else try{Xm(X,g,"req"+F+"_")}catch(pe){r&&r(X)}}if(w){r=g.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function wg(n){n.g||n.u||(n.Z=1,Lc(n.Ia,n),n.A=0)}function Qf(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=l(ki(n.Ia,n),m(n,n.A)),n.A++,0))}function Jf(n){null!=n.B&&(xn.clearTimeout(n.B),n.B=null)}function Cg(n){n.g=new Mn(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Wl(n.sa);li(e,"RID","rpc"),li(e,"SID",n.I),li(e,"CI",n.L?"0":"1"),li(e,"AID",n.T),li(e,"TYPE","xmlhttp"),Hd(n,e),n.o&&n.s&&Bd(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=zc(Wl(e)),t.s=null,t.P=!0,ea(t,n)}function b(n){null!=n.v&&(xn.clearTimeout(n.v),n.v=null)}function p(n,e){var t=null;if(n.g==e){b(n),Jf(n),n.g=null;var r=2}else{if(!Gf(n.h,e))return;t=e.D,qc(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=n.C;Ds(r=Pd(),new N(r,t,e,u)),ia(n)}else wg(n);else if(3==(u=e.o)||0==u&&0<n.pa||!(1==r&&function xh(n,e){return!(Sh(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=l(ki(n.Ja,n,e),m(n,n.C)),n.C++,0)))}(n,e)||2==r&&Qf(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),u){case 1:E(n,5);break;case 4:E(n,10);break;case 3:E(n,6);break;default:E(n,2)}}function m(n,e){let t=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(t*=2),t*e}function E(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ki(n.jb,n);t||(t=new tc("//www.google.com/images/cleardot.gif"),xn.location&&"http"==xn.location.protocol||Nd(t,"https"),zc(t)),function e_(n,e){const t=new Rd;if(xn.Image){const r=new Image;r.onload=Hs(Kc,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Hs(Kc,t,r,"TestLoadImage: error",!1,e),r.onabort=Hs(Kc,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hs(Kc,t,r,"TestLoadImage: timeout",!1,e),xn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else C(2);n.G=0,n.l&&n.l.va(e),$(n),Kl(n)}function $(n){if(n.G=0,n.la=[],n.l){const e=Wf(n.h);(0!=e.length||0!=n.i.length)&&(_u(n.la,e),_u(n.la,n.i),n.h.i.length=0,Gu(n.i),n.i.length=0),n.l.ua()}}function Q(n,e,t){var r=t instanceof tc?Wl(t):new tc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Hf(r,r.m);else{var u=xn.location;r=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new tc(null,void 0);r&&Nd(d,r),e&&(d.g=e),u&&Hf(d,u),t&&(d.l=t),r=d}return e=n.za,(t=n.D)&&e&&li(r,t,e),li(r,"VER",n.ma),Hd(n,r),r}function Ae(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wr(t&&n.Da&&!n.ra?new rc({ib:!0}):n.ra)).L=n.H,e}function tt(){}function Rt(){if(Hl&&!(10<=Number(Qo)))throw Error("Environmental error: no available transport.")}function Tt(n,e){ns.call(this),this.g=new Jc(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Xb)&&!ts(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ts(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ni(this)}function tn(n){vt.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function cn(){Lt.call(this),this.status=1}function ni(n){this.g=n}(un=wr.prototype).da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pn.g(),this.C=function le(n){return n.h||(n.h=n.i())}(this.u?this.u:pn),this.g.onreadystatechange=ki(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(d){return void Kf(this,d)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var u in r)t.set(u,r[u]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const d of r.keys())t.set(d,r.get(d))}r=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),u=xn.FormData&&n instanceof xn.FormData,!(0<=mu(yg,e))||r||u||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,g]of t)this.g.setRequestHeader(d,g);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Vd(this),0<this.B&&((this.K=function vg(n){return Hl&&function Da(){return function Wu(n){var e=vu;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Ia(String(Yo)).split("."),t=Ia("9").split("."),r=Math.max(e.length,t.length);for(let g=0;0==n&&g<r;g++){var u=e[g]||"",d=t[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;n=_o(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||_o(0==u[2].length,0==d[2].length)||_o(u[2],d[2]),u=u[3],d=d[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ki(this.qa,this)):this.A=Od(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(d){Kf(this,d)}},un.qa=function(){void 0!==Ll&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ds(this,"timeout"),this.abort(8))},un.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ds(this,"complete"),Ds(this,"abort"),na(this))},un.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),na(this,!0)),wr.X.M.call(this)},un.Ha=function(){this.s||(this.F||this.v||this.l?Ka(this):this.eb())},un.eb=function(){Ka(this)},un.aa=function(){try{return 2<ql(this)?this.g.status:-1}catch(n){return-1}},un.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},un.Ra=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ta(e)}},un.Ea=function(){return this.m},un.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(un=Jc.prototype).ma=8,un.G=1,un.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const u=new Mn(this,this.j,n,void 0);let d=this.s;if(this.S&&(d?(d=Ge(d),xt(d,this.S)):d=this.S),null!==this.o||this.N||(u.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xc(this,u,e),li(t=Wl(this.F),"RID",n),li(t,"CVER",22),this.D&&li(t,"X-HTTP-Session-Id",this.D),Hd(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(Qc(d)))+"&"+e:this.o&&Bd(t,this.o,d)),ic(this.h,u),this.Xa&&li(t,"TYPE","init"),this.O?(li(t,"$req",e),li(t,"SID","null"),u.Z=!0,Eu(u,t,null)):Eu(u,t,e),this.G=2}}else 3==this.G&&(n?Ah(this,n):0==this.i.length||Qm(this.h)||Ah(this))},un.Ia=function(){if(this.u=null,Cg(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=l(ki(this.cb,this),n)}},un.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,C(10),Ud(this),Cg(this))},un.bb=function(){null!=this.v&&(this.v=null,Ud(this),Qf(this),C(19))},un.jb=function(n){n?(this.j.info("Successfully pinged google.com"),C(2)):(this.j.info("Failed to ping google.com"),C(1))},(un=tt.prototype).xa=function(){},un.wa=function(){},un.va=function(){},un.ua=function(){},un.Qa=function(){},Rt.prototype.g=function(n,e){return new Tt(n,e)},vr(Tt,ns),Tt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;C(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=Q(n,null,n.V),ia(n)},Tt.prototype.close=function(){sc(this.g)},Tt.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=xd(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.$a++,n)),3==e.G&&ia(e)},Tt.prototype.M=function(){this.g.l=null,delete this.j,sc(this.g),delete this.g,Tt.X.M.call(this)},vr(tn,vt),vr(cn,Lt),vr(ni,tt),ni.prototype.xa=function(){Ds(this.g,"a")},ni.prototype.wa=function(n){Ds(this.g,new tn(n))},ni.prototype.va=function(n){Ds(this.g,new cn(n))},ni.prototype.ua=function(){Ds(this.g,"b")},Rt.prototype.createWebChannel=Rt.prototype.g,Tt.prototype.send=Tt.prototype.u,Tt.prototype.open=Tt.prototype.m,Tt.prototype.close=Tt.prototype.close,f.NO_ERROR=0,f.TIMEOUT=8,f.HTTP_ERROR=6,y.COMPLETE="complete",Te.EventType=Fe,Fe.OPEN="a",Fe.CLOSE="b",Fe.ERROR="c",Fe.MESSAGE="d",ns.prototype.listen=ns.prototype.N,wr.prototype.listenOnce=wr.prototype.O,wr.prototype.getLastError=wr.prototype.Na,wr.prototype.getLastErrorCode=wr.prototype.Ea,wr.prototype.getStatus=wr.prototype.aa,wr.prototype.getResponseJson=wr.prototype.Ra,wr.prototype.getResponseText=wr.prototype.fa,wr.prototype.send=wr.prototype.da;var xs=Ta.createWebChannelTransport=function(){return new Rt},Ya=Ta.getStatEventTarget=function(){return Pd()},ed=Ta.ErrorCode=f,Mh=Ta.EventType=y,Xf=Ta.Event=Aa,Oh=Ta.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jd=Ta.FetchXmlHttpFactory=rc,td=Ta.WebChannel=Te,zd=Ta.XhrIo=wr;const oc="@firebase/firestore";class is{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");let Du="9.10.0";const Qa=new Si.Yd("@firebase/firestore");function $d(){return Qa.logLevel}function Vt(n,...e){if(Qa.logLevel<=Si.in.DEBUG){const t=e.map(t_);Qa.debug(`Firestore (${Du}): ${n}`,...t)}}function rs(n,...e){if(Qa.logLevel<=Si.in.ERROR){const t=e.map(t_);Qa.error(`Firestore (${Du}): ${n}`,...t)}}function Zd(n,...e){if(Qa.logLevel<=Si.in.WARN){const t=e.map(t_);Qa.warn(`Firestore (${Du}): ${n}`,...t)}}function t_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dn(n="Unexpected state"){const e=`FIRESTORE (${Du}) INTERNAL ASSERTION FAILED: `+n;throw rs(e),new Error(e)}function Fn(n,e){n||dn()}function en(n,e){return n}const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends ai.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Mv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class U0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(is.UNAUTHENTICATED))}shutdown(){}}class Yl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class H0{constructor(e){this.t=e,this.currentUser=is.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let u=this.i;const d=F=>this.i!==u?(u=this.i,t(F)):Promise.resolve();let g=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new zs,e.enqueueRetryable(()=>d(this.currentUser))};const w=()=>{const F=g;e.enqueueRetryable((0,ut.Z)(function*(){yield F.promise,yield d(r.currentUser)}))},A=F=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=F,this.auth.addAuthTokenListener(this.o),w()};this.t.onInit(F=>A(F)),setTimeout(()=>{if(!this.auth){const F=this.t.getImmediate({optional:!0});F?A(F):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new zs)}},0),w()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fn("string"==typeof r.accessToken),new Mv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Fn(null===e||"string"==typeof e),new is(e)}}class Ov{constructor(e,t,r,u){this.h=e,this.l=t,this.m=r,this.g=u,this.type="FirstParty",this.user=is.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Fn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class j0{constructor(e,t,r,u){this.h=e,this.l=t,this.m=r,this.g=u}getToken(){return Promise.resolve(new Ov(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z0{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=d=>{null!=d.error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.A;return this.A=d.token,Vt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>r(d))};const u=d=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?u(d):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Fn("string"==typeof t.token),this.A=t.token,new kv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rv(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Pv{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const u=Rv(40);for(let d=0;d<u.length;++d)r.length<20&&u[d]<t&&(r+=e.charAt(u[d]%e.length))}return r}}function Kn(n,e){return n<e?-1:n>e?1:0}function kh(n,e,t){return n.length===e.length&&n.every((r,u)=>t(r,e[u]))}function Yn(n){return n+"\0"}class Sr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kt(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kt(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Sr.fromMillis(Date.now())}static fromDate(e){return Sr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Sr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rn(e)}static min(){return new Rn(new Sr(0,0))}static max(){return new Rn(new Sr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rh{constructor(e,t,r){void 0===t?t=0:t>e.length&&dn(),void 0===r?r=e.length-t:r>e.length-t&&dn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Rh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let u=0;u<r;u++){const d=e.get(u),g=t.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ci extends Rh{construct(e,t,r){return new Ci(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new kt(dt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(u=>u.length>0))}return new Ci(t)}static emptyPath(){return new Ci([])}}const Ql=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zr extends Rh{construct(e,t,r){return new Zr(e,t,r)}static isValidIdentifier(e){return Ql.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zr(["__name__"])}static fromServerFormat(e){const t=[];let r="",u=0;const d=()=>{if(0===r.length)throw new kt(dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let g=!1;for(;u<e.length;){const w=e[u];if("\\"===w){if(u+1===e.length)throw new kt(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[u+1];if("\\"!==A&&"."!==A&&"`"!==A)throw new kt(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=A,u+=2}else"`"===w?(g=!g,u++):"."!==w||g?(r+=w,u++):(d(),u++)}if(d(),g)throw new kt(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zr(t)}static emptyPath(){return new Zr([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(Ci.fromString(e))}static fromName(e){return new Yt(Ci.fromString(e).popFirst(5))}static empty(){return new Yt(Ci.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ci.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ci.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new Ci(e.slice()))}}class Ph{constructor(e,t,r,u){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=u}}function Jl(n){return n.fields.find(e=>2===e.kind)}function ac(n){return n.fields.filter(e=>2!==e.kind)}Ph.UNKNOWN_ID=-1;class Nh{constructor(e,t){this.fieldPath=e,this.kind=t}}class Fh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Fh(0,Vo.min())}}function $0(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,u=Rn.fromTimestamp(1e9===r?new Sr(t+1,0):new Sr(t,r));return new Vo(u,Yt.empty(),e)}function tp(n){return new Vo(n.readTime,n.key,-1)}class Vo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Vo(Rn.min(),Yt.empty(),-1)}static max(){return new Vo(Rn.max(),Yt.empty(),-1)}}function np(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Yt.comparator(n.documentKey,e.documentKey),0!==t?t:Kn(n.largestBatchId,e.largestBatchId))}const Eg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Gd(n){return n_.apply(this,arguments)}function n_(){return n_=(0,ut.Z)(function*(n){if(n.code!==dt.FAILED_PRECONDITION||n.message!==Eg)throw n;Vt("LocalStore","Unexpectedly lost primary lease")}),n_.apply(this,arguments)}class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new at((r,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(r,u)},this.catchCallback=d=>{this.wrapFailure(t,d).next(r,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof at?t:at.resolve(t)}catch(t){return at.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):at.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):at.reject(t)}static resolve(e){return new at((t,r)=>{t(e)})}static reject(e){return new at((t,r)=>{r(e)})}static waitFor(e){return new at((t,r)=>{let u=0,d=0,g=!1;e.forEach(w=>{++u,w.next(()=>{++d,g&&d===u&&t()},A=>r(A))}),g=!0,d===u&&t()})}static or(e){let t=at.resolve(!1);for(const r of e)t=t.next(u=>u?at.resolve(u):r());return t}static forEach(e,t){const r=[];return e.forEach((u,d)=>{r.push(t.call(this,u,d))}),this.waitFor(r)}static mapArray(e,t){return new at((r,u)=>{const d=e.length,g=new Array(d);let w=0;for(let A=0;A<d;A++){const F=A;t(e[F]).next(X=>{g[F]=X,++w,w===d&&r(g)},X=>u(X))}})}static doWhile(e,t){return new at((r,u)=>{const d=()=>{!0===e()?t().next(()=>{d()},u):r()};d()})}}class Ig{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new zs,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Sg(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const u=r_(r.target.error);this.P.reject(new Sg(e,u))}}static open(e,t,r,u){try{return new Ig(t,e.transaction(u,r))}catch(d){throw new Sg(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new MT(t)}}class Xl{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Xl.D((0,ai.z$)())&&rs("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vt("SimpleDb","Removing database:",e),id(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,ai.hl)())return!1;if(Xl.N())return!0;const e=(0,ai.z$)(),t=Xl.D(e),r=0<t&&t<10,u=Xl.k(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||d)}static N(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,ut.Z)(function*(){return t.db||(Vt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,u)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=g=>{r(g.target.result)},d.onblocked=()=>{u(new Sg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const w=g.target.error;u("VersionError"===w.name?new kt(dt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===w.name?new kt(dt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+w):new Sg(e,w))},d.onupgradeneeded=g=>{Vt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',g.oldVersion),t.S.$(g.target.result,d.transaction,g.oldVersion,t.version).next(()=>{Vt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,u){var d=this;return(0,ut.Z)(function*(){const g="readonly"===t;let w=0;for(;;){++w;try{d.db=yield d.F(e);const A=Ig.open(d.db,e,g?"readonly":"readwrite",r),F=u(A).next(X=>(A.V(),X)).catch(X=>(A.abort(X),at.reject(X))).toPromise();return F.catch(()=>{}),yield A.v,F}catch(A){const F=A,X="FirebaseError"!==F.name&&w<3;if(Vt("SimpleDb","Transaction failed with error:",F.message,"Retrying:",X),d.close(),!X)return Promise.reject(F)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Fv{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return id(this.U.delete())}}class Sg extends kt{constructor(e,t){super(dt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function nd(n){return"IndexedDbTransactionError"===n.name}class MT{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Vt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),id(r)}add(e){return Vt("SimpleDb","ADD",this.store.name,e,e),id(this.store.add(e))}get(e){return id(this.store.get(e)).next(t=>(void 0===t&&(t=null),Vt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Vt("SimpleDb","DELETE",this.store.name,e),id(this.store.delete(e))}count(){return Vt("SimpleDb","COUNT",this.store.name),id(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const u=this.cursor(r),d=[];return this.H(u,(g,w)=>{d.push(w)}).next(()=>d)}{const u=this.store.getAll(r.range);return new at((d,g)=>{u.onerror=w=>{g(w.target.error)},u.onsuccess=w=>{d(w.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new at((u,d)=>{r.onerror=g=>{d(g.target.error)},r.onsuccess=g=>{u(g.target.result)}})}Y(e,t){Vt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const u=this.cursor(r);return this.H(u,(d,g,w)=>w.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const u=this.cursor(r);return this.H(u,t)}tt(e){const t=this.cursor({});return new at((r,u)=>{t.onerror=d=>{const g=r_(d.target.error);u(g)},t.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(w=>{w?g.continue():r()}):r()}})}H(e,t){const r=[];return new at((u,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const w=g.target.result;if(!w)return void u();const A=new Fv(w),F=t(w.primaryKey,w.value,A);if(F instanceof at){const X=F.catch(pe=>(A.done(),at.reject(pe)));r.push(X)}A.isDone?u():null===A.G?w.continue():w.continue(A.G)}}).next(()=>at.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function id(n){return new at((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const u=r_(r.target.error);t(u)}})}let i_=!1;function r_(n){const e=Xl.D((0,ai.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new kt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return i_||(i_=!0,setTimeout(()=>{throw r},0)),r}}return n}class s_{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Vt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ut.Z)(function*(){t.task=null;try{Vt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){nd(r)?Vt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Gd(r)}yield t.nt(6e4)}))}}class OT{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,ut.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let u=t,d=!0;return at.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(g=>{if(null!==g&&!r.has(g))return Vt("IndexBackiller",`Processing collection: ${g}`),this.rt(e,g,u).next(w=>{u-=w,r.add(g)});d=!1})).next(()=>t-u)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(u=>this.localStore.localDocuments.getNextDocuments(e,t,u,r).next(d=>{const g=d.changes;return this.localStore.indexManager.updateIndexEntries(e,g).next(()=>this.ot(u,d)).next(w=>(Vt("IndexBackiller",`Updating offset: ${w}`),this.localStore.indexManager.updateCollectionGroup(e,t,w))).next(()=>g.size)}))}ot(e,t){let r=e;return t.changes.forEach((u,d)=>{const g=tp(d);np(g,r)>0&&(r=g)}),new Vo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ja{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Z0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function G0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}Ja.at=-1;class gs{constructor(e,t){this.comparator=e,this.root=t||Bo.EMPTY}insert(e,t){return new gs(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Bo.BLACK,null,null))}remove(e){return new gs(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const u=this.comparator(e,r.key);if(0===u)return t+r.left.size;u<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new o_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new o_(this.root,e,this.comparator,!1)}getReverseIterator(){return new o_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new o_(this.root,e,this.comparator,!0)}}class o_{constructor(e,t,r,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?r(e.key,t):1,t&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bo{constructor(e,t,r,u,d){this.key=e,this.value=t,this.color=null!=r?r:Bo.RED,this.left=null!=u?u:Bo.EMPTY,this.right=null!=d?d:Bo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,u,d){return new Bo(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let u=this;const d=r(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,t,r),null):0===d?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,r)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Bo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return Bo.EMPTY;r=u.right.min(),u=u.copy(r.key,r.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dn();const e=this.left.check();if(e!==this.right.check())throw dn();return e+(this.isRed()?0:1)}}Bo.EMPTY=null,Bo.RED=!0,Bo.BLACK=!1,Bo.EMPTY=new class{constructor(){this.size=0}get key(){throw dn()}get value(){throw dn()}get color(){throw dn()}get left(){throw dn()}get right(){throw dn()}copy(n,e,t,r,u){return this}insert(n,e,t){return new Bo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fr{constructor(e){this.comparator=e,this.data=new gs(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const u=r.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=r.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fr(this.comparator);return t.data=e,t}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Xa(n){return n.hasNext()?n.getNext():void 0}class ra{constructor(e){this.fields=e,e.sort(Zr.comparator)}static empty(){return new ra([])}unionWith(e){let t=new fr(Zr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ra(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return kh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class As{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new As(t)}static fromUint8Array(e){const t=function(r){let u="";for(let d=0;d<r.length;++d)u+=String.fromCharCode(r[d]);return u}(e);return new As(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}As.EMPTY_BYTE_STRING=new As("");const a_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lc(n){if(Fn(!!n),"string"==typeof n){let e=0;const t=a_.exec(n);if(Fn(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wd(n){return"string"==typeof n?As.fromBase64String(n):As.fromUint8Array(n)}function xu(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function l_(n){const e=n.mapValue.fields.__previous_value__;return xu(e)?l_(e):e}function ip(n){const e=lc(n.mapValue.fields.__local_write_time__.timestampValue);return new Sr(e.seconds,e.nanos)}class u_{constructor(e,t,r,u,d,g,w,A){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=w,this.useFetchStreams=A}}class rd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rd&&e.projectId===this.projectId&&e.database===this.database}}function Vh(n){return null==n}function rp(n){return 0===n&&1/n==-1/0}function Lv(n){return"number"==typeof n&&Number.isInteger(n)&&!rp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Dl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},uc={nullValue:"NULL_VALUE"};function cc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xu(n)?4:c_(n)?9007199254740991:10:dn()}function sa(n,e){if(n===e)return!0;const t=cc(n);if(t!==cc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ip(n).isEqual(ip(e));case 3:return function(r,u){if("string"==typeof r.timestampValue&&"string"==typeof u.timestampValue&&r.timestampValue.length===u.timestampValue.length)return r.timestampValue===u.timestampValue;const d=lc(r.timestampValue),g=lc(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return u=e,Wd(n.bytesValue).isEqual(Wd(u.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,u){return Vr(r.geoPointValue.latitude)===Vr(u.geoPointValue.latitude)&&Vr(r.geoPointValue.longitude)===Vr(u.geoPointValue.longitude)}(n,e);case 2:return function(r,u){if("integerValue"in r&&"integerValue"in u)return Vr(r.integerValue)===Vr(u.integerValue);if("doubleValue"in r&&"doubleValue"in u){const d=Vr(r.doubleValue),g=Vr(u.doubleValue);return d===g?rp(d)===rp(g):isNaN(d)&&isNaN(g)}return!1}(n,e);case 9:return kh(n.arrayValue.values||[],e.arrayValue.values||[],sa);case 10:return function(r,u){const d=r.mapValue.fields||{},g=u.mapValue.fields||{};if(Z0(d)!==Z0(g))return!1;for(const w in d)if(d.hasOwnProperty(w)&&(void 0===g[w]||!sa(d[w],g[w])))return!1;return!0}(n,e);default:return dn()}var u}function dc(n,e){return void 0!==(n.values||[]).find(t=>sa(t,e))}function el(n,e){if(n===e)return 0;const t=cc(n),r=cc(e);if(t!==r)return Kn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(n.booleanValue,e.booleanValue);case 2:return function(u,d){const g=Vr(u.integerValue||u.doubleValue),w=Vr(d.integerValue||d.doubleValue);return g<w?-1:g>w?1:g===w?0:isNaN(g)?isNaN(w)?0:-1:1}(n,e);case 3:return Vv(n.timestampValue,e.timestampValue);case 4:return Vv(ip(n),ip(e));case 5:return Kn(n.stringValue,e.stringValue);case 6:return function(u,d){const g=Wd(u),w=Wd(d);return g.compareTo(w)}(n.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),w=d.split("/");for(let A=0;A<g.length&&A<w.length;A++){const F=Kn(g[A],w[A]);if(0!==F)return F}return Kn(g.length,w.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,d){const g=Kn(Vr(u.latitude),Vr(d.latitude));return 0!==g?g:Kn(Vr(u.longitude),Vr(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(u,d){const g=u.values||[],w=d.values||[];for(let A=0;A<g.length&&A<w.length;++A){const F=el(g[A],w[A]);if(F)return F}return Kn(g.length,w.length)}(n.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===Dl.mapValue&&d===Dl.mapValue)return 0;if(u===Dl.mapValue)return 1;if(d===Dl.mapValue)return-1;const g=u.fields||{},w=Object.keys(g),A=d.fields||{},F=Object.keys(A);w.sort(),F.sort();for(let X=0;X<w.length&&X<F.length;++X){const pe=Kn(w[X],F[X]);if(0!==pe)return pe;const He=el(g[w[X]],A[F[X]]);if(0!==He)return He}return Kn(w.length,F.length)}(n.mapValue,e.mapValue);default:throw dn()}}function Vv(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kn(n,e);const t=lc(n),r=lc(e),u=Kn(t.seconds,r.seconds);return 0!==u?u:Kn(t.nanos,r.nanos)}function qd(n){return Dg(n)}function Dg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const u=lc(r);return`time(${u.seconds},${u.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wd(n.bytesValue).toBase64():"referenceValue"in n?Yt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let u="[",d=!0;for(const g of r.values||[])d?d=!1:u+=",",u+=Dg(g);return u+"]"}(n.arrayValue):"mapValue"in n?function(r){const u=Object.keys(r.fields||{}).sort();let d="{",g=!0;for(const w of u)g?g=!1:d+=",",d+=`${w}:${Dg(r.fields[w])}`;return d+"}"}(n.mapValue):dn();var e}function hc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function sp(n){return!!n&&"integerValue"in n}function Bh(n){return!!n&&"arrayValue"in n}function op(n){return!!n&&"nullValue"in n}function Bv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ap(n){return!!n&&"mapValue"in n}function xg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=xg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=xg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function c_(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Uv(n){return"nullValue"in n?uc:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?hc(rd.empty(),Yt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dn()}function K0(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?hc(rd.empty(),Yt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Dl:dn()}function d_(n,e){const t=el(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Hv(n,e){const t=el(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class wo{constructor(e){this.value=e}static empty(){return new wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ap(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=xg(t)}setAll(e){let t=Zr.emptyPath(),r={},u=[];e.forEach((g,w)=>{if(!t.isImmediateParentOf(w)){const A=this.getFieldsMap(t);this.applyChanges(A,r,u),r={},u=[],t=w.popLast()}g?r[w.lastSegment()]=xg(g):u.push(w.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,r,u)}delete(e){const t=this.field(e.popLast());ap(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return sa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let u=t.mapValue.fields[e.get(r)];ap(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,r){Lh(t,(u,d)=>e[u]=d);for(const u of r)delete e[u]}clone(){return new wo(xg(this.value))}}function Ma(n){const e=[];return Lh(n.fields,(t,r)=>{const u=new Zr([t]);if(ap(r)){const d=Ma(r.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new ra(e)}class Cr{constructor(e,t,r,u,d,g){this.key=e,this.documentType=t,this.version=r,this.readTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Cr(e,0,Rn.min(),Rn.min(),wo.empty(),0)}static newFoundDocument(e,t,r){return new Cr(e,1,t,Rn.min(),r,0)}static newNoDocument(e,t){return new Cr(e,2,t,Rn.min(),wo.empty(),0)}static newUnknownDocument(e,t){return new Cr(e,3,t,Rn.min(),wo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Y0{constructor(e,t=null,r=[],u=[],d=null,g=null,w=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=u,this.limit=d,this.startAt=g,this.endAt=w,this.ht=null}}function Q0(n,e=null,t=[],r=[],u=null,d=null,g=null){return new Y0(n,e,t,r,u,d,g)}function Uh(n){const e=en(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(u=r).field.canonicalString()+u.op.toString()+qd(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(u=r).field.canonicalString()+u.dir;var u}).join(","),Vh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qd(r)).join(",")),e.ht=t}return e.ht}function Ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<n.orderBy.length;u++)if(!p_(n.orderBy[u],e.orderBy[u]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let u=0;u<n.filters.length;u++)if((t=n.filters[u]).op!==(r=e.filters[u]).op||!t.field.isEqual(r.field)||!sa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!qv(n.startAt,e.startAt)&&qv(n.endAt,e.endAt)}function Mg(n){return Yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Hh(n,e){return n.filters.filter(t=>t instanceof Co&&t.field.isEqual(e))}function h_(n,e,t){let r=uc,u=!0;for(const d of Hh(n,e)){let g=uc,w=!0;switch(d.op){case"<":case"<=":g=Uv(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,w=!1;break;case"!=":case"not-in":g=uc}d_({value:r,inclusive:u},{value:g,inclusive:w})<0&&(r=g,u=w)}if(null!==t)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(e)){const g=t.position[d];d_({value:r,inclusive:u},{value:g,inclusive:t.inclusive})<0&&(r=g,u=t.inclusive);break}return{value:r,inclusive:u}}function zv(n,e,t){let r=Dl,u=!0;for(const d of Hh(n,e)){let g=Dl,w=!0;switch(d.op){case">=":case">":g=K0(d.value),w=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,w=!1;break;case"!=":case"not-in":g=Dl}Hv({value:r,inclusive:u},{value:g,inclusive:w})>0&&(r=g,u=w)}if(null!==t)for(let d=0;d<n.orderBy.length;++d)if(n.orderBy[d].field.isEqual(e)){const g=t.position[d];Hv({value:r,inclusive:u},{value:g,inclusive:t.inclusive})>0&&(r=g,u=t.inclusive);break}return{value:r,inclusive:u}}class Co extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new J0(e,t,r):"array-contains"===t?new eC(e,r):"in"===t?new tC(e,r):"not-in"===t?new Zv(e,r):"array-contains-any"===t?new Gv(e,r):new Co(e,t,r)}static lt(e,t,r){return"in"===t?new $v(e,r):new X0(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(el(t,this.value)):null!==t&&cc(this.value)===cc(t)&&this.ft(el(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class J0 extends Co{constructor(e,t,r){super(e,t,r),this.key=Yt.fromName(r.referenceValue)}matches(e){const t=Yt.comparator(e.key,this.key);return this.ft(t)}}class $v extends Co{constructor(e,t){super(e,"in",t),this.keys=f_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class X0 extends Co{constructor(e,t){super(e,"not-in",t),this.keys=f_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function f_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Yt.fromName(r.referenceValue))}class eC extends Co{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bh(t)&&dc(t.arrayValue,this.value)}}class tC extends Co{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&dc(this.value.arrayValue,t)}}class Zv extends Co{constructor(e,t){super(e,"not-in",t)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!dc(this.value.arrayValue,t)}}class Gv extends Co{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>dc(this.value.arrayValue,r))}}class sd{constructor(e,t){this.position=e,this.inclusive=t}}class oa{constructor(e,t="asc"){this.field=e,this.dir=t}}function p_(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Wv(n,e,t){let r=0;for(let u=0;u<n.position.length;u++){const d=e[u],g=n.position[u];if(r=d.field.isKeyField()?Yt.comparator(Yt.fromName(g.referenceValue),t.key):el(g,t.data.field(d.field)),"desc"===d.dir&&(r*=-1),0!==r)break}return r}function qv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!sa(n.position[t],e.position[t]))return!1;return!0}class od{constructor(e,t=null,r=[],u=[],d=null,g="F",w=null,A=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=u,this.limit=d,this.limitType=g,this.startAt=w,this.endAt=A,this._t=null,this.wt=null}}function g_(n,e,t,r,u,d,g,w){return new od(n,e,t,r,u,d,g,w)}function jh(n){return new od(n)}function Kv(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function m_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function lp(n){for(const e of n.filters)if(e.dt())return e.field;return null}function __(n){return null!==n.collectionGroup}function zh(n){const e=en(n);if(null===e._t){e._t=[];const t=lp(e),r=m_(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new oa(t)),e._t.push(new oa(Zr.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new oa(Zr.keyField(),d))}}}return e._t}function Eo(n){const e=en(n);if(!e.wt)if("F"===e.limitType)e.wt=Q0(e.path,e.collectionGroup,zh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of zh(e))t.push(new oa(d.field,"desc"===d.dir?"asc":"desc"));const r=e.endAt?new sd(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new sd(e.startAt.position,e.startAt.inclusive):null;e.wt=Q0(e.path,e.collectionGroup,t,e.filters,e.limit,r,u)}return e.wt}function $h(n,e,t){return new od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function up(n,e){return Ag(Eo(n),Eo(e))&&n.limitType===e.limitType}function Og(n){return`${Uh(Eo(n))}|lt:${n.limitType}`}function cp(n){return`Query(target=${function jv(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${qd(r.value)}`;var r}).join(", ")}]`),Vh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>qd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>qd(t)).join(",")),`Target(${e})`}(Eo(n))}; limitType=${n.limitType})`}function kg(n,e){return e.isFoundDocument()&&function(t,r){const u=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Yt.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(n,e)&&function(t,r){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===r.data.field(u.field))return!1;return!0}(n,e)&&function(t,r){for(const u of t.filters)if(!u.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(u,d,g){const w=Wv(u,d,g);return u.inclusive?w<=0:w<0}(t.startAt,zh(t),r)||t.endAt&&!function(u,d,g){const w=Wv(u,d,g);return u.inclusive?w>=0:w>0}(t.endAt,zh(t),r)));var t,r}function Yv(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Qv(n){return(e,t)=>{let r=!1;for(const u of zh(n)){const d=y_(u,e,t);if(0!==d)return d;r=r||u.field.isKeyField()}return 0}}function y_(n,e,t){const r=n.field.isKeyField()?Yt.comparator(e.key,t.key):function(u,d,g){const w=d.data.field(u),A=g.data.field(u);return null!==w&&null!==A?el(w,A):dn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return dn()}}function nC(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rp(e)?"-0":e}}function Jv(n){return{integerValue:""+n}}function v_(n,e){return Lv(e)?Jv(e):nC(n,e)}class dp{constructor(){this._=void 0}}function Xv(n,e,t){return n instanceof Oa?function(r,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(t,e):n instanceof Au?tb(n,e):n instanceof Kd?iC(n,e):function(r,u){const d=b_(r,u),g=w_(d)+w_(r.yt);return sp(d)&&sp(r.yt)?Jv(g):nC(r.It,g)}(n,e)}function eb(n,e,t){return n instanceof Au?tb(n,e):n instanceof Kd?iC(n,e):t}function b_(n,e){return n instanceof ad?sp(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Oa extends dp{}class Au extends dp{constructor(e){super(),this.elements=e}}function tb(n,e){const t=Rg(e);for(const r of n.elements)t.some(u=>sa(u,r))||t.push(r);return{arrayValue:{values:t}}}class Kd extends dp{constructor(e){super(),this.elements=e}}function iC(n,e){let t=Rg(e);for(const r of n.elements)t=t.filter(u=>!sa(u,r));return{arrayValue:{values:t}}}class ad extends dp{constructor(e,t){super(),this.It=e,this.yt=t}}function w_(n){return Vr(n.integerValue||n.doubleValue)}function Rg(n){return Bh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fc{constructor(e,t){this.field=e,this.transform=t}}class C_{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class fp{}function nb(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Zh(n.key,Dr.none()):new eu(n.key,n.data,Dr.none());{const t=n.data,r=wo.empty();let u=new fr(Zr.comparator);for(let d of e.fields)if(!u.has(d)){let g=t.field(d);null===g&&d.length>1&&(d=d.popLast(),g=t.field(d)),null===g?r.delete(d):r.set(d,g),u=u.add(d)}return new Mu(n.key,r,new ra(u.toArray()),Dr.none())}}function E_(n,e,t){n instanceof eu?function(r,u,d){const g=r.value.clone(),w=rb(r.fieldTransforms,u,d.transformResults);g.setAll(w),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(n,e,t):n instanceof Mu?function(r,u,d){if(!hp(r.precondition,u))return void u.convertToUnknownDocument(d.version);const g=rb(r.fieldTransforms,u,d.transformResults),w=u.data;w.setAll(ib(r)),w.setAll(g),u.convertToFoundDocument(d.version,w).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function pp(n,e,t,r){return n instanceof eu?function(u,d,g,w){if(!hp(u.precondition,d))return g;const A=u.value.clone(),F=Yd(u.fieldTransforms,w,d);return A.setAll(F),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),null}(n,e,t,r):n instanceof Mu?function(u,d,g,w){if(!hp(u.precondition,d))return g;const A=Yd(u.fieldTransforms,w,d),F=d.data;return F.setAll(ib(u)),F.setAll(A),d.convertToFoundDocument(d.version,F).setHasLocalMutations(),null===g?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(X=>X.field))}(n,e,t,r):(g=t,hp(n.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g);var d,g}function sC(n,e){let t=null;for(const r of n.fieldTransforms){const u=e.data.field(r.field),d=b_(r.transform,u||null);null!=d&&(null===t&&(t=wo.empty()),t.set(r.field,d))}return t||null}function T_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&kh(t,r,(u,d)=>function rC(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Au&&r instanceof Au||t instanceof Kd&&r instanceof Kd?kh(t.elements,r.elements,sa):t instanceof ad&&r instanceof ad?sa(t.yt,r.yt):t instanceof Oa&&r instanceof Oa);var t,r}(u,d))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class eu extends fp{constructor(e,t,r,u=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Mu extends fp{constructor(e,t,r,u,d=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function ib(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function rb(n,e,t){const r=new Map;Fn(n.length===t.length);for(let u=0;u<t.length;u++){const d=n[u],g=d.transform,w=e.data.field(d.field);r.set(d.field,eb(g,w,t[u]))}return r}function Yd(n,e,t){const r=new Map;for(const u of n){const d=u.transform,g=t.data.field(u.field);r.set(u.field,Xv(d,g,e))}return r}class Zh extends fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I_ extends fp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oC{constructor(e){this.count=e}}var Ms,Qn;function Pg(n){switch(n){default:return dn();case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0}}function S_(n){if(void 0===n)return rs("GRPC error has no .code"),dt.UNKNOWN;switch(n){case Ms.OK:return dt.OK;case Ms.CANCELLED:return dt.CANCELLED;case Ms.UNKNOWN:return dt.UNKNOWN;case Ms.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Ms.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Ms.INTERNAL:return dt.INTERNAL;case Ms.UNAVAILABLE:return dt.UNAVAILABLE;case Ms.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Ms.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Ms.NOT_FOUND:return dt.NOT_FOUND;case Ms.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Ms.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Ms.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Ms.ABORTED:return dt.ABORTED;case Ms.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Ms.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Ms.DATA_LOSS:return dt.DATA_LOSS;default:return dn()}}(Qn=Ms||(Ms={}))[Qn.OK=0]="OK",Qn[Qn.CANCELLED=1]="CANCELLED",Qn[Qn.UNKNOWN=2]="UNKNOWN",Qn[Qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qn[Qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qn[Qn.NOT_FOUND=5]="NOT_FOUND",Qn[Qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qn[Qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qn[Qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qn[Qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qn[Qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qn[Qn.ABORTED=10]="ABORTED",Qn[Qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qn[Qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qn[Qn.INTERNAL=13]="INTERNAL",Qn[Qn.UNAVAILABLE=14]="UNAVAILABLE",Qn[Qn.DATA_LOSS=15]="DATA_LOSS";class pc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[u,d]of r)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),u=this.inner[r];if(void 0===u)return this.inner[r]=[[e,t]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let u=0;u<r.length;u++)if(this.equalsFn(r[u][0],e))return 1===r.length?delete this.inner[t]:r.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Lh(this.inner,(t,r)=>{for(const[u,d]of r)e(u,d)})}isEmpty(){return G0(this.inner)}size(){return this.innerSize}}const sb=new gs(Yt.comparator);function aa(){return sb}const ob=new gs(Yt.comparator);function gp(...n){let e=ob;for(const t of n)e=e.insert(t.key,t);return e}function ab(n){let e=ob;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ou(){return Ng()}function D_(){return Ng()}function Ng(){return new pc(n=>n.toString(),(n,e)=>n.isEqual(e))}const lb=new gs(Yt.comparator),aC=new fr(Yt.comparator);function ui(...n){let e=aC;for(const t of n)e=e.add(t);return e}const kT=new fr(Kn);function x_(){return kT}class Qd{constructor(e,t,r,u,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,mp.createSynthesizedTargetChangeForCurrentChange(e,t)),new Qd(Rn.min(),r,x_(),aa(),ui())}}class mp{constructor(e,t,r,u,d){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new mp(As.EMPTY_BYTE_STRING,t,ui(),ui(),ui())}}class _p{constructor(e,t,r,u){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=u}}class A_{constructor(e,t){this.targetId=e,this.At=t}}class lC{constructor(e,t,r=As.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=u}}class xl{constructor(){this.Rt=0,this.bt=M_(),this.Pt=As.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ui(),t=ui(),r=ui();return this.bt.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:r=r.add(u);break;default:dn()}}),new mp(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=M_()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class RT{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=aa(),this.qt=uC(),this.Kt=new fr(Kn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:dn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,u)=>{this.Ht(u)&&t(u)})}Yt(e){const t=e.targetId,r=e.At.count,u=this.Xt(t);if(u){const d=u.target;if(Mg(d))if(0===r){const g=new Yt(d.path);this.jt(t,g,Cr.newNoDocument(g,Rn.min()))}else Fn(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,g)=>{const w=this.Xt(g);if(w){if(d.current&&Mg(w.target)){const A=new Yt(w.target.path);null!==this.Ut.get(A)||this.ee(g,A)||this.jt(g,A,Cr.newNoDocument(A,e))}d.Dt&&(t.set(g,d.xt()),d.Nt())}});let r=ui();this.qt.forEach((d,g)=>{let w=!0;g.forEachWhile(A=>{const F=this.Xt(A);return!F||2===F.purpose||(w=!1,!1)}),w&&(r=r.add(d))}),this.Ut.forEach((d,g)=>g.setReadTime(e));const u=new Qd(e,t,this.Kt,this.Ut,r);return this.Ut=aa(),this.qt=uC(),this.Kt=new fr(Kn),u}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,t)?u.kt(t,1):u.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let t=this.Lt.get(e);return t||(t=new xl,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new fr(Kn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Vt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new xl),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function uC(){return new gs(Yt.comparator)}function M_(){return new gs(Yt.comparator)}const ub={asc:"ASCENDING",desc:"DESCENDING"},cb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class cC{constructor(e,t){this.databaseId=e,this.gt=t}}function Fg(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O_(n,e){return n.gt?e.toBase64():e.toUint8Array()}function k_(n,e){return Fg(n,e.toTimestamp())}function ro(n){return Fn(!!n),Rn.fromTimestamp(function(e){const t=lc(e);return new Sr(t.seconds,t.nanos)}(n))}function yp(n,e){return(t=n,new Ci(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function db(n){const e=Ci.fromString(n);return Fn(Xd(e)),e}function vp(n,e){return yp(n.databaseId,e.path)}function ku(n,e){const t=db(e);if(t.get(1)!==n.databaseId.projectId)throw new kt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new kt(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Yt(wp(t))}function R_(n,e){return yp(n.databaseId,e)}function hb(n){const e=db(n);return 4===e.length?Ci.emptyPath():wp(e)}function bp(n){return new Ci(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wp(n){return Fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Jd(n,e,t){return{name:vp(n,e),fields:t.value.mapValue.fields}}function fb(n,e,t){const r=ku(n,e.name),u=ro(e.updateTime),d=new wo({mapValue:{fields:e.fields}}),g=Cr.newFoundDocument(r,u,d);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function Ep(n,e){let t;if(e instanceof eu)t={update:Jd(n,e.key,e.value)};else if(e instanceof Zh)t={delete:vp(n,e.key)};else if(e instanceof Mu)t={update:Jd(n,e.key,e.data),updateMask:Yh(e.fieldMask)};else{if(!(e instanceof I_))return dn();t={verify:vp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(u,d){const g=d.transform;if(g instanceof Oa)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Au)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Kd)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ad)return{fieldPath:d.field.canonicalString(),increment:g.yt};throw dn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:k_(n,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:dn()),t;var u}function Tp(n,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Dr.updateTime(ro(u.updateTime)):void 0!==u.exists?Dr.exists(u.exists):Dr.none():Dr.none(),r=e.updateTransforms?e.updateTransforms.map(u=>function(d,g){let w=null;"setToServerValue"in g?(Fn("REQUEST_TIME"===g.setToServerValue),w=new Oa):"appendMissingElements"in g?w=new Au(g.appendMissingElements.values||[]):"removeAllFromArray"in g?w=new Kd(g.removeAllFromArray.values||[]):"increment"in g?w=new ad(d,g.increment):dn();const A=Zr.fromServerFormat(g.fieldPath);return new fc(A,w)}(n,u)):[];var u;if(e.update){const u=ku(n,e.update.name),d=new wo({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new ra((e.updateMask.fieldPaths||[]).map(F=>Zr.fromServerFormat(F)));return new Mu(u,d,g,t,r)}return new eu(u,d,t,r)}if(e.delete){const u=ku(n,e.delete);return new Zh(u,t)}if(e.verify){const u=ku(n,e.verify);return new I_(u,t)}return dn()}function Gh(n,e){return{documents:[R_(n,e.path)]}}function To(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=R_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=R_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const u=function(A){if(0===A.length)return;const F=A.map(X=>function(pe){if("=="===pe.op){if(Bv(pe.value))return{unaryFilter:{field:tu(pe.field),op:"IS_NAN"}};if(op(pe.value))return{unaryFilter:{field:tu(pe.field),op:"IS_NULL"}}}else if("!="===pe.op){if(Bv(pe.value))return{unaryFilter:{field:tu(pe.field),op:"IS_NOT_NAN"}};if(op(pe.value))return{unaryFilter:{field:tu(pe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(pe.field),op:Wh(pe.op),value:pe.value}}}(X));return 1===F.length?F[0]:{compositeFilter:{op:"AND",filters:F}}}(e.filters);u&&(t.structuredQuery.where=u);const d=function(A){if(0!==A.length)return A.map(F=>{return{field:tu((X=F).field),direction:P_(X.dir)};var X})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const g=(F=e.limit,n.gt||Vh(F)?F:{value:F});var F,w,A;return null!==g&&(t.structuredQuery.limit=g),e.startAt&&(t.structuredQuery.startAt={before:(w=e.startAt).inclusive,values:w.position}),e.endAt&&(t.structuredQuery.endAt={before:!(A=e.endAt).inclusive,values:A.position}),t}function ld(n){let e=hb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let u=null;if(r>0){Fn(1===r);const X=t.from[0];X.allDescendants?u=X.collectionId:e=e.child(X.collectionId)}let d=[];t.where&&(d=tl(t.where));let g=[];t.orderBy&&(g=t.orderBy.map(X=>{return new oa(nu((pe=X).field),function(He){switch(He){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let w=null;t.limit&&(w=function(X){let pe;return pe="object"==typeof X?X.value:X,Vh(pe)?null:pe}(t.limit));let A=null;var X;t.startAt&&(A=new sd((X=t.startAt).values||[],!!X.before));let F=null;return t.endAt&&(F=function(X){return new sd(X.values||[],!X.before)}(t.endAt)),g_(e,u,g,d,w,"F",A,F)}function tl(n){return n?void 0!==n.unaryFilter?[Kh(n)]:void 0!==n.fieldFilter?[qh(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>tl(e)).reduce((e,t)=>e.concat(t)):dn():[]}function P_(n){return ub[n]}function Wh(n){return cb[n]}function tu(n){return{fieldPath:n.canonicalString()}}function nu(n){return Zr.fromServerFormat(n.fieldPath)}function qh(n){return Co.create(nu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dn()}}(n.fieldFilter.op),n.fieldFilter.value)}function Kh(n){switch(n.unaryFilter.op){case"IS_NAN":const e=nu(n.unaryFilter.field);return Co.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=nu(n.unaryFilter.field);return Co.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=nu(n.unaryFilter.field);return Co.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=nu(n.unaryFilter.field);return Co.create(u,"!=",{nullValue:"NULL_VALUE"});default:return dn()}}function Yh(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xd(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Os(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=N_(e)),e=Qh(n.get(t),e);return N_(e)}function Qh(n,e){let t=e;const r=n.length;for(let u=0;u<r;u++){const d=n.charAt(u);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function N_(n){return n+"\x01\x01"}function iu(n){const e=n.length;if(Fn(e>=2),2===e)return Fn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Ci.emptyPath();const t=e-2,r=[];let u="";for(let d=0;d<e;){const g=n.indexOf("\x01",d);switch((g<0||g>t)&&dn(),n.charAt(g+1)){case"\x01":const w=n.substring(d,g);let A;0===u.length?A=w:(u+=w,A=u,u=""),r.push(A);break;case"\x10":u+=n.substring(d,g),u+="\0";break;case"\x11":u+=n.substring(d,g+1);break;default:dn()}d=g+2}return new Ci(r)}const F_=["userId","batchId"];function Ip(n,e){return[n,Os(e)]}function L_(n,e,t){return[n,Os(e),t]}const pb={},gb=["prefixPath","collectionGroup","readTime","documentId"],mb=["prefixPath","collectionGroup","documentId"],_b=["collectionGroup","readTime","prefixPath","documentId"],hC=["canonicalId","targetId"],yb=["targetId","path"],fC=["path","targetId"],vb=["collectionId","parent"],bb=["indexId","uid"],pC=["uid","sequenceNumber"],gC=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],wb=["indexId","uid","orderedDocumentKey"],mC=["userId","collectionPath","documentId"],Cb=["userId","collectionPath","largestBatchId"],_C=["userId","collectionGroup","largestBatchId"],Eb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],PT=[...Eb,"documentOverlays"],Tb=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vg=Tb,V_=[...Vg,"indexConfiguration","indexState","indexEntries"];class B_ extends Tg{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Io(n,e){const t=en(n);return Xl.O(t.ie,e)}class Ib{constructor(e,t,r,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=u}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&E_(d,e,r[u])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=pp(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=pp(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=D_();return this.mutations.forEach(u=>{const d=e.get(u.key),g=d.overlayedDocument;let w=this.applyToLocalView(g,d.mutatedFields);w=t.has(u.key)?null:w;const A=nb(g,w);null!==A&&r.set(u.key,A),g.isValidDocument()||g.convertToNoDocument(Rn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ui())}isEqual(e){return this.batchId===e.batchId&&kh(this.mutations,e.mutations,(t,r)=>T_(t,r))&&kh(this.baseMutations,e.baseMutations,(t,r)=>T_(t,r))}}class Sb{constructor(e,t,r,u){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=u}static from(e,t,r){Fn(e.mutations.length===r.length);let u=lb;const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,r[g].version);return new Sb(e,t,r,u)}}class U_{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gc{constructor(e,t,r,u,d=Rn.min(),g=Rn.min(),w=As.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=w}withSequenceNumber(e){return new gc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new gc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new gc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class yC{constructor(e){this.re=e}}function eh(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Bg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:vp(u=n.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Fg(u,d.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ud(e.version)};else{if(!e.isUnknownDocument())return dn();r.unknownDocument={path:t.path.toArray(),version:ud(e.version)}}var u,d;return r}function Bg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ud(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function th(n){const e=new Sr(n.seconds,n.nanoseconds);return Rn.fromTimestamp(e)}function cd(n,e){const t=(e.baseMutations||[]).map(d=>Tp(n.re,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const r=e.mutations.map(d=>Tp(n.re,d)),u=Sr.fromMillis(e.localWriteTimeMs);return new Ib(e.batchId,u,t,r)}function dd(n){const e=th(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?th(n.lastLimboFreeSnapshotVersion):Rn.min();let r;var u;return void 0!==n.query.documents?(Fn(1===(u=n.query).documents.length),r=Eo(jh(hb(u.documents[0])))):r=Eo(ld(n.query)),new gc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,As.fromBase64String(n.resumeToken))}function Db(n,e){const t=ud(e.snapshotVersion),r=ud(e.lastLimboFreeSnapshotVersion);let u;u=Mg(e.target)?Gh(n.re,e.target):To(n.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Uh(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:u}}function Ug(n){const e=ld({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?$h(e,e.limit,"L"):e}function H_(n,e){return new U_(e.largestBatchId,Tp(n.re,e.overlayMutation))}function xb(n,e){const t=e.path.lastSegment();return[n,Os(e.path.popLast()),t]}function Ab(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:ud(r.readTime),documentKey:Os(r.documentKey.path),largestBatchId:r.largestBatchId}}class bC{getBundleMetadata(e,t){return Mb(e).get(t).next(r=>{if(r)return{id:(u=r).bundleId,createTime:th(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Mb(e).put({bundleId:(r=t).id,createTime:ud(ro(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return j_(e).get(t).next(r=>{if(r)return{name:(u=r).name,query:Ug(u.bundledQuery),readTime:th(u.readTime)};var u})}saveNamedQuery(e,t){return j_(e).put({name:(r=t).name,readTime:ud(ro(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Mb(n){return Io(n,"bundles")}function j_(n){return Io(n,"namedQueries")}class Hg{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Hg(e,t.uid||"")}getOverlay(e,t){return Jh(e).get(xb(this.userId,t)).next(r=>r?H_(this.It,r):null)}getOverlays(e,t){const r=Ou();return at.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&r.set(u,d)})).next(()=>r)}saveOverlays(e,t,r){const u=[];return r.forEach((d,g)=>{const w=new U_(t,g);u.push(this.ue(e,w))}),at.waitFor(u)}removeOverlaysForBatchId(e,t,r){const u=new Set;t.forEach(g=>u.add(Os(g.getCollectionPath())));const d=[];return u.forEach(g=>{const w=IDBKeyRange.bound([this.userId,g,r],[this.userId,g,r+1],!1,!0);d.push(Jh(e).Y("collectionPathOverlayIndex",w))}),at.waitFor(d)}getOverlaysForCollection(e,t,r){const u=Ou(),d=Os(t),g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Jh(e).W("collectionPathOverlayIndex",g).next(w=>{for(const A of w){const F=H_(this.It,A);u.set(F.getKey(),F)}return u})}getOverlaysForCollectionGroup(e,t,r,u){const d=Ou();let g;const w=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Jh(e).Z({index:"collectionGroupOverlayIndex",range:w},(A,F,X)=>{const pe=H_(this.It,F);d.size()<u||pe.largestBatchId===g?(d.set(pe.getKey(),pe),g=pe.largestBatchId):X.done()}).next(()=>d)}ue(e,t){return Jh(e).put(function(r,u,d){const[g,w,A]=xb(u,d.mutation.key);return{userId:u,collectionPath:w,documentId:A,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Ep(r.re,d.mutation)}}(this.It,this.userId,t))}}function Jh(n){return Io(n,"documentOverlays")}class hd{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Vr(e.integerValue));else if("doubleValue"in e){const r=Vr(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),rp(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Wd(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?c_(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):dn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const u of Object.keys(r))this._e(u,t),this.ae(r[u],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const u of r)this.ae(u,t)}ge(e,t){this.le(t,37),Yt.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function z_(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function wC(n){const e=64-function(t){let r=0;for(let u=0;u<8;++u){const d=z_(255&t[u]);if(r+=d,8!==d)break}return r}(n);return Math.ceil(e/8)}hd.Te=new hd;class $_{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const u=t.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const u=t.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const t=this.Ce(e),r=wC(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let u=t.length-r;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Ne(e){const t=this.Ce(e),r=wC(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let u=t.length-r;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let u=1;u<t.length;++u)t[u]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const u=new Uint8Array(r);u.set(this.buffer),this.buffer=u}}class CC{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class NT{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class mc{constructor(){this.Be=new $_,this.Le=new CC(this.Be),this.Ue=new NT(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class fd{constructor(e,t,r,u){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=u}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fd(this.indexId,this.documentKey,this.arrayValue,r)}}function _c(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=jg(n.arrayValue,e.arrayValue),0!==t?t:(t=jg(n.directionalValue,e.directionalValue),0!==t?t:Yt.comparator(n.documentKey,e.documentKey)))}function jg(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class EC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=Jl(e);if(void 0!==t&&!this.ze(t))return!1;const r=ac(e);let u=0,d=0;for(;u<r.length&&this.ze(r[u]);++u);if(u===r.length)return!0;if(void 0!==this.je){const g=r[u];if(!this.He(this.je,g)||!this.Je(this.Ge[d++],g))return!1;++u}for(;u<r.length;++u){const g=r[u];if(d>=this.Ge.length||!this.Je(this.Ge[d++],g))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Z_{constructor(){this.Ye=new Sp}addToCollectionParentIndex(e,t){return this.Ye.add(t),at.resolve()}getCollectionParents(e,t){return at.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return at.resolve()}deleteFieldIndex(e,t){return at.resolve()}getDocumentsMatchingTarget(e,t){return at.resolve(null)}getIndexType(e,t){return at.resolve(0)}getFieldIndexes(e,t){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,t){return at.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,t){return at.resolve(Vo.min())}updateCollectionGroup(e,t,r){return at.resolve()}updateIndexEntries(e,t){return at.resolve()}}class Sp{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),u=this.index[t]||new fr(Ci.comparator),d=!u.has(r);return this.index[t]=u.add(r),d}has(e){const t=e.lastSegment(),r=e.popLast(),u=this.index[t];return u&&u.has(r)}getEntries(e){return(this.index[e]||new fr(Ci.comparator)).toArray()}}const Dp=new Uint8Array(0);class FT{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Sp,this.Ze=new pc(r=>Uh(r),(r,u)=>Ag(r,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const d={collectionId:r,parent:Os(u)};return Ob(e).put(d)}return at.resolve()}getCollectionParents(e,t){const r=[],u=IDBKeyRange.bound([t,""],[Yn(t),""],!1,!0);return Ob(e).W(u).next(d=>{for(const g of d){if(g.collectionId!==t)break;r.push(iu(g.parent))}return r})}addFieldIndex(e,t){const r=Xh(e),u={indexId:(g=t).indexId,collectionGroup:g.collectionGroup,fields:g.fields.map(w=>[w.fieldPath.canonicalString(),w.kind])};var g;delete u.indexId;const d=r.add(u);if(t.indexState){const g=ef(e);return d.next(w=>{g.put(Ab(w,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const r=Xh(e),u=ef(e),d=nh(e);return r.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=nh(e);let u=!0;const d=new Map;return at.forEach(this.tn(t),g=>this.en(e,g).next(w=>{u&&(u=!!w),d.set(g,w)})).next(()=>{if(u){let g=ui();const w=[];return at.forEach(d,(A,F)=>{var X;Vt("IndexedDbIndexManager",`Using index ${X=A,`id=${X.indexId}|cg=${X.collectionGroup}|f=${X.fields.map(Bn=>`${Bn.fieldPath}:${Bn.kind}`).join(",")}`} to execute ${Uh(t)}`);const pe=function(Bn,bn){const Zn=Jl(bn);if(void 0===Zn)return null;for(const Gn of Hh(Bn,Zn.fieldPath))switch(Gn.op){case"array-contains-any":return Gn.value.arrayValue.values||[];case"array-contains":return[Gn.value]}return null}(F,A),He=function(Bn,bn){const Zn=new Map;for(const Gn of ac(bn))for(const Ni of Hh(Bn,Gn.fieldPath))switch(Ni.op){case"==":case"in":Zn.set(Gn.fieldPath.canonicalString(),Ni.value);break;case"not-in":case"!=":return Zn.set(Gn.fieldPath.canonicalString(),Ni.value),Array.from(Zn.values())}return null}(F,A),Xe=function(Bn,bn){const Zn=[];let Gn=!0;for(const Ni of ac(bn)){const ol=0===Ni.kind?h_(Bn,Ni.fieldPath,Bn.startAt):zv(Bn,Ni.fieldPath,Bn.startAt);Zn.push(ol.value),Gn&&(Gn=ol.inclusive)}return new sd(Zn,Gn)}(F,A),Je=function(Bn,bn){const Zn=[];let Gn=!0;for(const Ni of ac(bn)){const ol=0===Ni.kind?zv(Bn,Ni.fieldPath,Bn.endAt):h_(Bn,Ni.fieldPath,Bn.endAt);Zn.push(ol.value),Gn&&(Gn=ol.inclusive)}return new sd(Zn,Gn)}(F,A),_t=this.nn(A,F,Xe),Ft=this.nn(A,F,Je),vn=this.sn(A,F,He),On=this.rn(A.indexId,pe,_t,Xe.inclusive,Ft,Je.inclusive,vn);return at.forEach(On,Bn=>r.J(Bn,t.limit).next(bn=>{bn.forEach(Zn=>{const Gn=Yt.fromSegments(Zn.documentKey);g.has(Gn)||(g=g.add(Gn),w.push(Gn))})}))}).next(()=>w)}return at.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,u,d,g,w){const A=(null!=t?t.length:1)*Math.max(r.length,d.length),F=A/(null!=t?t.length:1),X=[];for(let pe=0;pe<A;++pe){const He=t?this.on(t[pe/F]):Dp,Xe=this.un(e,He,r[pe%F],u),Je=this.cn(e,He,d[pe%F],g),_t=w.map(Ft=>this.un(e,He,Ft,!0));X.push(...this.createRange(Xe,Je,_t))}return X}un(e,t,r,u){const d=new fd(e,Yt.empty(),t,r);return u?d:d.Ke()}cn(e,t,r,u){const d=new fd(e,Yt.empty(),t,r);return u?d.Ke():d}en(e,t){const r=new EC(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let g=null;for(const w of d)r.We(w)&&(!g||w.fields.length>g.fields.length)&&(g=w);return g})}getIndexType(e,t){let r=2;return at.forEach(this.tn(t),u=>this.en(e,u).next(d=>{d?0!==r&&d.fields.length<function(g){let w=new fr(Zr.comparator),A=!1;for(const F of g.filters){const X=F;X.field.isKeyField()||("array-contains"===X.op||"array-contains-any"===X.op?A=!0:w=w.add(X.field))}for(const F of g.orderBy)F.field.isKeyField()||(w=w.add(F.field));return w.size+(A?1:0)}(u)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new mc;for(const u of ac(e)){const d=t.data.field(u.fieldPath);if(null==d)return null;const g=r.qe(u.kind);hd.Te.ce(d,g)}return r.$e()}on(e){const t=new mc;return hd.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new mc;return hd.Te.ce(hc(this.databaseId,t),r.qe(function(u){const d=ac(u);return 0===d.length?0:d[d.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let u=[];u.push(new mc);let d=0;for(const g of ac(e)){const w=r[d++];for(const A of u)if(this.ln(t,g.fieldPath)&&Bh(w))u=this.fn(u,g,w);else{const F=A.qe(g.kind);hd.Te.ce(w,F)}}return this.dn(u)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const u=[...e],d=[];for(const g of r.arrayValue.values||[])for(const w of u){const A=new mc;A.seed(w.$e()),hd.Te.ce(g,A.qe(t.kind)),d.push(A)}return d}ln(e,t){return!!e.filters.find(r=>r instanceof Co&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Xh(e),u=ef(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(d=>{const g=[];return at.forEach(d,w=>u.get([w.indexId,this.uid]).next(A=>{g.push(function(F,X){const pe=X?new Fh(X.sequenceNumber,new Vo(th(X.readTime),new Yt(iu(X.documentKey)),X.largestBatchId)):Fh.empty(),He=F.fields.map(([Xe,Je])=>new Nh(Zr.fromServerFormat(Xe),Je));return new Ph(F.indexId,F.collectionGroup,He,pe)}(w,A))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,u)=>{const d=r.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:Kn(r.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const u=Xh(e),d=ef(e);return this._n(e).next(g=>u.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(w=>at.forEach(w,A=>d.put(Ab(A.indexId,this.user,g,r)))))}updateIndexEntries(e,t){const r=new Map;return at.forEach(t,(u,d)=>{const g=r.get(u.collectionGroup);return(g?at.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(w=>(r.set(u.collectionGroup,w),at.forEach(w,A=>this.wn(e,u,A).next(F=>{const X=this.mn(d,A);return F.isEqual(X)?at.resolve():this.gn(e,d,A,F,X)}))))})}yn(e,t,r,u){return nh(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,u){return nh(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const u=nh(e);let d=new fr(_c);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(g,w)=>{d=d.add(new fd(r.indexId,t,w.arrayValue,w.directionalValue))}).next(()=>d)}mn(e,t){let r=new fr(_c);const u=this.an(t,e);if(null==u)return r;const d=Jl(t);if(null!=d){const g=e.data.field(d.fieldPath);if(Bh(g))for(const w of g.arrayValue.values||[])r=r.add(new fd(t.indexId,e.key,this.on(w),u))}else r=r.add(new fd(t.indexId,e.key,Dp,u));return r}gn(e,t,r,u,d){Vt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const g=[];return function(w,A,F,X,pe){const He=w.getIterator(),Xe=A.getIterator();let Je=Xa(He),_t=Xa(Xe);for(;Je||_t;){let Ft=!1,vn=!1;if(Je&&_t){const On=F(Je,_t);On<0?vn=!0:On>0&&(Ft=!0)}else null!=Je?vn=!0:Ft=!0;Ft?(X(_t),_t=Xa(Xe)):vn?(pe(Je),Je=Xa(He)):(Je=Xa(He),_t=Xa(Xe))}}(u,d,_c,w=>{g.push(this.yn(e,t,r,w))},w=>{g.push(this.pn(e,t,r,w))}),at.waitFor(g)}_n(e){let t=1;return ef(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,u,d)=>{d.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((g,w)=>_c(g,w)).filter((g,w,A)=>!w||0!==_c(g,A[w-1]));const u=[];u.push(e);for(const g of r){const w=_c(g,e),A=_c(g,t);if(0===w)u[0]=e.Ke();else if(w>0&&A<0)u.push(g),u.push(g.Ke());else if(A>0)break}u.push(t);const d=[];for(let g=0;g<u.length;g+=2)d.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,Dp,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,Dp,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(G_)}getMinOffset(e,t){return at.mapArray(this.tn(t),r=>this.en(e,r).next(u=>u||dn())).next(G_)}}function Ob(n){return Io(n,"collectionParents")}function nh(n){return Io(n,"indexEntries")}function Xh(n){return Io(n,"indexConfiguration")}function ef(n){return Io(n,"indexState")}function G_(n){Fn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const u=n[r].indexState.offset;np(u,e)<0&&(e=u),t<u.largestBatchId&&(t=u.largestBatchId)}return new Vo(e.readTime,e.documentKey,t)}const zg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class la{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new la(e,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function W_(n,e,t){const r=n.store("mutations"),u=n.store("documentMutations"),d=[],g=IDBKeyRange.only(t.batchId);let w=0;const A=r.Z({range:g},(X,pe,He)=>(w++,He.delete()));d.push(A.next(()=>{Fn(1===w)}));const F=[];for(const X of t.mutations){const pe=L_(e,X.key.path,t.batchId);d.push(u.delete(pe)),F.push(X.key)}return at.waitFor(d).next(()=>F)}function tf(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dn();e=n.noDocument}return JSON.stringify(e).length}la.DEFAULT_COLLECTION_PERCENTILE=10,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,la.DEFAULT=new la(41943040,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),la.DISABLED=new la(-1,0,0);class xp{constructor(e,t,r,u){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=u,this.In={}}static oe(e,t,r,u){Fn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new xp(d,t,r,u)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return yc(e).Z({index:"userMutationsIndex",range:r},(u,d,g)=>{t=!1,g.done()}).next(()=>t)}addMutationBatch(e,t,r,u){const d=ih(e),g=yc(e);return g.add({}).next(w=>{Fn("number"==typeof w);const A=new Ib(w,t,r,u),F=function(He,Xe,Je){const _t=Je.baseMutations.map(vn=>Ep(He.re,vn)),Ft=Je.mutations.map(vn=>Ep(He.re,vn));return{userId:Xe,batchId:Je.batchId,localWriteTimeMs:Je.localWriteTime.toMillis(),baseMutations:_t,mutations:Ft}}(this.It,this.userId,A),X=[];let pe=new fr((He,Xe)=>Kn(He.canonicalString(),Xe.canonicalString()));for(const He of u){const Xe=L_(this.userId,He.key.path,w);pe=pe.add(He.key.path.popLast()),X.push(g.put(F)),X.push(d.put(Xe,pb))}return pe.forEach(He=>{X.push(this.indexManager.addToCollectionParentIndex(e,He))}),e.addOnCommittedListener(()=>{this.In[w]=A.keys()}),at.waitFor(X).next(()=>A)})}lookupMutationBatch(e,t){return yc(e).get(t).next(r=>r?(Fn(r.userId===this.userId),cd(this.It,r)):null)}Tn(e,t){return this.In[t]?at.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const u=r.keys();return this.In[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,u=IDBKeyRange.lowerBound([this.userId,r]);let d=null;return yc(e).Z({index:"userMutationsIndex",range:u},(g,w,A)=>{w.userId===this.userId&&(Fn(w.batchId>=r),d=cd(this.It,w)),A.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return yc(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(u,d,g)=>{r=d.batchId,g.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return yc(e).W("userMutationsIndex",t).next(r=>r.map(u=>cd(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ip(this.userId,t.path),u=IDBKeyRange.lowerBound(r),d=[];return ih(e).Z({range:u},(g,w,A)=>{const[F,X,pe]=g,He=iu(X);if(F===this.userId&&t.path.isEqual(He))return yc(e).get(pe).next(Xe=>{if(!Xe)throw dn();Fn(Xe.userId===this.userId),d.push(cd(this.It,Xe))});A.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fr(Kn);const u=[];return t.forEach(d=>{const g=Ip(this.userId,d.path),w=IDBKeyRange.lowerBound(g),A=ih(e).Z({range:w},(F,X,pe)=>{const[He,Xe,Je]=F,_t=iu(Xe);He===this.userId&&d.path.isEqual(_t)?r=r.add(Je):pe.done()});u.push(A)}),at.waitFor(u).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,u=r.length+1,d=Ip(this.userId,r),g=IDBKeyRange.lowerBound(d);let w=new fr(Kn);return ih(e).Z({range:g},(A,F,X)=>{const[pe,He,Xe]=A,Je=iu(He);pe===this.userId&&r.isPrefixOf(Je)?Je.length===u&&(w=w.add(Xe)):X.done()}).next(()=>this.En(e,w))}En(e,t){const r=[],u=[];return t.forEach(d=>{u.push(yc(e).get(d).next(g=>{if(null===g)throw dn();Fn(g.userId===this.userId),r.push(cd(this.It,g))}))}),at.waitFor(u).next(()=>r)}removeMutationBatch(e,t){return W_(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),at.forEach(r,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return at.resolve();const r=IDBKeyRange.lowerBound([this.userId]),u=[];return ih(e).Z({range:r},(d,g,w)=>{if(d[0]===this.userId){const A=iu(d[1]);u.push(A)}else w.done()}).next(()=>{Fn(0===u.length)})})}containsKey(e,t){return kb(e,this.userId,t)}Rn(e){return $g(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kb(n,e,t){const r=Ip(e,t.path),u=r[1],d=IDBKeyRange.lowerBound(r);let g=!1;return ih(n).Z({range:d,X:!0},(w,A,F)=>{const[X,pe,He]=w;X===e&&pe===u&&(g=!0),F.done()}).next(()=>g)}function yc(n){return Io(n,"mutations")}function ih(n){return Io(n,"documentMutations")}function $g(n){return Io(n,"mutationQueues")}class pd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new pd(0)}static vn(){return new pd(-1)}}class TC{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new pd(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Rn.fromTimestamp(new Sr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=t,r&&(u.lastRemoteSnapshotVersion=r.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.Sn(e,u)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>rh(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Fn(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let u=0;const d=[];return rh(e).Z((g,w)=>{const A=dd(w);A.sequenceNumber<=t&&null===r.get(A.targetId)&&(u++,d.push(this.removeTargetData(e,A)))}).next(()=>at.waitFor(d)).next(()=>u)}forEachTarget(e,t){return rh(e).Z((r,u)=>{const d=dd(u);t(d)})}Vn(e){return q_(e).get("targetGlobalKey").next(t=>(Fn(null!==t),t))}Sn(e,t){return q_(e).put("targetGlobalKey",t)}Dn(e,t){return rh(e).put(Db(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Uh(t),u=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let d=null;return rh(e).Z({range:u,index:"queryTargetsIndex"},(g,w,A)=>{const F=dd(w);Ag(t,F.target)&&(d=F,A.done())}).next(()=>d)}addMatchingKeys(e,t,r){const u=[],d=Pu(e);return t.forEach(g=>{const w=Os(g.path);u.push(d.put({targetId:r,path:w})),u.push(this.referenceDelegate.addReference(e,r,g))}),at.waitFor(u)}removeMatchingKeys(e,t,r){const u=Pu(e);return at.forEach(t,d=>{const g=Os(d.path);return at.waitFor([u.delete([r,g]),this.referenceDelegate.removeReference(e,r,d)])})}removeMatchingKeysForTargetId(e,t){const r=Pu(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(u)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),u=Pu(e);let d=ui();return u.Z({range:r,X:!0},(g,w,A)=>{const F=iu(g[1]),X=new Yt(F);d=d.add(X)}).next(()=>d)}containsKey(e,t){const r=Os(t.path),u=IDBKeyRange.bound([r],[Yn(r)],!1,!0);let d=0;return Pu(e).Z({index:"documentTargetsIndex",X:!0,range:u},([g,w],A,F)=>{0!==g&&(d++,F.done())}).next(()=>d>0)}se(e,t){return rh(e).get(t).next(r=>r?dd(r):null)}}function rh(n){return Io(n,"targets")}function q_(n){return Io(n,"targetGlobal")}function Pu(n){return Io(n,"targetDocuments")}function Zg([n,e],[t,r]){const u=Kn(n,t);return 0===u?Kn(e,r):u}class Rb{constructor(e){this.xn=e,this.buffer=new fr(Zg),this.Nn=0}kn(){return++this.Nn}Mn(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Zg(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Pb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var t=this;Vt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ut.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){nd(r)?Vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Gd(r)}yield t.Fn(3e5)}))}}class Nb{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return at.resolve(Ja.at);const r=new Rb(t);return this.$n.forEachTarget(e,u=>r.Mn(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>r.Mn(u))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(zg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zg):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,u,d,g,w,A,F;const X=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(pe=>(pe>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${pe}`),u=this.params.maximumSequenceNumbersToCollect):u=pe,g=Date.now(),this.nthSequenceNumber(e,u))).next(pe=>(r=pe,w=Date.now(),this.removeTargets(e,r,t))).next(pe=>(d=pe,A=Date.now(),this.removeOrphanedDocuments(e,r))).next(pe=>(F=Date.now(),$d()<=Si.in.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-X}ms\n\tDetermined least recently used ${u} in `+(w-g)+`ms\n\tRemoved ${d} targets in `+(A-w)+`ms\n\tRemoved ${pe} documents in `+(F-A)+`ms\nTotal Duration: ${F-X}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:pe})))}}class Fb{constructor(e,t){this.db=e,this.garbageCollector=new Nb(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(u=>r+u))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,u)=>t(u))}addReference(e,t,r){return Ap(e,r)}removeReference(e,t,r){return Ap(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Ap(e,t)}Gn(e,t){return function(r,u){let d=!1;return $g(r).tt(g=>kb(r,g,u).next(w=>(w&&(d=!0),at.resolve(!w)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Kn(e,(g,w)=>{if(w<=t){const A=this.Gn(e,g).next(F=>{if(!F)return d++,r.getEntry(e,g).next(()=>(r.removeEntry(g,Rn.min()),Pu(e).delete([0,Os(g.path)])))});u.push(A)}}).next(()=>at.waitFor(u)).next(()=>r.apply(e)).next(()=>d)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Ap(e,t)}Kn(e,t){const r=Pu(e);let u,d=Ja.at;return r.Z({index:"documentTargetsIndex"},([g,w],{path:A,sequenceNumber:F})=>{0===g?(d!==Ja.at&&t(new Yt(iu(u)),d),d=F,u=A):d=Ja.at}).next(()=>{d!==Ja.at&&t(new Yt(iu(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ap(n,e){return Pu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Os(e.path),sequenceNumber:r}));var r}class K_{constructor(){this.changes=new pc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?at.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Lb{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sh(e).put(r)}removeEntry(e,t,r){return sh(e).delete(function(u,d){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],Bg(d),g[g.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Cr.newInvalidDocument(t);return sh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(nf(t))},(u,d)=>{r=this.jn(t,d)}).next(()=>r)}Wn(e,t){let r={size:0,document:Cr.newInvalidDocument(t)};return sh(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(nf(t))},(u,d)=>{r={document:this.jn(t,d),size:tf(d)}}).next(()=>r)}getEntries(e,t){let r=aa();return this.zn(e,t,(u,d)=>{const g=this.jn(u,d);r=r.insert(u,g)}).next(()=>r)}Hn(e,t){let r=aa(),u=new gs(Yt.comparator);return this.zn(e,t,(d,g)=>{const w=this.jn(d,g);r=r.insert(d,w),u=u.insert(d,tf(g))}).next(()=>({documents:r,Jn:u}))}zn(e,t,r){if(t.isEmpty())return at.resolve();let u=new fr(ks);t.forEach(A=>u=u.add(A));const d=IDBKeyRange.bound(nf(u.first()),nf(u.last())),g=u.getIterator();let w=g.getNext();return sh(e).Z({index:"documentKeyIndex",range:d},(A,F,X)=>{const pe=Yt.fromSegments([...F.prefixPath,F.collectionGroup,F.documentId]);for(;w&&ks(w,pe)<0;)r(w,null),w=g.getNext();w&&w.isEqual(pe)&&(r(w,F),w=g.hasNext()?g.getNext():null),w?X.j(nf(w)):X.done()}).next(()=>{for(;w;)r(w,null),w=g.hasNext()?g.getNext():null})}getAllFromCollection(e,t,r){const u=[t.popLast().toArray(),t.lastSegment(),Bg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sh(e).W(IDBKeyRange.bound(u,d,!0)).next(g=>{let w=aa();for(const A of g){const F=this.jn(Yt.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);w=w.insert(F.key,F)}return w})}getAllFromCollectionGroup(e,t,r,u){let d=aa();const g=Bb(t,r),w=Bb(t,Vo.max());return sh(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,w,!0)},(A,F,X)=>{const pe=this.jn(Yt.fromSegments(F.prefixPath.concat(F.collectionGroup,F.documentId)),F);d=d.insert(pe.key,pe),d.size===u&&X.done()}).next(()=>d)}newChangeBuffer(e){return new LT(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Vb(e).get("remoteDocumentGlobalKey").next(t=>(Fn(!!t),t))}Qn(e,t){return Vb(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function vC(n,e){let t;if(e.document)t=fb(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Yt.fromSegments(e.noDocument.path),u=th(e.noDocument.readTime);t=Cr.newNoDocument(r,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dn();{const r=Yt.fromSegments(e.unknownDocument.path),u=th(e.unknownDocument.version);t=Cr.newUnknownDocument(r,u)}}return e.readTime&&t.setReadTime(function(r){const u=new Sr(r[0],r[1]);return Rn.fromTimestamp(u)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Rn.min()))return r}return Cr.newInvalidDocument(e)}}function Y_(n){return new Lb(n)}class LT extends K_{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new pc(r=>r.toString(),(r,u)=>r.isEqual(u))}applyChanges(e){const t=[];let r=0,u=new fr((d,g)=>Kn(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const w=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,w.readTime)),g.isValidDocument()){const A=eh(this.Yn.It,g);u=u.add(d.path.popLast()),r+=tf(A)-w.size,t.push(this.Yn.addEntry(e,d,A))}else if(r-=w.size,this.trackRemovals){const A=eh(this.Yn.It,g.convertToNoDocument(Rn.min()));t.push(this.Yn.addEntry(e,d,A))}}),u.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,r)),at.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:u})=>(u.forEach((d,g)=>{this.Xn.set(d,{size:g,readTime:r.get(d).readTime})}),r))}}function Vb(n){return Io(n,"remoteDocumentGlobal")}function sh(n){return Io(n,"remoteDocumentsV14")}function nf(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Bb(n,e){const t=e.documentKey.path.toArray();return[n,Bg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function ks(n,e){const t=n.path.toArray(),r=e.path.toArray();let u=0;for(let d=0;d<t.length-2&&d<r.length-2;++d)if(u=Kn(t[d],r[d]),u)return u;return u=Kn(t.length,r.length),u||(u=Kn(t[t.length-2],r[r.length-2]),u||Kn(t[t.length-1],r[r.length-1]))}class Ub{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hb{constructor(e,t,r,u){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=u}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(u=>(r=u,this.getBaseDocument(e,t,r))).next(u=>(null!==r&&pp(r.mutation,u,ra.empty(),Sr.now()),u))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ui()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ui()){const u=Ou();return this.populateOverlays(e,u,t).next(()=>this.computeViews(e,t,u,r).next(d=>{let g=gp();return d.forEach((w,A)=>{g=g.insert(w,A.overlayedDocument)}),g}))}getOverlayedDocuments(e,t){const r=Ou();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ui()))}populateOverlays(e,t,r){const u=[];return r.forEach(d=>{t.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((g,w)=>{t.set(g,w)})})}computeViews(e,t,r,u){let d=aa();const g=Ng(),w=Ng();return t.forEach((A,F)=>{const X=r.get(F.key);u.has(F.key)&&(void 0===X||X.mutation instanceof Mu)?d=d.insert(F.key,F):void 0!==X&&(g.set(F.key,X.mutation.getFieldMask()),pp(X.mutation,F,X.mutation.getFieldMask(),Sr.now()))}),this.recalculateAndSaveOverlays(e,d).next(A=>(A.forEach((F,X)=>g.set(F,X)),t.forEach((F,X)=>{var pe;return w.set(F,new Ub(X,null!==(pe=g.get(F))&&void 0!==pe?pe:null))}),w))}recalculateAndSaveOverlays(e,t){const r=Ng();let u=new gs((g,w)=>g-w),d=ui();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(g=>{for(const w of g)w.keys().forEach(A=>{const F=t.get(A);if(null===F)return;let X=r.get(A)||ra.empty();X=w.applyToLocalView(F,X),r.set(A,X);const pe=(u.get(w.batchId)||ui()).add(A);u=u.insert(w.batchId,pe)})}).next(()=>{const g=[],w=u.getReverseIterator();for(;w.hasNext();){const A=w.getNext(),F=A.key,X=A.value,pe=D_();X.forEach(He=>{if(!d.has(He)){const Xe=nb(t.get(He),r.get(He));null!==Xe&&pe.set(He,Xe),d=d.add(He)}}),g.push(this.documentOverlayCache.saveOverlays(e,F,pe))}return at.waitFor(g)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Yt.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):__(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var u}getNextDocuments(e,t,r,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,u).next(d=>{const g=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,u-d.size):at.resolve(Ou());let w=-1,A=d;return g.next(F=>at.forEach(F,(X,pe)=>(w<pe.largestBatchId&&(w=pe.largestBatchId),d.get(X)?at.resolve():this.getBaseDocument(e,X,pe).next(He=>{A=A.insert(X,He)}))).next(()=>this.populateOverlays(e,F,d)).next(()=>this.computeViews(e,A,F,ui())).next(X=>({batchId:w,changes:ab(X)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Yt(t)).next(r=>{let u=gp();return r.isFoundDocument()&&(u=u.insert(r.key,r)),u})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const u=t.collectionGroup;let d=gp();return this.indexManager.getCollectionParents(e,u).next(g=>at.forEach(g,w=>{const A=(F=t,X=w.child(u),new od(X,null,F.explicitOrderBy.slice(),F.filters.slice(),F.limit,F.limitType,F.startAt,F.endAt));var F,X;return this.getDocumentsMatchingCollectionQuery(e,A,r).next(F=>{F.forEach((X,pe)=>{d=d.insert(X,pe)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,r){let u;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(d=>(u=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(d=>{d.forEach((w,A)=>{const F=A.getKey();null===u.get(F)&&(u=u.insert(F,Cr.newInvalidDocument(F)))});let g=gp();return u.forEach((w,A)=>{const F=d.get(w);void 0!==F&&pp(F.mutation,A,ra.empty(),Sr.now()),kg(t,A)&&(g=g.insert(w,A))}),g})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):at.resolve(Cr.newInvalidDocument(t))}}class IC{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return at.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:ro(r.createTime)}),at.resolve()}getNamedQuery(e,t){return at.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:Ug(r.bundledQuery),readTime:ro(r.readTime)}),at.resolve();var r}}class jb{constructor(){this.overlays=new gs(Yt.comparator),this.es=new Map}getOverlay(e,t){return at.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ou();return at.forEach(t,u=>this.getOverlay(e,u).next(d=>{null!==d&&r.set(u,d)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((u,d)=>{this.ue(e,t,d)}),at.resolve()}removeOverlaysForBatchId(e,t,r){const u=this.es.get(r);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(r)),at.resolve()}getOverlaysForCollection(e,t,r){const u=Ou(),d=t.length+1,g=new Yt(t.child("")),w=this.overlays.getIteratorFrom(g);for(;w.hasNext();){const A=w.getNext().value,F=A.getKey();if(!t.isPrefixOf(F.path))break;F.path.length===d&&A.largestBatchId>r&&u.set(A.getKey(),A)}return at.resolve(u)}getOverlaysForCollectionGroup(e,t,r,u){let d=new gs((F,X)=>F-X);const g=this.overlays.getIterator();for(;g.hasNext();){const F=g.getNext().value;if(F.getKey().getCollectionGroup()===t&&F.largestBatchId>r){let X=d.get(F.largestBatchId);null===X&&(X=Ou(),d=d.insert(F.largestBatchId,X)),X.set(F.getKey(),F)}}const w=Ou(),A=d.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((F,X)=>w.set(F,X)),!(w.size()>=u)););return at.resolve(w)}ue(e,t,r){const u=this.overlays.get(r.key);if(null!==u){const g=this.es.get(u.largestBatchId).delete(r.key);this.es.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(r.key,new U_(t,r));let d=this.es.get(t);void 0===d&&(d=ui(),this.es.set(t,d)),this.es.set(t,d.add(r.key))}}class Q_{constructor(){this.ns=new fr($s.ss),this.rs=new fr($s.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new $s(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new $s(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Yt(new Ci([])),r=new $s(t,e),u=new $s(t,e+1),d=[];return this.rs.forEachInRange([r,u],g=>{this.cs(g),d.push(g.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Yt(new Ci([])),r=new $s(t,e),u=new $s(t,e+1);let d=ui();return this.rs.forEachInRange([r,u],g=>{d=d.add(g.key)}),d}containsKey(e){const t=new $s(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class $s{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Yt.comparator(e.key,t.key)||Kn(e._s,t._s)}static os(e,t){return Kn(e._s,t._s)||Yt.comparator(e.key,t.key)}}class zb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new fr($s.ss)}checkEmpty(e){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,u){const d=this.ws;this.ws++;const g=new Ib(d,t,r,u);this.mutationQueue.push(g);for(const w of u)this.gs=this.gs.add(new $s(w.key,d)),this.indexManager.addToCollectionParentIndex(e,w.key.path.popLast());return at.resolve(g)}lookupMutationBatch(e,t){return at.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.ps(t+1),d=u<0?0:u;return at.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $s(t,0),u=new $s(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([r,u],g=>{const w=this.ys(g._s);d.push(w)}),at.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fr(Kn);return t.forEach(u=>{const d=new $s(u,0),g=new $s(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,g],w=>{r=r.add(w._s)})}),at.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,u=r.length+1;let d=r;Yt.isDocumentKey(d)||(d=d.child(""));const g=new $s(new Yt(d),0);let w=new fr(Kn);return this.gs.forEachWhile(A=>{const F=A.key.path;return!!r.isPrefixOf(F)&&(F.length===u&&(w=w.add(A._s)),!0)},g),at.resolve(this.Is(w))}Is(e){const t=[];return e.forEach(r=>{const u=this.ys(r);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){Fn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return at.forEach(t.mutations,u=>{const d=new $s(u.key,t.batchId);return r=r.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new $s(t,0),u=this.gs.firstAfterOrEqual(r);return at.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return at.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class rf{constructor(e){this.Es=e,this.docs=new gs(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,u=this.docs.get(r),d=u?u.size:0,g=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return at.resolve(r?r.document.mutableCopy():Cr.newInvalidDocument(t))}getEntries(e,t){let r=aa();return t.forEach(u=>{const d=this.docs.get(u);r=r.insert(u,d?d.document.mutableCopy():Cr.newInvalidDocument(u))}),at.resolve(r)}getAllFromCollection(e,t,r){let u=aa();const d=new Yt(t.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:w,value:{document:A}}=g.getNext();if(!t.isPrefixOf(w.path))break;w.path.length>t.length+1||np(tp(A),r)<=0||(u=u.insert(A.key,A.mutableCopy()))}return at.resolve(u)}getAllFromCollectionGroup(e,t,r,u){dn()}As(e,t){return at.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new SC(this)}getSize(e){return at.resolve(this.size)}}class SC extends K_{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,u)=>{u.isValidDocument()?t.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(r)}),at.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class DC{constructor(e){this.persistence=e,this.Rs=new pc(t=>Uh(t),Ag),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Q_,this.targetCount=0,this.vs=pd.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,u)=>t(u)),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),at.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new pd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,at.resolve()}updateTargetData(e,t){return this.Dn(t),at.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,t,r){let u=0;const d=[];return this.Rs.forEach((g,w)=>{w.sequenceNumber<=t&&null===r.get(w.targetId)&&(this.Rs.delete(g),d.push(this.removeMatchingKeysForTargetId(e,w.targetId)),u++)}),at.waitFor(d).next(()=>u)}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return at.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),at.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const u=this.persistence.referenceDelegate,d=[];return u&&t.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),at.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),at.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return at.resolve(r)}containsKey(e,t){return at.resolve(this.Ps.containsKey(t))}}class J_{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Ja(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new DC(this),this.indexManager=new Z_,this.remoteDocumentCache=new rf(r=>this.referenceDelegate.xs(r)),this.It=new yC(t),this.Ns=new IC(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new zb(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Vt("MemoryPersistence","Starting transaction:",e);const u=new xC(this.Ss.next());return this.referenceDelegate.ks(),r(u).next(d=>this.referenceDelegate.Ms(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Os(e,t){return at.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class xC extends Tg{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.Fs=new Q_,this.$s=null}static Bs(e){return new Mp(e)}get Ls(){if(this.$s)return this.$s;throw dn()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),at.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),at.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),at.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(u=>this.Ls.add(u.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(d=>this.Ls.add(d.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Ms(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Ls,r=>{const u=Yt.fromPath(r);return this.Us(e,u).next(d=>{d||t.removeEntry(u,Rn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return at.or([()=>at.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class VT{constructor(e){this.It=e}$(e,t,r,u){const d=new Ig("createOrUpgrade",t);var w;r<1&&u>=1&&(e.createObjectStore("owner"),(w=e).createObjectStore("mutationQueues",{keyPath:"userId"}),w.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",F_,{unique:!0}),w.createObjectStore("documentMutations"),Gg(e),function(w){w.createObjectStore("remoteDocuments")}(e));let g=at.resolve();return r<3&&u>=3&&(0!==r&&(function(w){w.deleteObjectStore("targetDocuments"),w.deleteObjectStore("targets"),w.deleteObjectStore("targetGlobal")}(e),Gg(e)),g=g.next(()=>function(w){const A=w.store("targetGlobal"),F={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rn.min().toTimestamp(),targetCount:0};return A.put("targetGlobalKey",F)}(d))),r<4&&u>=4&&(0!==r&&(g=g.next(()=>function(w,A){return A.store("mutations").W().next(F=>{w.deleteObjectStore("mutations"),w.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",F_,{unique:!0});const X=A.store("mutations"),pe=F.map(He=>X.put(He));return at.waitFor(pe)})}(e,d))),g=g.next(()=>{!function(w){w.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&u>=5&&(g=g.next(()=>this.qs(d))),r<6&&u>=6&&(g=g.next(()=>(function(w){w.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),r<7&&u>=7&&(g=g.next(()=>this.Gs(d))),r<8&&u>=8&&(g=g.next(()=>this.Qs(e,d))),r<9&&u>=9&&(g=g.next(()=>{!function(w){w.objectStoreNames.contains("remoteDocumentChanges")&&w.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&u>=10&&(g=g.next(()=>this.js(d))),r<11&&u>=11&&(g=g.next(()=>{(function(w){w.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(w){w.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&u>=12&&(g=g.next(()=>{!function(w){const A=w.createObjectStore("documentOverlays",{keyPath:mC});A.createIndex("collectionPathOverlayIndex",Cb,{unique:!1}),A.createIndex("collectionGroupOverlayIndex",_C,{unique:!1})}(e)})),r<13&&u>=13&&(g=g.next(()=>function(w){const A=w.createObjectStore("remoteDocumentsV14",{keyPath:gb});A.createIndex("documentKeyIndex",mb),A.createIndex("collectionGroupIndex",_b)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&u>=14&&(g=g.next(()=>this.zs(e,d))),r<15&&u>=15&&(g=g.next(()=>function(w){w.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),w.createObjectStore("indexState",{keyPath:bb}).createIndex("sequenceNumberIndex",pC,{unique:!1}),w.createObjectStore("indexEntries",{keyPath:gC}).createIndex("documentKeyIndex",wb,{unique:!1})}(e))),g}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,u)=>{t+=tf(u)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(u=>at.forEach(u,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",g).next(w=>at.forEach(w,A=>{Fn(A.userId===d.userId);const F=cd(this.It,A);return W_(e,d.userId,F).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return r.Z((g,w)=>{const A=new Ci(g),F=[0,Os(A)];d.push(t.get(F).next(X=>X?at.resolve():t.put({targetId:0,path:Os(A),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>at.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:vb});const r=t.store("collectionParents"),u=new Sp,d=g=>{if(u.add(g)){const w=g.lastSegment(),A=g.popLast();return r.put({collectionId:w,parent:Os(A)})}};return t.store("remoteDocuments").Z({X:!0},(g,w)=>{const A=new Ci(g);return d(A.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([g,w,A],F)=>{const X=iu(w);return d(X.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,u)=>{const d=dd(u),g=Db(this.It,d);return t.put(g)})}Ws(e,t){const r=t.store("remoteDocuments"),u=[];return r.Z((d,g)=>{const w=t.store("remoteDocumentsV14"),A=(F=g,F.document?new Yt(Ci.fromString(F.document.name).popFirst(5)):F.noDocument?Yt.fromSegments(F.noDocument.path):F.unknownDocument?Yt.fromSegments(F.unknownDocument.path):dn()).path.toArray();var F;const X={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(w.put(X))}).next(()=>at.waitFor(u))}zs(e,t){const r=t.store("mutations"),u=Y_(this.It),d=new J_(Mp.Bs,this.It.re);return r.W().next(g=>{const w=new Map;return g.forEach(A=>{var F;let X=null!==(F=w.get(A.userId))&&void 0!==F?F:ui();cd(this.It,A).keys().forEach(pe=>X=X.add(pe)),w.set(A.userId,X)}),at.forEach(w,(A,F)=>{const X=new is(F),pe=Hg.oe(this.It,X),He=d.getIndexManager(X),Xe=xp.oe(X,this.It,He,d.referenceDelegate);return new Hb(u,Xe,pe,He).recalculateAndSaveOverlaysForDocumentKeys(new B_(t,Ja.at),A).next()})})}}function Gg(n){n.createObjectStore("targetDocuments",{keyPath:yb}).createIndex("documentTargetsIndex",fC,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hC,{unique:!0}),n.createObjectStore("targetGlobal")}const Op="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Al{constructor(e,t,r,u,d,g,w,A,F,X,pe=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=d,this.window=g,this.document=w,this.Js=F,this.Ys=X,this.Xs=pe,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=He=>Promise.resolve(),!Al.C())throw new kt(dt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Fb(this,u),this.ii=t+"main",this.It=new yC(A),this.ri=new Xl(this.ii,this.Xs,new VT(this.It)),this.Cs=new TC(this.referenceDelegate,this.It),this.remoteDocumentCache=Y_(this.It),this.Ns=new bC,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===X&&rs("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new kt(dt.FAILED_PRECONDITION,Op);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ja(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,ut.Z)(function*(u){if(t.started)return e(u)});return function(u){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,ut.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,ut.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Rp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(nd(e))return Vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return kp(e).get("owner").next(t=>at.resolve(this.mi(t)))}gi(e){return Rp(e).delete(this.clientId)}yi(){var e=this;return(0,ut.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const u=Io(r,"clientMetadata");return u.W().next(d=>{const g=e.Ii(d,18e5),w=d.filter(A=>-1===g.indexOf(A));return at.forEach(w,A=>u.delete(A.clientId)).next(()=>w)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?at.resolve(!0):kp(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new kt(dt.FAILED_PRECONDITION,Op);return!1}}return!(!this.networkEnabled||!this.inForeground)||Rp(e).W().next(r=>void 0===this.Ii(r,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,w=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&w)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Vt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ut.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new B_(t,Ja.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Rp(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return xp.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FT(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Hg.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){Vt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",d=15===(g=this.Xs)?V_:14===g?Vg:13===g?Tb:12===g?PT:11===g?Eb:void dn();var g;let w;return this.ri.runTransaction(e,u,d,A=>(w=new B_(A,this.Ss?this.Ss.next():Ja.at),"readwrite-primary"===t?this.fi(w).next(F=>!!F||this.di(w)).next(F=>{if(!F)throw rs(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new kt(dt.FAILED_PRECONDITION,Eg);return r(w)}).next(F=>this.wi(w).next(()=>F)):this.Vi(w).next(()=>r(w)))).then(A=>(w.raiseOnCommittedEvent(),A))}Vi(e){return kp(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new kt(dt.FAILED_PRECONDITION,Op)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return kp(e).put("owner",t)}static C(){return Xl.C()}_i(e){const t=kp(e);return t.get("owner").next(r=>this.mi(r)?(Vt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):at.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(rs(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,ai.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Vt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return rs("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){rs("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(e){}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function kp(n){return Io(n,"owner")}function Rp(n){return Io(n,"clientMetadata")}function Ml(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nl{constructor(e,t,r,u){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=u}static Ci(e,t){let r=ui(),u=ui();for(const d of t.docChanges)switch(d.type){case 0:r=r.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new nl(e,t.fromCache,r,u)}}class Ol{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,u){return this.ki(e,t).next(d=>d||this.Mi(e,t,u,r)).next(d=>d||this.Oi(e,t))}ki(e,t){if(Kv(t))return at.resolve(null);let r=Eo(t);return this.indexManager.getIndexType(e,r).next(u=>0===u?null:(null!==t.limit&&1===u&&(t=$h(t,null,"F"),r=Eo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(d=>{const g=ui(...d);return this.Ni.getDocuments(e,g).next(w=>this.indexManager.getMinOffset(e,r).next(A=>{const F=this.Fi(t,w);return this.$i(t,F,g,A.readTime)?this.ki(e,$h(t,null,"F")):this.Bi(e,F,t,A)}))})))}Mi(e,t,r,u){return Kv(t)||u.isEqual(Rn.min())?this.Oi(e,t):this.Ni.getDocuments(e,r).next(d=>{const g=this.Fi(t,d);return this.$i(t,g,r,u)?this.Oi(e,t):($d()<=Si.in.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),cp(t)),this.Bi(e,g,t,$0(u,-1)))})}Fi(e,t){let r=new fr(Qv(e));return t.forEach((u,d)=>{kg(e,d)&&(r=r.add(d))}),r}$i(e,t,r,u){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Oi(e,t){return $d()<=Si.in.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",cp(t)),this.Ni.getDocumentsMatchingQuery(e,t,Vo.min())}Bi(e,t,r,u){return this.Ni.getDocumentsMatchingQuery(e,r,u).next(d=>(t.forEach(g=>{d=d.insert(g.key,g)}),d))}}class $b{constructor(e,t,r,u){this.persistence=e,this.Li=t,this.It=u,this.Ui=new gs(Kn),this.qi=new pc(d=>Uh(d),Ag),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hb(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function X_(n,e,t,r){return new $b(n,e,t,r)}function Zb(n,e){return ey.apply(this,arguments)}function ey(){return ey=(0,ut.Z)(function*(n,e){const t=en(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let u;return t.mutationQueue.getAllMutationBatches(r).next(d=>(u=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(d=>{const g=[],w=[];let A=ui();for(const F of u){g.push(F.batchId);for(const X of F.mutations)A=A.add(X.key)}for(const F of d){w.push(F.batchId);for(const X of F.mutations)A=A.add(X.key)}return t.localDocuments.getDocuments(r,A).next(F=>({ji:F,removedBatchIds:g,addedBatchIds:w}))})})}),ey.apply(this,arguments)}function AC(n,e){const t=en(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const u=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(g,w,A,F){const X=A.batch,pe=X.keys();let He=at.resolve();return pe.forEach(Xe=>{He=He.next(()=>F.getEntry(w,Xe)).next(Je=>{const _t=A.docVersions.get(Xe);Fn(null!==_t),Je.version.compareTo(_t)<0&&(X.applyToRemoteDocument(Je,A),Je.isValidDocument()&&(Je.setReadTime(A.commitVersion),F.addEntry(Je)))})}),He.next(()=>g.mutationQueue.removeMutationBatch(w,X))}(t,r,e,d).next(()=>d.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,u,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(g){let w=ui();for(let A=0;A<g.mutationResults.length;++A)g.mutationResults[A].transformResults.length>0&&(w=w.add(g.batch.mutations[A].key));return w}(e))).next(()=>t.localDocuments.getDocuments(r,u))})}function Gb(n){const e=en(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ty(n,e){const t=en(n),r=e.snapshotVersion;let u=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=t.Gi.newChangeBuffer({trackRemovals:!0});u=t.Ui;const w=[];e.targetChanges.forEach((X,pe)=>{const He=u.get(pe);if(!He)return;w.push(t.Cs.removeMatchingKeys(d,X.removedDocuments,pe).next(()=>t.Cs.addMatchingKeys(d,X.addedDocuments,pe)));let Xe=He.withSequenceNumber(d.currentSequenceNumber);var Je,_t,Ft;e.targetMismatches.has(pe)?Xe=Xe.withResumeToken(As.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):X.resumeToken.approximateByteSize()>0&&(Xe=Xe.withResumeToken(X.resumeToken,r)),u=u.insert(pe,Xe),_t=Xe,Ft=X,(0===(Je=He).resumeToken.approximateByteSize()||_t.snapshotVersion.toMicroseconds()-Je.snapshotVersion.toMicroseconds()>=3e8||Ft.addedDocuments.size+Ft.modifiedDocuments.size+Ft.removedDocuments.size>0)&&w.push(t.Cs.updateTargetData(d,Xe))});let A=aa(),F=ui();if(e.documentUpdates.forEach(X=>{e.resolvedLimboDocuments.has(X)&&w.push(t.persistence.referenceDelegate.updateLimboDocument(d,X))}),w.push(sf(d,g,e.documentUpdates).next(X=>{A=X.Wi,F=X.zi})),!r.isEqual(Rn.min())){const X=t.Cs.getLastRemoteSnapshotVersion(d).next(pe=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,r));w.push(X)}return at.waitFor(w).next(()=>g.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,A,F)).next(()=>A)}).then(d=>(t.Ui=u,d))}function sf(n,e,t){let r=ui(),u=ui();return t.forEach(d=>r=r.add(d)),e.getEntries(n,r).next(d=>{let g=aa();return t.forEach((w,A)=>{const F=d.get(w);A.isFoundDocument()!==F.isFoundDocument()&&(u=u.add(w)),A.isNoDocument()&&A.version.isEqual(Rn.min())?(e.removeEntry(w,A.readTime),g=g.insert(w,A)):!F.isValidDocument()||A.version.compareTo(F.version)>0||0===A.version.compareTo(F.version)&&F.hasPendingWrites?(e.addEntry(A),g=g.insert(w,A)):Vt("LocalStore","Ignoring outdated watch update for ",w,". Current version:",F.version," Watch version:",A.version)}),{Wi:g,zi:u}})}function MC(n,e){const t=en(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oh(n,e){const t=en(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let u;return t.Cs.getTargetData(r,e).next(d=>d?(u=d,at.resolve(u)):t.Cs.allocateTargetId(r).next(g=>(u=new gc(e,g,0,r.currentSequenceNumber),t.Cs.addTargetData(r,u).next(()=>u))))}).then(r=>{const u=t.Ui.get(r.targetId);return(null===u||r.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function of(n,e,t){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,ut.Z)(function*(n,e,t){const r=en(n),u=r.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",d,g=>r.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!nd(g))throw g;Vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}r.Ui=r.Ui.remove(e),r.qi.delete(u.target)}),Wg.apply(this,arguments)}function Pp(n,e,t){const r=en(n);let u=Rn.min(),d=ui();return r.persistence.runTransaction("Execute query","readonly",g=>function(w,A,F){const X=en(w),pe=X.qi.get(F);return void 0!==pe?at.resolve(X.Ui.get(pe)):X.Cs.getTargetData(A,F)}(r,g,Eo(e)).next(w=>{if(w)return u=w.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(g,w.targetId).next(A=>{d=A})}).next(()=>r.Li.getDocumentsMatchingQuery(g,e,t?u:Rn.min(),t?d:ui())).next(w=>(ny(r,Yv(e),w),{documents:w,Hi:d})))}function Np(n,e){const t=en(n),r=en(t.Cs),u=t.Ui.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",d=>r.se(d,e).next(g=>g?g.target:null))}function Wb(n,e){const t=en(n),r=t.Ki.get(e)||Rn.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.Gi.getAllFromCollectionGroup(u,e,$0(r,-1),Number.MAX_SAFE_INTEGER)).then(u=>(ny(t,e,u),u))}function ny(n,e,t){let r=Rn.min();t.forEach((u,d)=>{d.readTime.compareTo(r)>0&&(r=d.readTime)}),n.Ki.set(e,r)}function Fp(){return Fp=(0,ut.Z)(function*(n,e,t,r){const u=en(n);let d=ui(),g=aa();for(const F of t){const X=e.Ji(F.metadata.name);F.document&&(d=d.add(X));const pe=e.Yi(F);pe.setReadTime(e.Xi(F.metadata.readTime)),g=g.insert(X,pe)}const w=u.Gi.newChangeBuffer({trackRemovals:!0}),A=yield oh(u,(F=r,Eo(jh(Ci.fromString(`__bundle__/docs/${F}`)))));var F;return u.persistence.runTransaction("Apply bundle documents","readwrite",F=>sf(F,w,g).next(X=>(w.apply(F),X)).next(X=>u.Cs.removeMatchingKeysForTargetId(F,A.targetId).next(()=>u.Cs.addMatchingKeys(F,d,A.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(F,X.Wi,X.zi)).next(()=>X.Wi)))}),Fp.apply(this,arguments)}function qg(n,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,ut.Z)(function*(n,e,t=ui()){const r=yield oh(n,Eo(Ug(e.bundledQuery))),u=en(n);return u.persistence.runTransaction("Save named query","readwrite",d=>{const g=ro(e.readTime);if(r.snapshotVersion.compareTo(g)>=0)return u.Ns.saveNamedQuery(d,e);const w=r.withResumeToken(As.EMPTY_BYTE_STRING,g);return u.Ui=u.Ui.insert(w.targetId,w),u.Cs.updateTargetData(d,w).next(()=>u.Cs.removeMatchingKeysForTargetId(d,r.targetId)).next(()=>u.Cs.addMatchingKeys(d,t,r.targetId)).next(()=>u.Ns.saveNamedQuery(d,e))})}),Lp.apply(this,arguments)}function iy(n,e){return`firestore_clients_${n}_${e}`}function ry(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Kg(n,e){return`firestore_targets_${n}_${e}`}class Vp{constructor(e,t,r,u){this.user=e,this.batchId=t,this.state=r,this.error=u}static Zi(e,t,r){const u=JSON.parse(r);let d,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(d=new kt(u.error.code,u.error.message))),g?new Vp(e,t,u.state,d):(rs("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class af{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let u,d="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return d&&r.error&&(d="string"==typeof r.error.message&&"string"==typeof r.error.code,d&&(u=new kt(r.error.code,r.error.message))),d?new af(e,r.state,u):(rs("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let u="object"==typeof r&&r.activeTargetIds instanceof Array,d=x_();for(let g=0;u&&g<r.activeTargetIds.length;++g)u=Lv(r.activeTargetIds[g]),d=d.add(r.activeTargetIds[g]);return u?new Bp(e,d):(rs("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Yg{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Yg(t.clientId,t.onlineState):(rs("SharedClientState",`Failed to parse online state: ${e}`),null)}}class sy{constructor(){this.activeTargetIds=x_()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oy{constructor(e,t,r,u,d){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new gs(Kn),this.started=!1,this.cr=[];const g=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=iy(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new sy),this.lr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(w){return`firestore_bundle_loaded_v2_${w}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ut.Z)(function*(){const t=yield e.syncEngine.vi();for(const u of t){if(u===e.sr)continue;const d=e.getItem(iy(e.persistenceKey,u));if(d){const g=Bp.Zi(u,d);g&&(e.ur=e.ur.insert(g.clientId,g))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const u=e.yr(r);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Kg(this.persistenceKey,e));if(r){const u=af.Zi(e,r);u&&(t=u.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Kg(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(u=>{this.Er(u)}),this.currentUser=e,r.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Vt("SharedClientState","READ",e,t),t}setItem(e,t){Vt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Vt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void rs("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,ut.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const u=t.vr(r.key);return t.Vr(u,null)}{const u=t.Sr(r.key,r.newValue);if(u)return t.Vr(u.clientId,u)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const u=t.Dr(r.key,r.newValue);if(u)return t.Cr(u)}}else if(t._r.test(r.key)){if(null!==r.newValue){const u=t.Nr(r.key,r.newValue);if(u)return t.kr(u)}}else if(r.key===t.wr){if(null!==r.newValue){const u=t.yr(r.newValue);if(u)return t.pr(u)}}else if(r.key===t.hr){const u=function(d){let g=Ja.at;if(null!=d)try{const w=JSON.parse(d);Fn("number"==typeof w),g=w}catch(w){rs("SharedClientState","Failed to read sequence number from WebStorage",w)}return g}(r.newValue);u!==Ja.at&&t.sequenceNumberHandler(u)}else if(r.key===t.mr){const u=t.Mr(r.newValue);yield Promise.all(u.map(d=>t.syncEngine.Or(d)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const u=new Vp(this.currentUser,e,t,r),d=ry(this.persistenceKey,this.currentUser,e);this.setItem(d,u.tr())}Er(e){const t=ry(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const u=Kg(this.persistenceKey,e),d=new af(e,t,r);this.setItem(u,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return Bp.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),u=Number(r[1]);return Vp.Zi(new is(void 0!==r[2]?r[2]:null),u,t)}Nr(e,t){const r=this._r.exec(e),u=Number(r[1]);return af.Zi(u,t)}yr(e){return Yg.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var t=this;return(0,ut.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),u=this.Ir(this.ur),d=this.Ir(r),g=[],w=[];return d.forEach(A=>{u.has(A)||g.push(A)}),u.forEach(A=>{d.has(A)||w.push(A)}),this.syncEngine.Br(g,w).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=x_();return e.forEach((r,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class Kb{constructor(){this.Lr=new sy,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new sy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OC{qr(e){}shutdown(){}}class Yb{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class RC{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class PC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,u,d){const g=this.ao(e,t);Vt("RestConnection","Sending: ",g,r);const w={};return this.ho(w,u,d),this.lo(e,g,w,r).then(A=>(Vt("RestConnection","Received: ",A),A),A=>{throw Zd("RestConnection",`${e} failed with error: `,A,"url: ",g,"request:",r),A})}fo(e,t,r,u,d,g){return this.co(e,t,r,u,d)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Du,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,d)=>e[d]=u),r&&r.headers.forEach((u,d)=>e[d]=u)}ao(e,t){return`${this.oo}/v1/${t}:${kC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,u){return new Promise((d,g)=>{const w=new zd;w.listenOnce(Mh.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case ed.NO_ERROR:const F=w.getResponseJson();Vt("Connection","XHR received:",JSON.stringify(F)),d(F);break;case ed.TIMEOUT:Vt("Connection",'RPC "'+e+'" timed out'),g(new kt(dt.DEADLINE_EXCEEDED,"Request time out"));break;case ed.HTTP_ERROR:const X=w.getStatus();if(Vt("Connection",'RPC "'+e+'" failed with status:',X,"response text:",w.getResponseText()),X>0){const pe=w.getResponseJson().error;if(pe&&pe.status&&pe.message){const He=function(Xe){const Je=Xe.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(Je)>=0?Je:dt.UNKNOWN}(pe.status);g(new kt(He,pe.message))}else g(new kt(dt.UNKNOWN,"Server responded with status "+w.getStatus()))}else g(new kt(dt.UNAVAILABLE,"Connection failed."));break;default:dn()}}finally{Vt("Connection",'RPC "'+e+'" completed.')}});const A=JSON.stringify(u);w.send(t,"POST",A,r,15)})}_o(e,t,r){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=xs(),g=Ya(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new jd({})),this.ho(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const A=u.join("");Vt("Connection","Creating WebChannel: "+A,w);const F=d.createWebChannel(A,w);let X=!1,pe=!1;const He=new RC({Hr:Je=>{pe?Vt("Connection","Not sending because WebChannel is closed:",Je):(X||(Vt("Connection","Opening WebChannel transport."),F.open(),X=!0),Vt("Connection","WebChannel sending:",Je),F.send(Je))},Jr:()=>F.close()}),Xe=(Je,_t,Ft)=>{Je.listen(_t,vn=>{try{Ft(vn)}catch(On){setTimeout(()=>{throw On},0)}})};return Xe(F,td.EventType.OPEN,()=>{pe||Vt("Connection","WebChannel transport opened.")}),Xe(F,td.EventType.CLOSE,()=>{pe||(pe=!0,Vt("Connection","WebChannel transport closed"),He.io())}),Xe(F,td.EventType.ERROR,Je=>{pe||(pe=!0,Zd("Connection","WebChannel transport errored:",Je),He.io(new kt(dt.UNAVAILABLE,"The operation could not be completed")))}),Xe(F,td.EventType.MESSAGE,Je=>{var _t;if(!pe){const Ft=Je.data[0];Fn(!!Ft);const vn=Ft,On=vn.error||(null===(_t=vn[0])||void 0===_t?void 0:_t.error);if(On){Vt("Connection","WebChannel received error:",On);const Bn=On.status;let bn=function(Gn){const Ni=Ms[Gn];if(void 0!==Ni)return S_(Ni)}(Bn),Zn=On.message;void 0===bn&&(bn=dt.INTERNAL,Zn="Unknown error status: "+Bn+" with message "+On.message),pe=!0,He.io(new kt(bn,Zn)),F.close()}else Vt("Connection","WebChannel received:",Ft),He.ro(Ft)}}),Xe(g,Xf.STAT_EVENT,Je=>{Je.stat===Oh.PROXY?Vt("Connection","Detected buffering proxy"):Je.stat===Oh.NOPROXY&&Vt("Connection","Detected no buffering proxy")}),setTimeout(()=>{He.so()},0),He}}function Qb(){return"undefined"!=typeof window?window:null}function Qg(){return"undefined"!=typeof document?document:null}function Up(n){return new cC(n,!0)}class ay{constructor(e,t,r=1e3,u=1.5,d=6e4){this.Hs=e,this.timerId=t,this.wo=r,this.mo=u,this.yo=d,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),u=Math.max(0,t-r);u>0&&Vt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Jb{constructor(e,t,r,u,d,g,w,A){this.Hs=e,this.Po=r,this.vo=u,this.Vo=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=w,this.listener=A,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new ay(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,ut.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,ut.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,ut.Z)(function*(){r.Lo(),r.Uo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===dt.RESOURCE_EXHAUSTED?(rs(t.toString()),rs("Using maximum backoff delay to prevent overloading the backend."),r.xo.Eo()):t&&t.code===dt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,u])=>{this.So===t&&this.Go(r,u)},r=>{e(()=>{const u=new kt(dt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(u)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{r(()=>this.Qo(u))}),this.stream.onMessage(u=>{r(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,ut.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NC extends Jb{constructor(e,t,r,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,u,g),this.It=d}jo(e,t){return this.Vo._o("Listen",e,t)}onMessage(e){this.xo.reset();const t=function dC(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(A=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===A?1:"REMOVE"===A?2:"CURRENT"===A?3:"RESET"===A?4:dn(),u=e.targetChange.targetIds||[],d=function(A,F){return A.gt?(Fn(void 0===F||"string"==typeof F),As.fromBase64String(F||"")):(Fn(void 0===F||F instanceof Uint8Array),As.fromUint8Array(F||new Uint8Array))}(n,e.targetChange.resumeToken),g=e.targetChange.cause,w=g&&function(A){const F=void 0===A.code?dt.UNKNOWN:S_(A.code);return new kt(F,A.message||"")}(g);t=new lC(r,u,d,w||null)}else if("documentChange"in e){const r=e.documentChange,u=ku(n,r.document.name),d=ro(r.document.updateTime),g=new wo({mapValue:{fields:r.document.fields}}),w=Cr.newFoundDocument(u,d,g);t=new _p(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,u=ku(n,r.document),d=r.readTime?ro(r.readTime):Rn.min(),g=Cr.newNoDocument(u,d);t=new _p([],r.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const r=e.documentRemove,u=ku(n,r.document);t=new _p([],r.removedTargetIds||[],u,null)}else{if(!("filter"in e))return dn();{const r=e.filter,d=new oC(r.count||0);t=new A_(r.targetId,d)}}var A;return t}(this.It,e),r=function(u){if(!("targetChange"in u))return Rn.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Rn.min():d.readTime?ro(d.readTime):Rn.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=bp(this.It),t.addTarget=function(u,d){let g;const w=d.target;return g=Mg(w)?{documents:Gh(u,w)}:{query:To(u,w)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=O_(u,d.resumeToken):d.snapshotVersion.compareTo(Rn.min())>0&&(g.readTime=Fg(u,d.snapshotVersion.toTimestamp())),g}(this.It,e);const r=function Lg(n,e){const t=function(r,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=bp(this.It),t.removeTarget=e,this.Bo(t)}}class FC extends Jb{constructor(e,t,r,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,u,g),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.Vo._o("Write",e,t)}onMessage(e){if(Fn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Ru(n,e){return n&&n.length>0?(Fn(void 0!==e),n.map(t=>function(r,u){let d=ro(r.updateTime?r.updateTime:u);return d.isEqual(Rn.min())&&(d=ro(u)),new C_(d,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ro(e.commitTime);return this.listener.Zo(r,t)}return Fn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=bp(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ep(this.It,r))};this.Bo(t)}}class LC extends class{}{constructor(e,t,r,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Vo=r,this.It=u,this.nu=!1}su(){if(this.nu)throw new kt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.Vo.co(e,t,r,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new kt(dt.UNKNOWN,u.toString())})}fo(e,t,r,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.Vo.fo(e,t,r,d,g,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new kt(dt.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class VC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(rs(t),this.ou=!1):Vt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class BC{constructor(e,t,r,u,d){var g=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(w=>{r.enqueueAndForget((0,ut.Z)(function*(){var A;vc(g)&&(Vt("RemoteStore","Restarting streams for network reachability change."),yield(A=(0,ut.Z)(function*(F){const X=en(F);X._u.add(4),yield ah(X),X.gu.set("Unknown"),X._u.delete(4),yield lf(X)}),function(F){return A.apply(this,arguments)})(g))}))}),this.gu=new VC(r,u)}}function lf(n){return Jg.apply(this,arguments)}function Jg(){return Jg=(0,ut.Z)(function*(n){if(vc(n))for(const e of n.wu)yield e(!0)}),Jg.apply(this,arguments)}function ah(n){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,ut.Z)(function*(n){for(const e of n.wu)yield e(!1)}),Xg.apply(this,arguments)}function Hp(n,e){const t=en(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),nm(t)?tm(t):hf(t).ko()&&em(t,e))}function uf(n,e){const t=en(n),r=hf(t);t.du.delete(e),r.ko()&&ly(t,e),0===t.du.size&&(r.ko()?r.Fo():vc(t)&&t.gu.set("Unknown"))}function em(n,e){n.yu.Ot(e.targetId),hf(n).zo(e)}function ly(n,e){n.yu.Ot(e),hf(n).Ho(e)}function tm(n){n.yu=new RT({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n.du.get(e)||null}),hf(n).start(),n.gu.uu()}function nm(n){return vc(n)&&!hf(n).No()&&n.du.size>0}function vc(n){return 0===en(n)._u.size}function gd(n){n.yu=void 0}function UC(n){return uy.apply(this,arguments)}function uy(){return uy=(0,ut.Z)(function*(n){n.du.forEach((e,t)=>{em(n,e)})}),uy.apply(this,arguments)}function cf(n,e){return Xb.apply(this,arguments)}function Xb(){return Xb=(0,ut.Z)(function*(n,e){gd(n),nm(n)?(n.gu.hu(e),tm(n)):n.gu.set("Unknown")}),Xb.apply(this,arguments)}function cy(n,e,t){return ew.apply(this,arguments)}function ew(){return ew=(0,ut.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof lC&&2===e.state&&e.cause)try{yield(r=(0,ut.Z)(function*(u,d){const g=d.cause;for(const w of d.targetIds)u.du.has(w)&&(yield u.remoteSyncer.rejectListen(w,g),u.du.delete(w),u.yu.removeTarget(w))}),function(u,d){return r.apply(this,arguments)})(n,e)}catch(r){Vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield jp(n,r)}else if(e instanceof _p?n.yu.Gt(e):e instanceof A_?n.yu.Yt(e):n.yu.Wt(e),!t.isEqual(Rn.min()))try{const r=yield Gb(n.localStore);t.compareTo(r)>=0&&(yield function(u,d){const g=u.yu.te(d);return g.targetChanges.forEach((w,A)=>{if(w.resumeToken.approximateByteSize()>0){const F=u.du.get(A);F&&u.du.set(A,F.withResumeToken(w.resumeToken,d))}}),g.targetMismatches.forEach(w=>{const A=u.du.get(w);if(!A)return;u.du.set(w,A.withResumeToken(As.EMPTY_BYTE_STRING,A.snapshotVersion)),ly(u,w);const F=new gc(A.target,w,1,A.sequenceNumber);em(u,F)}),u.remoteSyncer.applyRemoteEvent(g)}(n,t))}catch(r){Vt("RemoteStore","Failed to raise snapshot:",r),yield jp(n,r)}var r}),ew.apply(this,arguments)}function jp(n,e,t){return im.apply(this,arguments)}function im(){return im=(0,ut.Z)(function*(n,e,t){if(!nd(e))throw e;n._u.add(1),yield ah(n),n.gu.set("Offline"),t||(t=()=>Gb(n.localStore)),n.asyncQueue.enqueueRetryable((0,ut.Z)(function*(){Vt("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield lf(n)}))}),im.apply(this,arguments)}function HC(n,e){return e().catch(t=>jp(n,t,e))}function wn(n){return dy.apply(this,arguments)}function dy(){return dy=(0,ut.Z)(function*(n){const e=en(n),t=md(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;jC(e);)try{const u=yield MC(e.localStore,r);if(null===u){0===e.fu.length&&t.Fo();break}r=u.batchId,zC(e,u)}catch(u){yield jp(e,u)}zp(e)&&tw(e)}),dy.apply(this,arguments)}function jC(n){return vc(n)&&n.fu.length<10}function zC(n,e){n.fu.push(e);const t=md(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function zp(n){return vc(n)&&!md(n).No()&&n.fu.length>0}function tw(n){md(n).start()}function rm(n){return df.apply(this,arguments)}function df(){return df=(0,ut.Z)(function*(n){md(n).eu()}),df.apply(this,arguments)}function ss(n){return nw.apply(this,arguments)}function nw(){return nw=(0,ut.Z)(function*(n){const e=md(n);for(const t of n.fu)e.Xo(t.mutations)}),nw.apply(this,arguments)}function iw(n,e,t){return hy.apply(this,arguments)}function hy(){return hy=(0,ut.Z)(function*(n,e,t){const r=n.fu.shift(),u=Sb.from(r,e,t);yield HC(n,()=>n.remoteSyncer.applySuccessfulWrite(u)),yield wn(n)}),hy.apply(this,arguments)}function $C(n,e){return sm.apply(this,arguments)}function sm(){return sm=(0,ut.Z)(function*(n,e){var t;e&&md(n).Yo&&(yield(t=(0,ut.Z)(function*(r,u){if(Pg(d=u.code)&&d!==dt.ABORTED){const g=r.fu.shift();md(r).Oo(),yield HC(r,()=>r.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield wn(r)}var d}),function(r,u){return t.apply(this,arguments)})(n,e)),zp(n)&&tw(n)}),sm.apply(this,arguments)}function fy(n,e){return om.apply(this,arguments)}function om(){return om=(0,ut.Z)(function*(n,e){const t=en(n);t.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const r=vc(t);t._u.add(3),yield ah(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield lf(t)}),om.apply(this,arguments)}function am(n,e){return py.apply(this,arguments)}function py(){return py=(0,ut.Z)(function*(n,e){const t=en(n);e?(t._u.delete(2),yield lf(t)):e||(t._u.add(2),yield ah(t),t.gu.set("Unknown"))}),py.apply(this,arguments)}function hf(n){return n.pu||(n.pu=function(e,t,r){const u=en(e);return u.su(),new NC(t,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,r)}(n.datastore,n.asyncQueue,{Yr:UC.bind(null,n),Zr:cf.bind(null,n),Wo:cy.bind(null,n)}),n.wu.push(function(){var e=(0,ut.Z)(function*(t){t?(n.pu.Oo(),nm(n)?tm(n):n.gu.set("Unknown")):(yield n.pu.stop(),gd(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function md(n){return n.Iu||(n.Iu=function(e,t,r){const u=en(e);return u.su(),new FC(t,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,r)}(n.datastore,n.asyncQueue,{Yr:rm.bind(null,n),Zr:$C.bind(null,n),tu:ss.bind(null,n),Zo:iw.bind(null,n)}),n.wu.push(function(){var e=(0,ut.Z)(function*(t){t?(n.Iu.Oo(),yield wn(n)):(yield n.Iu.stop(),n.fu.length>0&&(Vt("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class lh{constructor(e,t,r,u,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=u,this.removalCallback=d,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,t,r,u,d){const g=Date.now()+r,w=new lh(e,t,g,u,d);return w.start(r),w}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ff(n,e){if(rs("AsyncQueue",`${e}: ${n}`),nd(n))return new kt(dt.UNAVAILABLE,`${e}: ${n}`);throw n}class pf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Yt.comparator(t.key,r.key):(t,r)=>Yt.comparator(t.key,r.key),this.keyedMap=gp(),this.sortedSet=new gs(this.comparator)}static emptySet(e){return new pf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof pf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,d=r.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new pf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class rw{constructor(){this.Tu=new gs(Yt.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):dn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class bc{constructor(e,t,r,u,d,g,w,A){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=w,this.excludesMetadataChanges=A}static fromInitialDocuments(e,t,r,u){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new bc(e,t,pf.emptySet(t),d,r,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&up(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==r[u].type||!t[u].doc.isEqual(r[u].doc))return!1;return!0}}class sw{constructor(){this.Au=void 0,this.listeners=[]}}class ow{constructor(){this.queries=new pc(e=>Og(e),up),this.onlineState="Unknown",this.Ru=new Set}}function lm(n,e){return gy.apply(this,arguments)}function gy(){return gy=(0,ut.Z)(function*(n,e){const t=en(n),r=e.query;let u=!1,d=t.queries.get(r);if(d||(u=!0,d=new sw),u)try{d.Au=yield t.onListen(r)}catch(g){const w=ff(g,`Initialization of query '${cp(e.query)}' failed`);return void e.onError(w)}t.queries.set(r,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&my(t)}),gy.apply(this,arguments)}function uh(n,e){return ch.apply(this,arguments)}function ch(){return ch=(0,ut.Z)(function*(n,e){const t=en(n),r=e.query;let u=!1;const d=t.queries.get(r);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),u=0===d.listeners.length)}if(u)return t.queries.delete(r),t.onUnlisten(r)}),ch.apply(this,arguments)}function ZC(n,e){const t=en(n);let r=!1;for(const u of e){const g=t.queries.get(u.query);if(g){for(const w of g.listeners)w.Pu(u)&&(r=!0);g.Au=u}}r&&my(t)}function GC(n,e,t){const r=en(n),u=r.queries.get(e);if(u)for(const d of u.listeners)d.onError(t);r.queries.delete(e)}function my(n){n.Ru.forEach(e=>{e.next()})}class um{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const u of e.docChanges)3!==u.type&&r.push(u);e=new bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||!(this.options.Nu&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class aw{constructor(e,t){this.payload=e,this.byteLength=t}ku(){return"metadata"in this.payload}}class _y{constructor(e){this.It=e}Ji(e){return ku(this.It,e)}Yi(e){return e.metadata.exists?fb(this.It,e.document,!1):Cr.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ro(e)}}class WC{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yy(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Ci.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Fu(e){const t=new Map,r=new _y(this.It);for(const u of e)if(u.metadata.queries){const d=r.Ji(u.metadata.name);for(const g of u.metadata.queries){const w=(t.get(g)||ui()).add(d);t.set(g,w)}}return t}complete(){var e=this;return(0,ut.Z)(function*(){const t=yield function qb(n,e,t,r){return Fp.apply(this,arguments)}(e.localStore,new _y(e.It),e.documents,e.Mu.id),r=e.Fu(e.documents);for(const u of e.queries)yield qg(e.localStore,u,r.get(u.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:t}})()}}function yy(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lw{constructor(e){this.key=e}}class uw{constructor(e){this.key=e}}class qC{constructor(e,t){this.query=e,this.Lu=t,this.Uu=null,this.current=!1,this.qu=ui(),this.mutatedKeys=ui(),this.Ku=Qv(e),this.Gu=new pf(this.Ku)}get Qu(){return this.Lu}ju(e,t){const r=t?t.Wu:new rw,u=t?t.Gu:this.Gu;let d=t?t.mutatedKeys:this.mutatedKeys,g=u,w=!1;const A="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,F="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((X,pe)=>{const He=u.get(X),Xe=kg(this.query,pe)?pe:null,Je=!!He&&this.mutatedKeys.has(He.key),_t=!!Xe&&(Xe.hasLocalMutations||this.mutatedKeys.has(Xe.key)&&Xe.hasCommittedMutations);let Ft=!1;He&&Xe?He.data.isEqual(Xe.data)?Je!==_t&&(r.track({type:3,doc:Xe}),Ft=!0):this.zu(He,Xe)||(r.track({type:2,doc:Xe}),Ft=!0,(A&&this.Ku(Xe,A)>0||F&&this.Ku(Xe,F)<0)&&(w=!0)):!He&&Xe?(r.track({type:0,doc:Xe}),Ft=!0):He&&!Xe&&(r.track({type:1,doc:He}),Ft=!0,(A||F)&&(w=!0)),Ft&&(Xe?(g=g.add(Xe),d=_t?d.add(X):d.delete(X)):(g=g.delete(X),d=d.delete(X)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const X="F"===this.query.limitType?g.last():g.first();g=g.delete(X.key),d=d.delete(X.key),r.track({type:1,doc:X})}return{Gu:g,Wu:r,$i:w,mutatedKeys:d}}zu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const d=e.Wu.Eu();d.sort((F,X)=>function(pe,He){const Xe=Je=>{switch(Je){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dn()}};return Xe(pe)-Xe(He)}(F.type,X.type)||this.Ku(F.doc,X.doc)),this.Hu(r);const g=t?this.Ju():[],w=0===this.qu.size&&this.current?1:0,A=w!==this.Uu;return this.Uu=w,0!==d.length||A?{snapshot:new bc(this.query,e.Gu,u,d,e.mutatedKeys,0===w,A,!1),Yu:g}:{Yu:g}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new rw,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=ui(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const t=[];return e.forEach(r=>{this.qu.has(r)||t.push(new uw(r))}),this.qu.forEach(r=>{e.has(r)||t.push(new lw(r))}),t}Zu(e){this.Lu=e.Hi,this.qu=ui();const t=this.ju(e.documents);return this.applyChanges(t,!0)}tc(){return bc.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class BT{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class UT{constructor(e){this.key=e,this.ec=!1}}class HT{constructor(e,t,r,u,d,g){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.nc={},this.sc=new pc(w=>Og(w),up),this.ic=new Map,this.rc=new Set,this.oc=new gs(Yt.comparator),this.uc=new Map,this.cc=new Q_,this.ac={},this.hc=new Map,this.lc=pd.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function cw(n,e){return gf.apply(this,arguments)}function gf(){return gf=(0,ut.Z)(function*(n,e){const t=Ry(n);let r,u;const d=t.sc.get(e);if(d)r=d.targetId,t.sharedClientState.addLocalQueryTarget(r),u=d.view.tc();else{const g=yield oh(t.localStore,Eo(e));t.isPrimaryClient&&Hp(t.remoteStore,g);const w=t.sharedClientState.addLocalQueryTarget(g.targetId);r=g.targetId,u=yield vy(t,e,r,"current"===w)}return u}),gf.apply(this,arguments)}function vy(n,e,t,r){return by.apply(this,arguments)}function by(){return by=(0,ut.Z)(function*(n,e,t,r){n.dc=(X,pe,He)=>{return(Xe=(0,ut.Z)(function*(Je,_t,Ft,vn){let On=_t.view.ju(Ft);On.$i&&(On=yield Pp(Je.localStore,_t.query,!1).then(({documents:Zn})=>_t.view.ju(Zn,On)));const Bn=vn&&vn.targetChanges.get(_t.targetId),bn=_t.view.applyChanges(On,Je.isPrimaryClient,Bn);return Iy(Je,_t.targetId,bn.Yu),bn.snapshot}),function(Je,_t,Ft,vn){return Xe.apply(this,arguments)})(n,X,pe,He);var Xe};const u=yield Pp(n.localStore,e,!0),d=new qC(e,u.Hi),g=d.ju(u.documents),w=mp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),A=d.applyChanges(g,n.isPrimaryClient,w);Iy(n,t,A.Yu);const F=new BT(e,t,d);return n.sc.set(e,F),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),A.snapshot}),by.apply(this,arguments)}function dw(n,e){return dh.apply(this,arguments)}function dh(){return dh=(0,ut.Z)(function*(n,e){const t=en(n),r=t.sc.get(e),u=t.ic.get(r.targetId);if(u.length>1)return t.ic.set(r.targetId,u.filter(d=>!up(d,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield of(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),uf(t.remoteStore,r.targetId),mf(t,r.targetId)}).catch(Gd))):(mf(t,r.targetId),yield of(t.localStore,r.targetId,!0))}),dh.apply(this,arguments)}function wy(){return wy=(0,ut.Z)(function*(n,e,t){const r=Zp(n);try{const u=yield function(d,g){const w=en(d),A=Sr.now(),F=g.reduce((He,Xe)=>He.add(Xe.key),ui());let X,pe;return w.persistence.runTransaction("Locally write mutations","readwrite",He=>{let Xe=aa(),Je=ui();return w.Gi.getEntries(He,F).next(_t=>{Xe=_t,Xe.forEach((Ft,vn)=>{vn.isValidDocument()||(Je=Je.add(Ft))})}).next(()=>w.localDocuments.getOverlayedDocuments(He,Xe)).next(_t=>{X=_t;const Ft=[];for(const vn of g){const On=sC(vn,X.get(vn.key).overlayedDocument);null!=On&&Ft.push(new Mu(vn.key,On,Ma(On.value.mapValue),Dr.exists(!0)))}return w.mutationQueue.addMutationBatch(He,A,Ft,g)}).next(_t=>{pe=_t;const Ft=_t.applyToLocalDocumentSet(X,Je);return w.documentOverlayCache.saveOverlays(He,_t.batchId,Ft)})}).then(()=>({batchId:pe.batchId,changes:ab(X)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(u.batchId),function(d,g,w){let A=d.ac[d.currentUser.toKey()];A||(A=new gs(Kn)),A=A.insert(g,w),d.ac[d.currentUser.toKey()]=A}(r,u.batchId,t),yield wc(r,u.changes),yield wn(r.remoteStore)}catch(u){const d=ff(u,"Failed to persist write");t.reject(d)}}),wy.apply(this,arguments)}function hw(n,e){return Cy.apply(this,arguments)}function Cy(){return Cy=(0,ut.Z)(function*(n,e){const t=en(n);try{const r=yield ty(t.localStore,e);e.targetChanges.forEach((u,d)=>{const g=t.uc.get(d);g&&(Fn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.ec=!0:u.modifiedDocuments.size>0?Fn(g.ec):u.removedDocuments.size>0&&(Fn(g.ec),g.ec=!1))}),yield wc(t,r,e)}catch(r){yield Gd(r)}}),Cy.apply(this,arguments)}function fw(n,e,t){const r=en(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const u=[];r.sc.forEach((d,g)=>{const w=g.view.bu(e);w.snapshot&&u.push(w.snapshot)}),function(d,g){const w=en(d);w.onlineState=g;let A=!1;w.queries.forEach((F,X)=>{for(const pe of X.listeners)pe.bu(g)&&(A=!0)}),A&&my(w)}(r.eventManager,e),u.length&&r.nc.Wo(u),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function pw(n,e,t){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,ut.Z)(function*(n,e,t){const r=en(n);r.sharedClientState.updateQueryState(e,"rejected",t);const u=r.uc.get(e),d=u&&u.key;if(d){let g=new gs(Yt.comparator);g=g.insert(d,Cr.newNoDocument(d,Rn.min()));const w=ui().add(d),A=new Qd(Rn.min(),new Map,new fr(Kn),g,w);yield hw(r,A),r.oc=r.oc.remove(d),r.uc.delete(e),pm(r)}else yield of(r.localStore,e,!1).then(()=>mf(r,e,t)).catch(Gd)}),Ey.apply(this,arguments)}function YC(n,e){return _d.apply(this,arguments)}function _d(){return _d=(0,ut.Z)(function*(n,e){const t=en(n),r=e.batch.batchId;try{const u=yield AC(t.localStore,e);hm(t,r,null),Ty(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wc(t,u)}catch(u){yield Gd(u)}}),_d.apply(this,arguments)}function QC(n,e,t){return cm.apply(this,arguments)}function cm(){return cm=(0,ut.Z)(function*(n,e,t){const r=en(n);try{const u=yield function(d,g){const w=en(d);return w.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let F;return w.mutationQueue.lookupMutationBatch(A,g).next(X=>(Fn(null!==X),F=X.keys(),w.mutationQueue.removeMutationBatch(A,X))).next(()=>w.mutationQueue.performConsistencyCheck(A)).next(()=>w.documentOverlayCache.removeOverlaysForBatchId(A,F,g)).next(()=>w.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,F)).next(()=>w.localDocuments.getDocuments(A,F))})}(r.localStore,e);hm(r,e,t),Ty(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wc(r,u)}catch(u){yield Gd(u)}}),cm.apply(this,arguments)}function dm(){return dm=(0,ut.Z)(function*(n,e){const t=en(n);vc(t.remoteStore)||Vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(d){const g=en(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",w=>g.mutationQueue.getHighestUnacknowledgedBatchId(w))}(t.localStore);if(-1===r)return void e.resolve();const u=t.hc.get(r)||[];u.push(e),t.hc.set(r,u)}catch(r){const u=ff(r,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),dm.apply(this,arguments)}function Ty(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function hm(n,e,t){const r=en(n);let u=r.ac[r.currentUser.toKey()];if(u){const d=u.get(e);d&&(t?d.reject(t):d.resolve(),u=u.remove(e)),r.ac[r.currentUser.toKey()]=u}}function mf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc._c(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.ls(e).forEach(r=>{n.cc.containsKey(r)||fm(n,r)})}function fm(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(uf(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),pm(n))}function Iy(n,e,t){for(const r of t)r instanceof lw?(n.cc.addReference(r.key,e),gw(n,r)):r instanceof uw?(Vt("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||fm(n,r.key)):dn()}function gw(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Vt("SyncEngine","New document in limbo: "+t),n.rc.add(r),pm(n))}function pm(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Yt(Ci.fromString(e)),r=n.lc.next();n.uc.set(r,new UT(t)),n.oc=n.oc.insert(t,r),Hp(n.remoteStore,new gc(Eo(jh(t.path)),r,2,Ja.at))}}function wc(n,e,t){return Sy.apply(this,arguments)}function Sy(){return Sy=(0,ut.Z)(function*(n,e,t){const r=en(n),u=[],d=[],g=[];var w;r.sc.isEmpty()||(r.sc.forEach((w,A)=>{g.push(r.dc(A,e,t).then(F=>{if(F){r.isPrimaryClient&&r.sharedClientState.updateQueryState(A.targetId,F.fromCache?"not-current":"current"),u.push(F);const X=nl.Ci(A.targetId,F);d.push(X)}}))}),yield Promise.all(g),r.nc.Wo(u),yield(w=(0,ut.Z)(function*(A,F){const X=en(A);try{yield X.persistence.runTransaction("notifyLocalViewChanges","readwrite",pe=>at.forEach(F,He=>at.forEach(He.Si,Xe=>X.persistence.referenceDelegate.addReference(pe,He.targetId,Xe)).next(()=>at.forEach(He.Di,Xe=>X.persistence.referenceDelegate.removeReference(pe,He.targetId,Xe)))))}catch(pe){if(!nd(pe))throw pe;Vt("LocalStore","Failed to update sequence numbers: "+pe)}for(const pe of F){const He=pe.targetId;if(!pe.fromCache){const Xe=X.Ui.get(He),_t=Xe.withLastLimboFreeSnapshotVersion(Xe.snapshotVersion);X.Ui=X.Ui.insert(He,_t)}}}),function(A,F){return w.apply(this,arguments)})(r.localStore,d))}),Sy.apply(this,arguments)}function XC(n,e){return $p.apply(this,arguments)}function $p(){return $p=(0,ut.Z)(function*(n,e){const t=en(n);if(!t.currentUser.isEqual(e)){Vt("SyncEngine","User change. New user:",e.toKey());const r=yield Zb(t.localStore,e);t.currentUser=e,(u=t).hc.forEach(g=>{g.forEach(w=>{w.reject(new kt(dt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wc(t,r.ji)}var u}),$p.apply(this,arguments)}function eE(n,e){const t=en(n),r=t.uc.get(e);if(r&&r.ec)return ui().add(r.key);{let u=ui();const d=t.ic.get(e);if(!d)return u;for(const g of d){const w=t.sc.get(g);u=u.unionWith(w.view.Qu)}return u}}function mw(n,e){return Dy.apply(this,arguments)}function Dy(){return Dy=(0,ut.Z)(function*(n,e){const t=en(n),r=yield Pp(t.localStore,e.query,!0),u=e.view.Zu(r);return t.isPrimaryClient&&Iy(t,e.targetId,u.Yu),u}),Dy.apply(this,arguments)}function tE(n,e){return xy.apply(this,arguments)}function xy(){return xy=(0,ut.Z)(function*(n,e){const t=en(n);return Wb(t.localStore,e).then(r=>wc(t,r))}),xy.apply(this,arguments)}function nE(n,e,t,r){return Ay.apply(this,arguments)}function Ay(){return Ay=(0,ut.Z)(function*(n,e,t,r){const u=en(n),d=yield function(g,w){const A=en(g),F=en(A.mutationQueue);return A.persistence.runTransaction("Lookup mutation documents","readonly",X=>F.Tn(X,w).next(pe=>pe?A.localDocuments.getDocuments(X,pe):at.resolve(null)))}(u.localStore,e);var w;null!==d?("pending"===t?yield wn(u.remoteStore):"acknowledged"===t||"rejected"===t?(hm(u,e,r||null),Ty(u,e),w=e,en(en(u.localStore).mutationQueue).An(w)):dn(),yield wc(u,d)):Vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Ay.apply(this,arguments)}function My(){return My=(0,ut.Z)(function*(n,e){const t=en(n);if(Ry(t),Zp(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),u=yield _w(t,r.toArray());t.fc=!0,yield am(t.remoteStore,!0);for(const d of u)Hp(t.remoteStore,d)}else if(!1===e&&!1!==t.fc){const r=[];let u=Promise.resolve();t.ic.forEach((d,g)=>{t.sharedClientState.isLocalQueryTarget(g)?r.push(g):u=u.then(()=>(mf(t,g),of(t.localStore,g,!0))),uf(t.remoteStore,g)}),yield u,yield _w(t,r),function(d){const g=en(d);g.uc.forEach((w,A)=>{uf(g.remoteStore,A)}),g.cc.fs(),g.uc=new Map,g.oc=new gs(Yt.comparator)}(t),t.fc=!1,yield am(t.remoteStore,!1)}}),My.apply(this,arguments)}function _w(n,e,t){return gm.apply(this,arguments)}function gm(){return gm=(0,ut.Z)(function*(n,e,t){const r=en(n),u=[],d=[];for(const g of e){let w;const A=r.ic.get(g);if(A&&0!==A.length){w=yield oh(r.localStore,Eo(A[0]));for(const F of A){const X=r.sc.get(F),pe=yield mw(r,X);pe.snapshot&&d.push(pe.snapshot)}}else{const F=yield Np(r.localStore,g);w=yield oh(r.localStore,F),yield vy(r,Oy(F),g,!1)}u.push(w)}return r.nc.Wo(d),u}),gm.apply(this,arguments)}function Oy(n){return g_(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function rE(n){const e=en(n);return en(en(e.localStore).persistence).vi()}function sE(n,e,t,r){return mm.apply(this,arguments)}function mm(){return mm=(0,ut.Z)(function*(n,e,t,r){const u=en(n);if(u.fc)return void Vt("SyncEngine","Ignoring unexpected query state notification.");const d=u.ic.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const g=yield Wb(u.localStore,Yv(d[0])),w=Qd.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield wc(u,g,w);break}case"rejected":yield of(u.localStore,e,!0),mf(u,e,r);break;default:dn()}}),mm.apply(this,arguments)}function oE(n,e,t){return ky.apply(this,arguments)}function ky(){return ky=(0,ut.Z)(function*(n,e,t){const r=Ry(n);if(r.fc){for(const u of e){if(r.ic.has(u)){Vt("SyncEngine","Adding an already active target "+u);continue}const d=yield Np(r.localStore,u),g=yield oh(r.localStore,d);yield vy(r,Oy(d),g.targetId,!1),Hp(r.remoteStore,g)}for(const u of t)r.ic.has(u)&&(yield of(r.localStore,u,!1).then(()=>{uf(r.remoteStore,u),mf(r,u)}).catch(Gd))}}),ky.apply(this,arguments)}function Ry(n){const e=en(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eE.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pw.bind(null,e),e.nc.Wo=ZC.bind(null,e.eventManager),e.nc._c=GC.bind(null,e.eventManager),e}function Zp(n){const e=en(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QC.bind(null,e),e}class Ny{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ut.Z)(function*(){t.It=Up(e.databaseInfo.databaseId),t.sharedClientState=t.mc(e),t.persistence=t.gc(e),yield t.persistence.start(),t.localStore=t.yc(e),t.gcScheduler=t.Ic(e,t.localStore),t.indexBackfillerScheduler=t.Tc(e,t.localStore)})()}Ic(e,t){return null}Tc(e,t){return null}yc(e){return X_(this.persistence,new Ol,e.initialUser,this.It)}gc(e){return new J_(Mp.Bs,this.It)}mc(e){return new Kb}terminate(){var e=this;return(0,ut.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _m extends Ny{constructor(e,t,r){super(),this.Ec=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ut.Z)(function*(){yield t().call(r,e),yield r.Ec.initialize(r,e),yield Zp(r.Ec.syncEngine),yield wn(r.Ec.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return X_(this.persistence,new Ol,e.initialUser,this.It)}Ic(e,t){return new Pb(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Tc(e,t){const r=new OT(t,this.persistence);return new s_(e.asyncQueue,r)}gc(e){const t=Ml(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?la.withCacheSize(this.cacheSizeBytes):la.DEFAULT;return new Al(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Qb(),Qg(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Kb}}class aE extends _m{constructor(e,t){super(e,t,!1),this.Ec=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ut.Z)(function*(){yield t().call(r,e);const u=r.Ec.syncEngine;r.sharedClientState instanceof oy&&(r.sharedClientState.syncEngine={Fr:nE.bind(null,u),$r:sE.bind(null,u),Br:oE.bind(null,u),vi:rE.bind(null,u),Or:tE.bind(null,u)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var d=(0,ut.Z)(function*(g){yield function iE(n,e){return My.apply(this,arguments)}(r.Ec.syncEngine,g),r.gcScheduler&&(g&&!r.gcScheduler.started?r.gcScheduler.start():g||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(g&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():g||r.indexBackfillerScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}mc(e){const t=Qb();if(!oy.C(t))throw new kt(dt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Ml(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new oy(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Fy{initialize(e,t){var r=this;return(0,ut.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=u=>fw(r.syncEngine,u,1),r.remoteStore.remoteSyncer.handleCredentialChange=XC.bind(null,r.syncEngine),yield am(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ow}createDatastore(e){const t=Up(e.databaseInfo.databaseId),r=new PC(e.databaseInfo);return new LC(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,u=e.asyncQueue,d=w=>fw(this.syncEngine,w,0),g=Yb.C()?new Yb:new OC,new BC(t,r,u,d,g);var t,r,u,d,g}createSyncEngine(e,t){return function(r,u,d,g,w,A,F){const X=new HT(r,u,d,g,w,A);return F&&(X.fc=!0),X}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ut.Z)(function*(t){const r=en(t);Vt("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield ah(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function ym(n,e=10240){let t=0;return{read:()=>(0,ut.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ut.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class vm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):rs("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yw{constructor(e,t){this.bc=e,this.It=t,this.metadata=new zs,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(r=>{r&&r.ku()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,ut.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,ut.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,ut.Z)(function*(){const t=yield e.Vc();if(null===t)return null;const r=e.Pc.decode(t),u=Number(r);isNaN(u)&&e.Sc(`length string (${r}) is not valid number`);const d=yield e.Dc(u);return new aw(JSON.parse(d),t.length+u)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,ut.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const t=e.Cc();t<0&&e.Sc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Dc(e){var t=this;return(0,ut.Z)(function*(){for(;t.buffer.length<e;)(yield t.xc())&&t.Sc("Reached the end of bundle when more is expected.");const r=t.Pc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,ut.Z)(function*(){const t=yield e.bc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class lE{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ut.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new kt(dt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(u=(0,ut.Z)(function*(d,g){const w=en(d),A=bp(w.It)+"/documents",F={documents:g.map(Xe=>vp(w.It,Xe))},X=yield w.fo("BatchGetDocuments",A,F,g.length),pe=new Map;X.forEach(Xe=>{const Je=function Cp(n,e){return"found"in e?function(t,r){Fn(!!r.found);const u=ku(t,r.found.name),d=ro(r.found.updateTime),g=new wo({mapValue:{fields:r.found.fields}});return Cr.newFoundDocument(u,d,g)}(n,e):"missing"in e?function(t,r){Fn(!!r.missing),Fn(!!r.readTime);const u=ku(t,r.missing),d=ro(r.readTime);return Cr.newNoDocument(u,d)}(n,e):dn()}(w.It,Xe);pe.set(Je.key.toString(),Je)});const He=[];return g.forEach(Xe=>{const Je=pe.get(Xe.toString());Fn(!!Je),He.push(Je)}),He}),function(d,g){return u.apply(this,arguments)})(t.datastore,e);var u;return r.forEach(u=>t.recordVersion(u)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Zh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ut.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,u)=>{const d=Yt.fromPath(u);e.mutations.push(new I_(d,e.precondition(d)))}),yield(r=(0,ut.Z)(function*(u,d){const g=en(u),w=bp(g.It)+"/documents",A={writes:d.map(F=>Ep(g.It,F))};yield g.co("Commit",w,A)}),function(u,d){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dn();t=Rn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new kt(dt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Rn.min())?Dr.exists(!1):Dr.updateTime(t):Dr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Rn.min()))throw new kt(dt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dr.updateTime(t)}return Dr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vw{constructor(e,t,r,u,d){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=u,this.deferred=d,this.Nc=r.maxAttempts,this.xo=new ay(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,ut.Z)(function*(){const t=new lE(e.datastore),r=e.Mc(t);r&&r.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Oc(d)}))}).catch(u=>{e.Oc(u)})}))}Mc(e){try{const t=this.updateFunction(e);return!Vh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Pg(t)}return!1}}class uE{constructor(e,t,r,u){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=u,this.user=is.UNAUTHENTICATED,this.clientId=Pv.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var g=(0,ut.Z)(function*(w){Vt("FirestoreClient","Received user=",w.uid),yield d.authCredentialListener(w),d.user=w});return function(w){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(r,g=>(Vt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,ut.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new kt(dt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const u=ff(r,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function Ly(n,e){return bw.apply(this,arguments)}function bw(){return bw=(0,ut.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var u=(0,ut.Z)(function*(d){r.isEqual(d)||(yield Zb(e.localStore,d),r=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),bw.apply(this,arguments)}function ww(n,e){return hh.apply(this,arguments)}function hh(){return hh=(0,ut.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Vy(n);Vt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(u=>fy(e.remoteStore,u)),n.setAppCheckTokenChangeListener((u,d)=>fy(e.remoteStore,d)),n.onlineComponents=e}),hh.apply(this,arguments)}function Vy(n){return yd.apply(this,arguments)}function yd(){return yd=(0,ut.Z)(function*(n){return n.offlineComponents||(Vt("FirestoreClient","Using default OfflineComponentProvider"),yield Ly(n,new Ny)),n.offlineComponents}),yd.apply(this,arguments)}function vd(n){return By.apply(this,arguments)}function By(){return By=(0,ut.Z)(function*(n){return n.onlineComponents||(Vt("FirestoreClient","Using default OnlineComponentProvider"),yield ww(n,new Fy)),n.onlineComponents}),By.apply(this,arguments)}function cE(n){return Vy(n).then(e=>e.persistence)}function Gp(n){return Vy(n).then(e=>e.localStore)}function Cw(n){return vd(n).then(e=>e.remoteStore)}function Uy(n){return vd(n).then(e=>e.syncEngine)}function _f(n){return Hy.apply(this,arguments)}function Hy(){return Hy=(0,ut.Z)(function*(n){const e=yield vd(n),t=e.eventManager;return t.onListen=cw.bind(null,e.syncEngine),t.onUnlisten=dw.bind(null,e.syncEngine),t}),Hy.apply(this,arguments)}function Wp(n,e,t={}){const r=new zs;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(u,d,g,w,A){const F=new vm({next:pe=>{d.enqueueAndForget(()=>uh(u,X));const He=pe.docs.has(g);!He&&pe.fromCache?A.reject(new kt(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):He&&pe.fromCache&&w&&"server"===w.source?A.reject(new kt(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(pe)},error:pe=>A.reject(pe)}),X=new um(jh(g.path),F,{includeMetadataChanges:!0,Nu:!0});return lm(u,X)}(yield _f(n),n.asyncQueue,e,t,r)})),r.promise}function Iw(n,e,t={}){const r=new zs;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(u,d,g,w,A){const F=new vm({next:pe=>{d.enqueueAndForget(()=>uh(u,X)),pe.fromCache&&"server"===w.source?A.reject(new kt(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(pe)},error:pe=>A.reject(pe)}),X=new um(g,F,{includeMetadataChanges:!0,Nu:!0});return lm(u,X)}(yield _f(n),n.asyncQueue,e,t,r)})),r.promise}const xw=new Map;function Kp(n,e,t){if(!t)throw new kt(dt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Aw(n,e,t,r){if(!0===e&&!0===r)throw new kt(dt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function fE(n){if(!Yt.isDocumentKey(n))throw new kt(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Mw(n){if(Yt.isDocumentKey(n))throw new kt(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function bm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dn()}function fi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new kt(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bm(n);throw new kt(dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zy(n,e){if(e<=0)throw new kt(dt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class fh{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new kt(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kt(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Aw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wm{constructor(e,t,r,u){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new kt(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new kt(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fh(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new U0;switch(t.type){case"gapi":return new j0(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new kt(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=xw.get(e);t&&(Vt("ComponentProvider","Removing Datastore"),xw.delete(e),t.terminate())}(this),Promise.resolve()}}class xr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xr(this.firestore,e,this._key)}}class ua{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class ru extends ua{constructor(e,t,r){super(e,t,jh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xr(this.firestore,null,new Yt(e))}withConverter(e){return new ru(this.firestore,e,this._path)}}function pE(n,e,...t){if(n=(0,ai.m9)(n),Kp("collection","path",e),n instanceof wm){const r=Ci.fromString(e,...t);return Mw(r),new ru(n,null,r)}{if(!(n instanceof xr||n instanceof ru))throw new kt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ci.fromString(e,...t));return Mw(r),new ru(n.firestore,null,r)}}function yf(n,e,...t){if(n=(0,ai.m9)(n),1===arguments.length&&(e=Pv.R()),Kp("doc","path",e),n instanceof wm){const r=Ci.fromString(e,...t);return fE(r),new xr(n,null,new Yt(r))}{if(!(n instanceof xr||n instanceof ru))throw new kt(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ci.fromString(e,...t));return fE(r),new xr(n.firestore,n instanceof ru?n.converter:null,new Yt(r))}}function $y(n,e){return n=(0,ai.m9)(n),e=(0,ai.m9)(e),(n instanceof xr||n instanceof ru)&&(e instanceof xr||e instanceof ru)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Zy(n,e){return n=(0,ai.m9)(n),e=(0,ai.m9)(e),n instanceof ua&&e instanceof ua&&n.firestore===e.firestore&&up(n._query,e._query)&&n.converter===e.converter}class Rw{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new ay(this,"async_queue_retry"),this.jc=()=>{const t=Qg();t&&Vt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.bo()};const e=Qg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const t=Qg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const t=new zs;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,ut.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(t){if(!nd(t))throw t;Vt("AsyncQueue","Operation failed with retryable error: "+t)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const t=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{throw this.qc=r,this.Kc=!1,rs("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(r)),r}).then(r=>(this.Kc=!1,r))));return this.$c=t,t}enqueueAfterDelay(e,t,r){this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);const u=lh.createAndSchedule(this,e,t,r,d=>this.Jc(d));return this.Uc.push(u),u}Wc(){this.qc&&dn()}verifyOperationInProgress(){}Yc(){var e=this;return(0,ut.Z)(function*(){let t;do{t=e.$c,yield t}while(t!==e.$c)})()}Xc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function Cm(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const u of["next","error","complete"])if(u in r&&"function"==typeof r[u])return!0;return!1}(n)}class Pw{constructor(){this._progressObserver={},this._taskCompletionResolver=new zs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ar extends wm{constructor(e,t,r,u){super(e,t,r,u),this.type="firestore",this._queue=new Rw,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vf(this),this._firestoreClient.terminate()}}function ms(n){return n._firestoreClient||vf(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function vf(n){var e;const t=n._freezeSettings(),r=(d=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new u_(n._databaseId,d,n._persistenceKey,(w=t).host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,w.useFetchStreams));var d,w;n._firestoreClient=new uE(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Gy(n,e,t){const r=new zs;return n.asyncQueue.enqueue((0,ut.Z)(function*(){try{yield Ly(n,t),yield ww(n,e),r.resolve()}catch(u){const d=u;if(!("FirebaseError"===(g=d).name?g.code===dt.FAILED_PRECONDITION||g.code===dt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw d;Zd("Error enabling offline persistence. Falling back to persistence disabled: "+d),r.reject(d)}var g})).then(()=>r.promise)}function jw(n){if(n._initialized||n._terminated)throw new kt(dt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new kt(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nu(As.fromBase64String(e))}catch(t){throw new kt(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nu(As.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ec{constructor(e){this._methodName=e}}class il{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new kt(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kt(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}}const vE=/^__.*__$/;class Wy{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Mu(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}class bf{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Mu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dn()}}class Tm{constructor(e,t,r,u,d,g){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=u,void 0===d&&this.ea(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.sa({path:r,ra:!1});return u.oa(e),u}ua(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.sa({path:r,ra:!1});return u.ea(),u}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return xm(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(zw(this.na)&&vE.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class bE{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Up(e)}fa(e,t,r,u=!1){return new Tm({na:e,methodName:t,la:r,path:Zr.emptyPath(),ra:!1,ha:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Fu(n){const e=n._freezeSettings(),t=Up(n._databaseId);return new bE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ph(n,e,t,r,u,d={}){const g=n.fa(d.merge||d.mergeFields?2:0,e,t,u);Qp("Data must be an object, but it was:",g,r);const w=Sm(r,g);let A,F;if(d.merge)A=new ra(g.fieldMask),F=g.fieldTransforms;else if(d.mergeFields){const X=[];for(const pe of d.mergeFields){const He=Jp(e,pe,t);if(!g.contains(He))throw new kt(dt.INVALID_ARGUMENT,`Field '${He}' is specified in your field mask but missing from your input data.`);Ww(X,He)||X.push(He)}A=new ra(X),F=g.fieldTransforms.filter(pe=>A.covers(pe.field))}else A=null,F=g.fieldTransforms;return new Wy(new wo(w),A,F)}class Yp extends Ec{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yp}}function $w(n,e,t){return new Tm({na:3,la:e.settings.la,methodName:n._methodName,ra:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Im extends Ec{_toFieldTransform(e){return new fc(e.path,new Oa)}isEqual(e){return e instanceof Im}}class Zw extends Ec{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=$w(this,e,!0),r=this.da.map(d=>Tc(d,t)),u=new Au(r);return new fc(e.path,u)}isEqual(e){return this===e}}class qy extends Ec{constructor(e,t){super(e),this.da=t}_toFieldTransform(e){const t=$w(this,e,!0),r=this.da.map(d=>Tc(d,t)),u=new Kd(r);return new fc(e.path,u)}isEqual(e){return this===e}}class Gw extends Ec{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=new ad(e.It,v_(e.It,this._a));return new fc(e.path,t)}isEqual(e){return this===e}}function Ky(n,e,t,r){const u=n.fa(1,e,t);Qp("Data must be an object, but it was:",u,r);const d=[],g=wo.empty();Lh(r,(A,F)=>{const X=Dm(e,A,t);F=(0,ai.m9)(F);const pe=u.ua(X);if(F instanceof Yp)d.push(X);else{const He=Tc(F,pe);null!=He&&(d.push(X),g.set(X,He))}});const w=new ra(d);return new bf(g,w,u.fieldTransforms)}function Yy(n,e,t,r,u,d){const g=n.fa(1,e,t),w=[Jp(e,r,t)],A=[u];if(d.length%2!=0)throw new kt(dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let He=0;He<d.length;He+=2)w.push(Jp(e,d[He])),A.push(d[He+1]);const F=[],X=wo.empty();for(let He=w.length-1;He>=0;--He)if(!Ww(F,w[He])){const Xe=w[He];let Je=A[He];Je=(0,ai.m9)(Je);const _t=g.ua(Xe);if(Je instanceof Yp)F.push(Xe);else{const Ft=Tc(Je,_t);null!=Ft&&(F.push(Xe),X.set(Xe,Ft))}}const pe=new ra(F);return new bf(X,pe,g.fieldTransforms)}function wE(n,e,t,r=!1){return Tc(t,n.fa(r?4:3,e))}function Tc(n,e){if(Qy(n=(0,ai.m9)(n)))return Qp("Unsupported field value:",e,n),Sm(n,e);if(n instanceof Ec)return function(t,r){if(!zw(r.na))throw r.aa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(r);u&&r.fieldTransforms.push(u)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(t,r){const u=[];let d=0;for(const g of t){let w=Tc(g,r.ca(d));null==w&&(w={nullValue:"NULL_VALUE"}),u.push(w),d++}return{arrayValue:{values:u}}}(n,e)}return function(t,r){if(null===(t=(0,ai.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return v_(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Sr.fromDate(t);return{timestampValue:Fg(r.It,u)}}if(t instanceof Sr){const u=new Sr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Fg(r.It,u)}}if(t instanceof il)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nu)return{bytesValue:O_(r.It,t._byteString)};if(t instanceof xr){const u=r.databaseId,d=t.firestore._databaseId;if(!d.isEqual(u))throw r.aa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yp(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.aa(`Unsupported field value: ${bm(t)}`)}(n,e)}function Sm(n,e){const t={};return G0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lh(n,(r,u)=>{const d=Tc(u,e.ia(r));null!=d&&(t[r]=d)}),{mapValue:{fields:t}}}function Qy(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Sr||n instanceof il||n instanceof Nu||n instanceof xr||n instanceof Ec)}function Qp(n,e,t){if(!Qy(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=bm(t);throw e.aa("an object"===r?n+" a custom object":n+" "+r)}var r}function Jp(n,e,t){if((e=(0,ai.m9)(e))instanceof Cc)return e._internalPath;if("string"==typeof e)return Dm(n,e);throw xm("Field path arguments must be of type string or ",n,!1,void 0,t)}const CE=new RegExp("[~\\*/\\[\\]]");function Dm(n,e,t){if(e.search(CE)>=0)throw xm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cc(...e.split("."))._internalPath}catch(r){throw xm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xm(n,e,t,r,u){const d=r&&!r.isEmpty(),g=void 0!==u;let w=`Function ${e}() called with invalid data`;t&&(w+=" (via `toFirestore()`)"),w+=". ";let A="";return(d||g)&&(A+=" (found",d&&(A+=` in field ${r}`),g&&(A+=` in document ${u}`),A+=")"),new kt(dt.INVALID_ARGUMENT,w+n+A)}function Ww(n,e){return n.some(t=>t.isEqual(e))}class wf{constructor(e,t,r,u,d){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new xr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jy extends wf{data(){return super.data()}}function Xp(n,e){return"string"==typeof e?Dm(n,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}class bd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lu extends wf{constructor(e,t,r,u,d,g){super(e,t,r,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Xp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Cf extends Lu{data(e={}){return super.data(e)}}class wd{constructor(e,t,r,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new bd(u.hasPendingWrites,u.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Cf(this._firestore,this._userDataWriter,r.key,r,new bd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kt(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,u){if(r._snapshot.oldDocs.isEmpty()){let d=0;return r._snapshot.docChanges.map(g=>({type:"added",doc:new Cf(r._firestore,r._userDataWriter,g.doc.key,g.doc,new bd(r._snapshot.mutatedKeys.has(g.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:d++}))}{let d=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const w=new Cf(r._firestore,r._userDataWriter,g.doc.key,g.doc,new bd(r._snapshot.mutatedKeys.has(g.doc.key),r._snapshot.fromCache),r.query.converter);let A=-1,F=-1;return 0!==g.type&&(A=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),F=d.indexOf(g.doc.key)),{type:qw(g.type),doc:w,oldIndex:A,newIndex:F}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qw(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dn()}}function Xy(n,e){return n instanceof Lu&&e instanceof Lu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof wd&&e instanceof wd&&n._firestore===e._firestore&&Zy(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Kw(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new kt(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ef{}function Ic(n,...e){for(const t of e)n=t._apply(n);return n}class ca extends Ef{constructor(e,t,r){super(),this.wa=e,this.ma=t,this.ga=r,this.type="where"}_apply(e){const t=Fu(e.firestore),r=function(u,d,g,w,A,F,X){let pe;if(A.isKeyField()){if("array-contains"===F||"array-contains-any"===F)throw new kt(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${F}' queries on documentId().`);if("in"===F||"not-in"===F){tg(X,F);const Xe=[];for(const Je of X)Xe.push(nv(w,u,Je));pe={arrayValue:{values:Xe}}}else pe=nv(w,u,X)}else"in"!==F&&"not-in"!==F&&"array-contains-any"!==F||tg(X,F),pe=wE(g,"where",X,"in"===F||"not-in"===F);const He=Co.create(A,F,pe);return function(Xe,Je){if(Je.dt()){const Ft=lp(Xe);if(null!==Ft&&!Ft.isEqual(Je.field))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Ft.toString()}' and '${Je.field.toString()}'`);const vn=m_(Xe);null!==vn&&Mm(0,Je.field,vn)}const _t=function(Ft,vn){for(const On of Ft.filters)if(vn.indexOf(On.op)>=0)return On.op;return null}(Xe,function(Ft){switch(Ft){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Je.op));if(null!==_t)throw new kt(dt.INVALID_ARGUMENT,_t===Je.op?`Invalid query. You cannot use more than one '${Je.op.toString()}' filter.`:`Invalid query. You cannot use '${Je.op.toString()}' filters with '${_t.toString()}' filters.`)}(u,He),He}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new ua(e.firestore,e.converter,function(u,d){const g=u.filters.concat([d]);return new od(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}class EE extends Ef{constructor(e,t){super(),this.wa=e,this.ya=t,this.type="orderBy"}_apply(e){const t=function(r,u,d){if(null!==r.startAt)throw new kt(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new kt(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new oa(u,d);return function(w,A){if(null===m_(w)){const F=lp(w);null!==F&&Mm(0,F,A.field)}}(r,g),g}(e._query,this.wa,this.ya);return new ua(e.firestore,e.converter,function(r,u){const d=r.explicitOrderBy.concat([u]);return new od(r.path,r.collectionGroup,d,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class IE extends Ef{constructor(e,t,r){super(),this.type=e,this.pa=t,this.Ia=r}_apply(e){return new ua(e.firestore,e.converter,$h(e._query,this.pa,this.Ia))}}class Am extends Ef{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=tv(e,this.type,this.Ta,this.Ea);return new ua(e.firestore,e.converter,(u=t,new od((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,u,r.endAt)));var r,u}}class Qw extends Ef{constructor(e,t,r){super(),this.type=e,this.Ta=t,this.Ea=r}_apply(e){const t=tv(e,this.type,this.Ta,this.Ea);return new ua(e.firestore,e.converter,(u=t,new od((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,u)));var r,u}}function tv(n,e,t,r){if(t[0]=(0,ai.m9)(t[0]),t[0]instanceof wf)return function(u,d,g,w,A){if(!w)throw new kt(dt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const F=[];for(const X of zh(u))if(X.field.isKeyField())F.push(hc(d,w.key));else{const pe=w.data.field(X.field);if(xu(pe))throw new kt(dt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+X.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===pe){const He=X.field.canonicalString();throw new kt(dt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${He}' (used as the orderBy) does not exist.`)}F.push(pe)}return new sd(F,A)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const u=Fu(n.firestore);return function(d,g,w,A,F,X){const pe=d.explicitOrderBy;if(F.length>pe.length)throw new kt(dt.INVALID_ARGUMENT,`Too many arguments provided to ${A}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const He=[];for(let Xe=0;Xe<F.length;Xe++){const Je=F[Xe];if(pe[Xe].field.isKeyField()){if("string"!=typeof Je)throw new kt(dt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${A}(), but got a ${typeof Je}`);if(!__(d)&&-1!==Je.indexOf("/"))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${A}() must be a plain document ID, but '${Je}' contains a slash.`);const _t=d.path.child(Ci.fromString(Je));if(!Yt.isDocumentKey(_t))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${A}() must result in a valid document path, but '${_t}' is not because it contains an odd number of segments.`);const Ft=new Yt(_t);He.push(hc(g,Ft))}else{const _t=wE(w,A,Je);He.push(_t)}}return new sd(He,X)}(n._query,n.firestore._databaseId,u,e,t,r)}}function nv(n,e,t){if("string"==typeof(t=(0,ai.m9)(t))){if(""===t)throw new kt(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__(e)&&-1!==t.indexOf("/"))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Ci.fromString(t));if(!Yt.isDocumentKey(r))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hc(n,new Yt(r))}if(t instanceof xr)return hc(n,t._key);throw new kt(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bm(t)}.`)}function tg(n,e){if(!Array.isArray(n)||0===n.length)throw new kt(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new kt(dt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Mm(n,e,t){if(!t.isEqual(e))throw new kt(dt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const zT={maxAttempts:5};class Om{convertValue(e,t="none"){switch(cc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dn()}}convertObject(e,t){const r={};return Lh(e.fields,(u,d)=>{r[u]=this.convertValue(d,t)}),r}convertGeoPoint(e){return new il(Vr(e.latitude),Vr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=l_(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ip(e));default:return null}}convertTimestamp(e){const t=lc(e);return new Sr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ci.fromString(e);Fn(Xd(r));const u=new rd(r.get(1),r.get(3)),d=new Yt(r.popFirst(5));return u.isEqual(t)||rs(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function km(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Jw extends Om{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xr(this.firestore,null,t)}}class ng{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Fu(e)}set(e,t,r){this._verifyNotCommitted();const u=Sc(e,this._firestore),d=km(u.converter,t,r),g=ph(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,r);return this._mutations.push(g.toMutation(u._key,Dr.none())),this}update(e,t,r,...u){this._verifyNotCommitted();const d=Sc(e,this._firestore);let g;return g="string"==typeof(t=(0,ai.m9)(t))||t instanceof Cc?Yy(this._dataReader,"WriteBatch.update",d._key,t,r,u):Ky(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(g.toMutation(d._key,Dr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sc(e,this._firestore);return this._mutations=this._mutations.concat(new Zh(t._key,Dr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kt(dt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sc(n,e){if((n=(0,ai.m9)(n)).firestore!==e)throw new kt(dt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Dc extends Om{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xr(this.firestore,null,t)}}function rv(n,e,t){n=fi(n,xr);const r=fi(n.firestore,Ar),u=km(n.converter,e,t);return gh(r,[ph(Fu(r),"setDoc",n._key,u,null!==n.converter,t).toMutation(n._key,Dr.none())])}function e0(n,e,t,...r){n=fi(n,xr);const u=fi(n.firestore,Ar),d=Fu(u);let g;return g="string"==typeof(e=(0,ai.m9)(e))||e instanceof Cc?Yy(d,"updateDoc",n._key,e,t,r):Ky(d,"updateDoc",n._key,e),gh(u,[g.toMutation(n._key,Dr.exists(!0))])}function r0(n,...e){var t,r,u;n=(0,ai.m9)(n);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||Cm(e[g])||(d=e[g],g++);const w={includeMetadataChanges:d.includeMetadataChanges};if(Cm(e[g])){const pe=e[g];e[g]=null===(t=pe.next)||void 0===t?void 0:t.bind(pe),e[g+1]=null===(r=pe.error)||void 0===r?void 0:r.bind(pe),e[g+2]=null===(u=pe.complete)||void 0===u?void 0:u.bind(pe)}let A,F,X;if(n instanceof xr)F=fi(n.firestore,Ar),X=jh(n._key.path),A={next:pe=>{e[g]&&e[g](sv(F,n,pe))},error:e[g+1],complete:e[g+2]};else{const pe=fi(n,ua);F=fi(pe.firestore,Ar),X=pe._query;const He=new Dc(F);A={next:Xe=>{e[g]&&e[g](new wd(F,He,pe,Xe))},error:e[g+1],complete:e[g+2]},Kw(n._query)}return function(pe,He,Xe,Je){const _t=new vm(Je),Ft=new um(He,_t,Xe);return pe.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return lm(yield _f(pe),Ft)})),()=>{_t.Rc(),pe.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return uh(yield _f(pe),Ft)}))}}(ms(F),X,w,A)}function gh(n,e){return function(t,r){const u=new zs;return t.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function KC(n,e,t){return wy.apply(this,arguments)}(yield Uy(t),r,u)})),u.promise}(ms(n),e)}function sv(n,e,t){const r=t.docs.get(e._key),u=new Dc(n);return new Lu(n,u,e._key,r,new bd(t.hasPendingWrites,t.fromCache),e.converter)}class s0 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Fu(e)}get(e){const t=Sc(e,this._firestore),r=new Jw(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return dn();const d=u[0];if(d.isFoundDocument())return new wf(this._firestore,r,d.key,d,t.converter);if(d.isNoDocument())return new wf(this._firestore,r,t._key,null,t.converter);throw dn()})}set(e,t,r){const u=Sc(e,this._firestore),d=km(u.converter,t,r),g=ph(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,r);return this._transaction.set(u._key,g),this}update(e,t,r,...u){const d=Sc(e,this._firestore);let g;return g="string"==typeof(t=(0,ai.m9)(t))||t instanceof Cc?Yy(this._dataReader,"Transaction.update",d._key,t,r,u):Ky(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,g),this}delete(e){const t=Sc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sc(e,this._firestore),r=new Dc(this._firestore);return super.get(e).then(u=>new Lu(this._firestore,r,t._key,u._document,new bd(!1,!1),t.converter))}}function u0(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new kt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function LE(){if("undefined"==typeof Uint8Array)throw new kt("unimplemented","Uint8Arrays are not available in this environment.")}function VE(){if(!function q0(){return"undefined"!=typeof atob}())throw new kt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Du=Ea.SDK_VERSION,(0,Ea._registerComponent)(new yl.wA("firestore",(t,{instanceIdentifier:r,options:u})=>{const d=t.getProvider("app").getImmediate(),g=new Ar(new H0(t.getProvider("auth-internal")),new z0(t.getProvider("app-check-internal")),function(w,A){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new kt(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(w.options.projectId,A)}(d,r),d);return u=Object.assign({useFetchStreams:e},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),(0,Ea.registerVersion)(oc,"3.5.0",n),(0,Ea.registerVersion)(oc,"3.5.0","esm2017")}();class Rm{constructor(e){this._delegate=e}static fromBase64String(e){return VE(),new Rm(Nu.fromBase64String(e))}static fromUint8Array(e){return LE(),new Rm(Nu.fromUint8Array(e))}toBase64(){return VE(),this._delegate.toBase64()}toUint8Array(){return LE(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function If(n){return function qT(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class ov{enableIndexedDbPersistence(e,t){return function Fw(n,e){jw(n=fi(n,Ar));const t=ms(n),r=n._freezeSettings(),u=new Fy;return Gy(t,u,new _m(u,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Lw(n){jw(n=fi(n,Ar));const e=ms(n),t=n._freezeSettings(),r=new Fy;return Gy(e,r,new aE(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Vw(n){if(n._initialized&&!n._terminated)throw new kt(dt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new zs;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{yield(t=(0,ut.Z)(function*(r){if(!Xl.C())return Promise.resolve();const u=r+"main";yield Xl.delete(u)}),function(r){return t.apply(this,arguments)})(Ml(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class mh{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof rd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Zd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Ow(n,e,t,r={}){var u;const d=(n=fi(n,wm))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Zd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let g,w;if("string"==typeof r.mockUserToken)g=r.mockUserToken,w=is.MOCK_USER;else{g=(0,ai.Sg)(r.mockUserToken,null===(u=n._app)||void 0===u?void 0:u.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new kt(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new is(A)}n._authCredentials=new Yl(new Mv(g,w))}}(this._delegate,e,t,r)}enableNetwork(){return function Uw(n){return function Ew(n){return n.asyncQueue.enqueue((0,ut.Z)(function*(){const e=yield cE(n),t=yield Cw(n);return e.setNetworkEnabled(!0),function(r){const u=en(r);return u._u.delete(0),lf(u)}(t)}))}(ms(n=fi(n,Ar)))}(this._delegate)}disableNetwork(){return function mE(n){return function Tw(n){return n.asyncQueue.enqueue((0,ut.Z)(function*(){const e=yield cE(n),t=yield Cw(n);return e.setNetworkEnabled(!1),(r=(0,ut.Z)(function*(u){const d=en(u);d._u.add(0),yield ah(d),d.gu.set("Offline")}),function(u){return r.apply(this,arguments)})(t);var r}))}(ms(n=fi(n,Ar)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Aw("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Bw(n){return function(e){const t=new zs;return e.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function JC(n,e){return dm.apply(this,arguments)}(yield Uy(e),t)})),t.promise}(ms(n=fi(n,Ar)))}(this._delegate)}onSnapshotsInSync(e){return function kE(n,e){return function Sw(n,e){const t=new vm(e);return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return r=yield _f(n),u=t,en(r).Ru.add(u),void u.next();var r,u})),()=>{t.Rc(),n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return r=yield _f(n),u=t,void en(r).Ru.delete(u);var r,u}))}}(ms(n=fi(n,Ar)),Cm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new kt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Df(this,pE(this._delegate,e))}catch(t){throw Uo(t,"collection()","Firestore.collection()")}}doc(e){try{return new rl(this,yf(this._delegate,e))}catch(t){throw Uo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ka(this,function kw(n,e){if(n=fi(n,wm),Kp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new kt(dt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ua(n,null,(t=e,new od(Ci.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Uo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function o0(n,e,t){n=fi(n,Ar);const r=Object.assign(Object.assign({},zT),t);return function(u){if(u.maxAttempts<1)throw new kt(dt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function Dw(n,e,t){const r=new zs;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){const u=yield(d=n,vd(d).then(g=>g.datastore));var d;new vw(n.asyncQueue,u,t,e,r).run()})),r.promise}(ms(n),u=>e(new s0(n,u)),r)}(this._delegate,t=>e(new c0(this,t)))}batch(){return ms(this._delegate),new Pm(new ng(this._delegate,e=>gh(this._delegate,e)))}loadBundle(e){return function Hw(n,e){const t=ms(n=fi(n,Ar)),r=new Pw;return function dE(n,e,t,r){const u=function(d,g){let w;return w="string"==typeof d?(new TextEncoder).encode(d):d,A=function(A,F){if(A instanceof Uint8Array)return ym(A,F);if(A instanceof ArrayBuffer)return ym(new Uint8Array(A),F);if(A instanceof ReadableStream)return A.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(w),new yw(A,g);var A}(t,Up(e));n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){!function Py(n,e,t){const r=en(n);var u;(u=(0,ut.Z)(function*(d,g,w){try{const A=yield g.getMetadata();if(yield function(He,Xe){const Je=en(He),_t=ro(Xe.createTime);return Je.persistence.runTransaction("hasNewerBundle","readonly",Ft=>Je.Ns.getBundleMetadata(Ft,Xe.id)).then(Ft=>!!Ft&&Ft.createTime.compareTo(_t)>=0)}(d.localStore,A))return yield g.close(),w._completeWith({taskState:"Success",documentsLoaded:(He=A).totalDocuments,bytesLoaded:He.totalBytes,totalDocuments:He.totalDocuments,totalBytes:He.totalBytes}),Promise.resolve(new Set);w._updateProgress(yy(A));const F=new WC(A,d.localStore,g.It);let X=yield g.wc();for(;X;){const He=yield F.Ou(X);He&&w._updateProgress(He),X=yield g.wc()}const pe=yield F.complete();return yield wc(d,pe.Bu,void 0),yield function(He,Xe){const Je=en(He);return Je.persistence.runTransaction("Save bundle","readwrite",_t=>Je.Ns.saveBundleMetadata(_t,Xe))}(d.localStore,A),w._completeWith(pe.progress),Promise.resolve(pe.$u)}catch(A){return Zd("SyncEngine",`Loading bundle failed with ${A}`),w._failWith(A),Promise.resolve(new Set)}var He}),function(d,g,w){return u.apply(this,arguments)})(r,e,t).then(u=>{r.sharedClientState.notifyBundleLoaded(u)})}(yield Uy(n),u,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function yE(n,e){return function hE(n,e){return n.asyncQueue.enqueue((0,ut.Z)(function*(){return function(t,r){const u=en(t);return u.persistence.runTransaction("Get named query","readonly",d=>u.Ns.getNamedQuery(d,r))}(yield Gp(n),e)}))}(ms(n=fi(n,Ar)),e).then(t=>t?new ua(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ka(this,t):null)}}class ig extends Om{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rm(new Nu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return rl.forKey(t,this.firestore,null)}}class c0{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ig(e)}get(e){const t=xc(e);return this._delegate.get(t).then(r=>new Ed(this._firestore,new Lu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const u=xc(e);return r?(u0("Transaction.set",r),this._delegate.set(u,t,r)):this._delegate.set(u,t),this}update(e,t,r,...u){const d=xc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,r,...u),this}delete(e){const t=xc(e);return this._delegate.delete(t),this}}class Pm{constructor(e){this._delegate=e}set(e,t,r){const u=xc(e);return r?(u0("WriteBatch.set",r),this._delegate.set(u,t,r)):this._delegate.set(u,t),this}update(e,t,r,...u){const d=xc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,r,...u),this}delete(e){const t=xc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Cd{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Cf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Sf(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Cd.INSTANCES;let u=r.get(e);u||(u=new WeakMap,r.set(e,u));let d=u.get(t);return d||(d=new Cd(e,new ig(e),t),u.set(t,d)),d}}Cd.INSTANCES=new WeakMap;class rl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ig(e)}static forPath(e,t,r){if(e.length%2!=0)throw new kt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new rl(t,new xr(t._delegate,r,new Yt(e)))}static forKey(e,t,r){return new rl(t,new xr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Df(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Df(this.firestore,pE(this._delegate,e))}catch(t){throw Uo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ai.m9)(e))instanceof xr&&$y(this._delegate,e)}set(e,t){t=u0("DocumentReference.set",t);try{return t?rv(this._delegate,e,t):rv(this._delegate,e)}catch(r){throw Uo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?e0(this._delegate,e):e0(this._delegate,e,t,...r)}catch(u){throw Uo(u,"updateDoc()","DocumentReference.update()")}}delete(){return function t0(n){return gh(fi(n.firestore,Ar),[new Zh(n._key,Dr.none())])}(this._delegate)}onSnapshot(...e){const t=UE(e),r=av(e,u=>new Ed(this.firestore,new Lu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return r0(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function iv(n){n=fi(n,xr);const e=fi(n.firestore,Ar),t=ms(e),r=new Dc(e);return function jy(n,e){const t=new zs;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(r=(0,ut.Z)(function*(u,d,g){try{const w=yield function(A,F){const X=en(A);return X.persistence.runTransaction("read document","readonly",pe=>X.localDocuments.getDocument(pe,F))}(u,d);w.isFoundDocument()?g.resolve(w):w.isNoDocument()?g.resolve(null):g.reject(new kt(dt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(w){const A=ff(w,`Failed to get document '${d} from cache`);g.reject(A)}}),function(u,d,g){return r.apply(this,arguments)})(yield Gp(n),e,t);var r})),t.promise}(t,n._key).then(u=>new Lu(e,r,n._key,u,new bd(null!==u&&u.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function $T(n){n=fi(n,xr);const e=fi(n.firestore,Ar);return Wp(ms(e),n._key,{source:"server"}).then(t=>sv(e,n,t))}(this._delegate):function AE(n){n=fi(n,xr);const e=fi(n.firestore,Ar);return Wp(ms(e),n._key).then(t=>sv(e,n,t))}(this._delegate),t.then(r=>new Ed(this.firestore,new Lu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new rl(this.firestore,this._delegate.withConverter(e?Cd.getInstance(this.firestore,e):null))}}function Uo(n,e,t){return n.message=n.message.replace(e,t),n}function UE(n){for(const e of n)if("object"==typeof e&&!If(e))return e;return{}}function av(n,e){var t,r;let u;return u=If(n[0])?n[0]:If(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:d=>{u.next&&u.next(e(d))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(r=u.complete)||void 0===r?void 0:r.bind(u)}}class Ed{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new rl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Xy(this._delegate,e._delegate)}}class Sf extends Ed{data(e){const t=this._delegate.data(e);return function Av(n,e){n||dn()}(void 0!==t),t}}class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ig(e)}where(e,t,r){try{return new ka(this.firestore,Ic(this._delegate,function Tf(n,e,t){const r=e,u=Xp("where",n);return new ca(u,r,t)}(e,t,r)))}catch(u){throw Uo(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ka(this.firestore,Ic(this._delegate,function TE(n,e="asc"){const t=e,r=Xp("orderBy",n);return new EE(r,t)}(e,t)))}catch(r){throw Uo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ka(this.firestore,Ic(this._delegate,function eg(n){return zy("limit",n),new IE("limit",n,"F")}(e)))}catch(t){throw Uo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ka(this.firestore,Ic(this._delegate,function SE(n){return zy("limitToLast",n),new IE("limitToLast",n,"L")}(e)))}catch(t){throw Uo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ka(this.firestore,Ic(this._delegate,function DE(...n){return new Am("startAt",n,!0)}(...e)))}catch(t){throw Uo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ka(this.firestore,Ic(this._delegate,function Yw(...n){return new Am("startAfter",n,!1)}(...e)))}catch(t){throw Uo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ka(this.firestore,Ic(this._delegate,function xE(...n){return new Qw("endBefore",n,!1)}(...e)))}catch(t){throw Uo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ka(this.firestore,Ic(this._delegate,function ev(...n){return new Qw("endAt",n,!0)}(...e)))}catch(t){throw Uo(t,"endAt()","Query.endAt()")}}isEqual(e){return Zy(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function OE(n){n=fi(n,ua);const e=fi(n.firestore,Ar),t=ms(e),r=new Dc(e);return function qp(n,e){const t=new zs;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(r=(0,ut.Z)(function*(u,d,g){try{const w=yield Pp(u,d,!0),A=new qC(d,w.Hi),F=A.ju(w.documents),X=A.applyChanges(F,!1);g.resolve(X.snapshot)}catch(w){const A=ff(w,`Failed to execute query '${d} against cache`);g.reject(A)}}),function(u,d,g){return r.apply(this,arguments)})(yield Gp(n),e,t);var r})),t.promise}(t,n._query).then(u=>new wd(e,r,n,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function Xw(n){n=fi(n,ua);const e=fi(n.firestore,Ar),t=ms(e),r=new Dc(e);return Iw(t,n._query,{source:"server"}).then(u=>new wd(e,r,n,u))}(this._delegate):function ME(n){n=fi(n,ua);const e=fi(n.firestore,Ar),t=ms(e),r=new Dc(e);return Kw(n._query),Iw(t,n._query).then(u=>new wd(e,r,n,u))}(this._delegate),t.then(r=>new d0(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=UE(e),r=av(e,u=>new d0(this.firestore,new wd(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return r0(this._delegate,t,r)}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?Cd.getInstance(this.firestore,e):null))}}class KT{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Sf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class d0{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ka(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Sf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new KT(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Sf(this._firestore,r))})}isEqual(e){return Xy(this._delegate,e._delegate)}}class Df extends ka{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new rl(this.firestore,e):null}doc(e){try{return new rl(this.firestore,void 0===e?yf(this._delegate):yf(this._delegate,e))}catch(t){throw Uo(t,"doc()","CollectionReference.doc()")}}add(e){return function n0(n,e){const t=fi(n.firestore,Ar),r=yf(n),u=km(n.converter,e);return gh(t,[ph(Fu(n.firestore),"addDoc",r._key,u,null!==n.converter,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new rl(this.firestore,t))}isEqual(e){return $y(this._delegate,e._delegate)}withConverter(e){return new Df(this.firestore,this._delegate.withConverter(e?Cd.getInstance(this.firestore,e):null))}}function xc(n){return fi(n,xr)}class lv{constructor(...e){this._delegate=new Cc(...e)}static documentId(){return new lv(Zr.keyField().canonicalString())}isEqual(e){return(e=(0,ai.m9)(e))instanceof Cc&&this._delegate._internalPath.isEqual(e._internalPath)}}class xf{constructor(e){this._delegate=e}static serverTimestamp(){const e=function l0(){return new Im("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xf(e)}static delete(){const e=function a0(){return new Yp("deleteField")}();return e._methodName="FieldValue.delete",new xf(e)}static arrayUnion(...e){const t=function RE(...n){return new Zw("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new xf(t)}static arrayRemove(...e){const t=function PE(...n){return new qy("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new xf(t)}static increment(e){const t=function ZT(n){return new Gw("increment",n)}(e);return t._methodName="FieldValue.increment",new xf(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HE={Firestore:mh,GeoPoint:il,Timestamp:Sr,Blob:Rm,Transaction:c0,WriteBatch:Pm,DocumentReference:rl,DocumentSnapshot:Ed,Query:ka,QueryDocumentSnapshot:Sf,QuerySnapshot:d0,CollectionReference:Df,FieldPath:lv,FieldValue:xf,setLogLevel:function BE(n){!function ep(n){Qa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function jE(n){(function uv(n,e){n.INTERNAL.registerComponent(new yl.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(r,u)},"PUBLIC").setServiceProps(Object.assign({},HE)))})(n,(e,t)=>new mh(e,t,new ov)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(pu.Z);var Ra=R(7579),zE=R(6451),Af=R(5363),Td=R(3900),h0=R(3151),cv=R(590),f0=R(576);function dv(n,e){return(0,f0.m)(e)?(0,Td.w)(()=>n,e):(0,Td.w)(()=>n)}var hv=R(9468);R(5867);const g0=new Map,m0={activated:!1,tokenObservers:[]},sg={initialized:!1,enabled:!1};function Rs(n){return g0.get(n)||m0}function kl(n,e){g0.set(n,e)}function Nm(){return sg}class y0{constructor(e,t,r,u,d){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=u,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=u,u>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ut.Z)(function*(){t.stop();try{t.pending=new ai.BH,yield function JE(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ai.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const da=new ai.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function eT(n){if(!Rs(n).activated)throw da.create("use-before-activation",{appName:n.name})}function b0(n,e){return _v.apply(this,arguments)}function _v(){return _v=(0,ut.Z)(function*({url:n,body:e},t){var r,u;const d={"Content-Type":"application/json"},g=t.getImmediate({optional:!0});if(g){const Xe=yield g.getHeartbeatsHeader();Xe&&(d["X-Firebase-Client"]=Xe)}const w={method:"POST",body:JSON.stringify(e),headers:d};let A,F;try{A=yield fetch(n,w)}catch(Xe){throw da.create("fetch-network-error",{originalErrorMessage:null===(r=Xe)||void 0===r?void 0:r.message})}if(200!==A.status)throw da.create("fetch-status-error",{httpStatus:A.status});try{F=yield A.json()}catch(Xe){throw da.create("fetch-parse-error",{originalErrorMessage:null===(u=Xe)||void 0===u?void 0:u.message})}const X=F.ttl.match(/^([\d.]+)(s)$/);if(!X||!X[2]||isNaN(Number(X[1])))throw da.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${F.ttl}`});const pe=1e3*Number(X[1]),He=Date.now();return{token:F.token,expireTimeMillis:He+pe,issuedAtTimeMillis:He}}),_v.apply(this,arguments)}function nT(n,e){const{projectId:t,appId:r,apiKey:u}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${u}`,body:{debug_token:e}}}const Mf="firebase-app-check-store";let Of=null;function C0(){return Of||(Of=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=u=>{n(u.target.result)},r.onerror=u=>{var d;e(da.create("storage-open",{originalErrorMessage:null===(d=u.target.error)||void 0===d?void 0:d.message}))},r.onupgradeneeded=u=>{0===u.oldVersion&&u.target.result.createObjectStore(Mf,{keyPath:"compositeKey"})}}catch(r){e(da.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),Of)}function I0(){return I0=(0,ut.Z)(function*(n,e){const r=(yield C0()).transaction(Mf,"readwrite"),d=r.objectStore(Mf).put({compositeKey:n,value:e});return new Promise((g,w)=>{d.onsuccess=A=>{g()},r.onerror=A=>{var F;w(da.create("storage-set",{originalErrorMessage:null===(F=A.target.error)||void 0===F?void 0:F.message}))}})}),I0.apply(this,arguments)}const Bm=new Si.Yd("@firebase/app-check");function D0(n,e){return(0,ai.hl)()?function vv(n,e){return function iT(n,e){return I0.apply(this,arguments)}(function sT(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Bm.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function x0(){return Nm().enabled}function wv(){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,ut.Z)(function*(){const n=Nm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Hm.apply(this,arguments)}const aT={error:"UNKNOWN_ERROR"};function lT(n){return ai.US.encodeString(JSON.stringify(n),!1)}function og(n){return kf.apply(this,arguments)}function kf(){return kf=(0,ut.Z)(function*(n,e=!1){const t=n.app;eT(t);const r=Rs(t);let d,u=r.token;if(!u){const A=yield r.cachedTokenPromise;A&&zm(A)&&(u=A)}if(!e&&u&&zm(u))return{token:u.token};let w,g=!1;if(x0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=b0(nT(t,yield wv()),n.heartbeatServiceProvider).then(F=>(r.exchangeTokenPromise=void 0,F)),g=!0);const A=yield r.exchangeTokenPromise;return yield D0(t,A),kl(t,Object.assign(Object.assign({},r),{token:A})),{token:A.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(A=>(r.exchangeTokenPromise=void 0,A)),g=!0),u=yield r.exchangeTokenPromise}catch(A){"appCheck/throttled"===A.code?Bm.warn(A.message):Bm.error(A),d=A}return u?(w={token:u.token},kl(t,Object.assign(Object.assign({},r),{token:u})),yield D0(t,u)):w=cT(d),g&&M0(t,w),w}),kf.apply(this,arguments)}function jm(n,e){const t=Rs(n),r=t.tokenObservers.filter(u=>u.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),kl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function ag(n){const{app:e}=n,t=Rs(e);let r=t.tokenRefresher;r||(r=function uT(n){const{app:e}=n;return new y0((0,ut.Z)(function*(){let r;if(r=Rs(e).token?yield og(n,!0):yield og(n),r.error)throw r.error}),()=>!0,()=>{const t=Rs(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),kl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function M0(n,e){const t=Rs(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(u){}}function zm(n){return n.expireTimeMillis-Date.now()>0}function cT(n){return{token:lT(aT),error:n}}class rI{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Rs(this.app);for(const t of e)jm(this.app,t.next);return Promise.resolve()}}const W="app-check-internal";!function ie(){(0,Ea._registerComponent)(new yl.wA("app-check",n=>function dT(n,e){return new rI(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(W).initialize()})),(0,Ea._registerComponent)(new yl.wA(W,n=>function hT(n){return{getToken:e=>og(n,e),addTokenListener:e=>function Cv(n,e,t,r){const{app:u}=n,d=Rs(u),g={next:t,error:r,type:e};if(kl(u,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,g]})),d.token&&zm(d.token)){const w=d.token;Promise.resolve().then(()=>{t({token:w.token}),ag(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>ag(n))}(n,"INTERNAL",e),removeTokenListener:e=>jm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ea.registerVersion)("@firebase/app-check","0.5.12")}();class Ke{constructor(){return(0,_i.vb)("app-check")}}"undefined"!=typeof window&&window;var Tv=R(127);const $m=new v.OlP("angularfire2.auth.use-emulator"),Zm=new v.OlP("angularfire2.auth.settings"),aI=new v.OlP("angularfire2.auth.tenant-id"),lI=new v.OlP("angularfire2.auth.langugage-code"),uI=new v.OlP("angularfire2.auth.use-device-language"),cI=new v.OlP("angularfire.auth.persistence"),dI=(n,e,t,r,u,d,g,w)=>(0,Bt.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const A=e.runOutsideAngular(()=>n.auth());if(t&&A.useEmulator(...t),r&&(A.tenantId=r),A.languageCode=u,d&&A.useDeviceLanguage(),g)for(const[F,X]of Object.entries(g))A.settings[F]=X;return w&&A.setPersistence(w),A},[t,r,u,d,g,w]);let hI=(()=>{class n{constructor(t,r,u,d,g,w,A,F,X,pe,He,Xe){const Je=new Ra.x,_t=(0,kn.of)(void 0).pipe((0,Af.Q)(g.outsideAngular),(0,Td.w)(()=>d.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,6583)))),(0,yi.U)(()=>(0,Bt.on)(t,d,r)),(0,yi.U)(Ft=>dI(Ft,d,w,F,X,pe,A,He)),(0,h0.d)({bufferSize:1,refCount:!1}));if((0,i.PM)(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,kn.of)(null);else{_t.pipe((0,cv.P)()).subscribe();const vn=_t.pipe((0,Td.w)(bn=>bn.getRedirectResult().then(Zn=>Zn,()=>null)),_i.iC,(0,h0.d)({bufferSize:1,refCount:!1})),On=_t.pipe((0,Td.w)(bn=>new rn.y(Zn=>({unsubscribe:d.runOutsideAngular(()=>bn.onAuthStateChanged(Gn=>Zn.next(Gn),Gn=>Zn.error(Gn),()=>Zn.complete()))})))),Bn=_t.pipe((0,Td.w)(bn=>new rn.y(Zn=>({unsubscribe:d.runOutsideAngular(()=>bn.onIdTokenChanged(Gn=>Zn.next(Gn),Gn=>Zn.error(Gn),()=>Zn.complete()))}))));this.authState=vn.pipe(dv(On),(0,hv.R)(g.outsideAngular),(0,Af.Q)(g.insideAngular)),this.user=vn.pipe(dv(Bn),(0,hv.R)(g.outsideAngular),(0,Af.Q)(g.insideAngular)),this.idToken=this.user.pipe((0,Td.w)(bn=>bn?(0,ii.D)(bn.getIdToken()):(0,kn.of)(null))),this.idTokenResult=this.user.pipe((0,Td.w)(bn=>bn?(0,ii.D)(bn.getIdTokenResult()):(0,kn.of)(null))),this.credential=(0,zE.T)(vn,Je,this.authState.pipe((0,yr.h)(bn=>!bn))).pipe((0,yi.U)(bn=>(null==bn?void 0:bn.user)?bn:null),(0,hv.R)(g.outsideAngular),(0,Af.Q)(g.insideAngular))}return(0,Bt.pX)(this,_t,d,{spy:{apply:(Ft,vn,On)=>{(Ft.startsWith("signIn")||Ft.startsWith("createUser"))&&On.then(Bn=>Je.next(Bn))}}})}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Bt.Dh),v.LFG(Bt.xv,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(_i.HU),v.LFG($m,8),v.LFG(Zm,8),v.LFG(aI,8),v.LFG(lI,8),v.LFG(uI,8),v.LFG(cI,8),v.LFG(Ke,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function fI(n,e){return function VI(n,e=Vn.z){return new rn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function IT(n,e){return fI(n,e).pipe((0,yi.U)(t=>({payload:t,type:"query"})))}function L0(n,e){return IT(n,e).pipe((0,Xr.O)(void 0),(0,pi.G)(),(0,yi.U)(([t,r])=>{const u=r.payload.docChanges(),d=u.map(g=>({type:g.type,payload:g}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((g,w)=>{const A=u.find(X=>X.doc.ref.isEqual(g.ref)),F=null==t?void 0:t.payload.docs.find(X=>X.ref.isEqual(g.ref));A&&JSON.stringify(A.doc.metadata)===JSON.stringify(g.metadata)||!A&&F&&JSON.stringify(F.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:w,newIndex:w,type:"modified",doc:g}})}),d}))}function pI(n,e,t){return L0(n,t).pipe((0,es.R)((r,u)=>function UI(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function HI(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ST(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ST(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ST(n,e.oldIndex,1)}return n}(n,r))}),n}(r,u.map(d=>d.payload),e),[]),(0,$r.x)(),(0,yi.U)(r=>r.map(u=>({type:u.type,payload:u}))))}function ST(n,e,t,...r){const u=n.slice();return u.splice(e,t,...r),u}function gI(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class mI{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=L0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,yi.U)(r=>r.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,Xr.O)(void 0),(0,pi.G)(),(0,yr.h)(([r,u])=>u.length>0||!r),(0,yi.U)(([r,u])=>u),_i.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,es.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=gI(e);return pI(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return IT(this.query,this.afs.schedulers.outsideAngular).pipe((0,yi.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),_i.iC)}get(e){return(0,ii.D)(this.query.get(e)).pipe(_i.iC)}add(e){return this.ref.add(e)}doc(e){return new _I(this.ref.doc(e),this.afs)}}class _I{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:u,query:d}=bI(r,t);return new mI(u,d,this.afs)}snapshotChanges(){return function BI(n,e){return fI(n,e).pipe((0,Xr.O)(void 0),(0,pi.G)(),(0,yi.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,yi.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ii.D)(this.ref.get(e)).pipe(_i.iC)}}class jI{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?L0(this.query,this.afs.schedulers.outsideAngular).pipe((0,yi.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),(0,yr.h)(t=>t.length>0),_i.iC):L0(this.query,this.afs.schedulers.outsideAngular).pipe(_i.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,es.R)((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=gI(e);return pI(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return IT(this.query,this.afs.schedulers.outsideAngular).pipe((0,yi.U)(r=>r.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),_i.iC)}get(e){return(0,ii.D)(this.query.get(e)).pipe(_i.iC)}}const yI=new v.OlP("angularfire2.enableFirestorePersistence"),vI=new v.OlP("angularfire2.firestore.persistenceSettings"),zI=new v.OlP("angularfire2.firestore.settings"),$I=new v.OlP("angularfire2.firestore.use-emulator");function bI(n,e=(t=>t)){return{query:e(n),ref:n}}let wI=(()=>{class n{constructor(t,r,u,d,g,w,A,F,X,pe,He,Xe,Je,_t,Ft,vn,On){this.schedulers=A;const Bn=(0,Bt.on)(t,w,r),bn=X;pe&&dI(Bn,w,He,Je,_t,Ft,Xe,vn),[this.firestore,this.persistenceEnabled$]=(0,Bt.cc)(`${Bn.name}.firestore`,"AngularFirestore",Bn.name,()=>{const Zn=w.runOutsideAngular(()=>Bn.firestore());if(d&&Zn.settings(d),bn&&Zn.useEmulator(...bn),u&&!(0,i.PM)(g)){const Gn=()=>{try{return(0,ii.D)(Zn.enablePersistence(F||void 0).then(()=>!0,()=>!1))}catch(Ni){return"undefined"!=typeof console&&console.warn(Ni),(0,kn.of)(!1)}};return[Zn,w.runOutsideAngular(Gn)]}return[Zn,(0,kn.of)(!1)]},[d,bn,u])}collection(t,r){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:g}=bI(u,r),w=this.schedulers.ngZone.run(()=>d);return new mI(w,g,this)}collectionGroup(t,r){const u=r||(g=>g),d=this.firestore.collectionGroup(t);return new jI(u(d),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>r);return new _I(u,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(Bt.Dh),v.LFG(Bt.xv,8),v.LFG(yI,8),v.LFG(zI,8),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(_i.HU),v.LFG(vI,8),v.LFG($I,8),v.LFG(hI,8),v.LFG($m,8),v.LFG(Zm,8),v.LFG(aI,8),v.LFG(lI,8),v.LFG(uI,8),v.LFG(cI,8),v.LFG(Ke,8))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZI=(()=>{class n{constructor(){Tv.Z.registerVersion("angularfire",_i.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:yI,useValue:!0},{provide:vI,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({providers:[wI]}),n})();const CI_firebase={apiKey:"AIzaSyBjcdtVH_1WSpjcPfE8wax_yqLLOREr0Vw",authDomain:"firststore-49d49.firebaseapp.com",projectId:"firststore-49d49",storageBucket:"firststore-49d49.appspot.com",messagingSenderId:"118405926880",appId:"1:118405926880:web:dd0265a24650911aa92585"};var su=R(5335);let V0=(()=>{class n{constructor(t){this.firestore=t,this.registrado$=new Ra.x,this.registrado=!1}registrarUsuario(t){return this.firestore.collection("usuarios").add(t)}loginUsuario(){return this.firestore.collection("usuarios").valueChanges()}getUsuario(){return this.firestore.collection("usuarios").snapshotChanges()}eliminarUsuario(){return this.firestore.collection("usuarios").get()}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(wI))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GI=(()=>{class n{constructor(t,r){this.loginGuard=t,this.router=r}canActivate(){return 0==this.loginGuard.registrado&&this.router.navigate(["login"]),this.loginGuard.registrado}}return n.\u0275fac=function(t){return new(t||n)(v.LFG(V0),v.LFG(su.F0))},n.\u0275prov=v.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Sv=R(5492),WI=R(4297),vh=R(9783),lg=R(845);function qI(n,e){if(1&n&&v._UZ(0,"img",7),2&n){const t=v.oxw();v.Q6J("src",t.objeto.image,v.LSH)}}function KI(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div",8),v.TgZ(1,"h3",9),v._uU(2),v.ALo(3,"number"),v._UZ(4,"i",10),v.qZA(),v.TgZ(5,"p-button",11),v.NdJ("onClick",function(){return v.CHM(t),v.oxw().addCarrito()}),v.qZA(),v.qZA()}if(2&n){const t=v.oxw();v.xp6(2),v.Oqu(v.xi3(3,1,t.objeto.price,"1.2-2"))}}let YI=(()=>{class n{constructor(t,r){this.producto=t,this.route=r,this.cantidad=0}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");this.producto.getProducto(t).subscribe(r=>this.objeto=r)}addCarrito(){this.producto.addCarrito(this.objeto)}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Sv.d),v.Y36(su.gz))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-producto-info"]],decls:8,vars:3,consts:[[1,"grid-container"],[1,"flex","justify-content-center"],[1,"col-10","sm:col-8","md:col-6","lg:col-5","fadeinleft","animation-duration-2000"],["styleClass","p-card-shadow",3,"header","subheader"],["pTemplate","header"],[1,"m-2"],["pTemplate","footer"],["alt","Card",1,"h-25rem","w-25-rem",3,"src"],[1,"flex","justify-content-between"],[1,"ml-5"],[1,"pi","pi-euro"],["label","A\xf1adir al carrito","icon","pi pi-check",3,"onClick"]],template:function(t,r){1&t&&(v.TgZ(0,"div",0),v.TgZ(1,"div",1),v.TgZ(2,"div",2),v.TgZ(3,"p-card",3),v.YNc(4,qI,1,1,"ng-template",4),v.TgZ(5,"p",5),v._uU(6),v.qZA(),v.YNc(7,KI,6,4,"ng-template",6),v.qZA(),v.qZA(),v.qZA(),v.qZA()),2&t&&(v.xp6(3),v.Q6J("header",r.objeto.title)("subheader",r.objeto.category),v.xp6(3),v.Oqu(r.objeto.description))},directives:[WI.Z,vh.jx,lg.zx],pipes:[i.JJ],encapsulation:2}),n})();var EI=R(8631);function QI(n,e){1&n&&(v.TgZ(0,"tr"),v.TgZ(1,"th"),v._uU(2,"Image"),v.qZA(),v.TgZ(3,"th"),v._uU(4,"Nombre"),v.qZA(),v.TgZ(5,"th"),v._uU(6,"Cantidad"),v.qZA(),v.TgZ(7,"th"),v._uU(8,"Precio"),v.qZA(),v.TgZ(9,"th"),v._uU(10,"Eliminar"),v.qZA(),v.qZA())}function JI(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"tr"),v.TgZ(1,"td"),v._UZ(2,"img",4),v.qZA(),v.TgZ(3,"td"),v._uU(4),v.qZA(),v.TgZ(5,"td"),v.TgZ(6,"div",5),v.TgZ(7,"div",6),v.TgZ(8,"h3"),v._uU(9),v.qZA(),v.qZA(),v.TgZ(10,"div",7),v.TgZ(11,"p-button",8),v.NdJ("onClick",function(){const d=v.CHM(t).$implicit;return v.oxw().sumar(d)}),v.qZA(),v.TgZ(12,"p-button",9),v.NdJ("onClick",function(){const d=v.CHM(t).$implicit;return v.oxw().restar(d)}),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(13,"td"),v._uU(14),v.ALo(15,"number"),v._UZ(16,"i",10),v.qZA(),v.TgZ(17,"td"),v.TgZ(18,"p-button",11),v.NdJ("onClick",function(){const d=v.CHM(t).$implicit;return v.oxw().eliminar(d)}),v.qZA(),v.qZA(),v.qZA()}if(2&n){const t=e.$implicit;v.xp6(2),v.Q6J("src",t.image,v.LSH),v.xp6(2),v.Oqu(t.title),v.xp6(5),v.Oqu(t.cantidad),v.xp6(5),v.hij("",v.xi3(15,4,t.price*t.cantidad,"1.2-2")," ")}}function XI(n,e){if(1&n&&(v.TgZ(0,"tr"),v.TgZ(1,"td",13),v.TgZ(2,"h2"),v._uU(3),v.ALo(4,"number"),v._UZ(5,"i",10),v.qZA(),v.qZA(),v.TgZ(6,"td"),v._UZ(7,"p-button",14),v.qZA(),v.qZA()),2&n){const t=v.oxw(2);v.xp6(3),v.hij("Total = ",v.xi3(4,1,t.total,"1.2-2")," ")}}function eS(n,e){1&n&&v.YNc(0,XI,8,4,"ng-template",12)}let tS=(()=>{class n{constructor(t){this.srvStore=t,this.total=0,this.carrito=[]}ngOnInit(){this.carrito=this.srvStore.carrito,this.calcularTotal()}calcularTotal(){this.srvStore.total=0,this.srvStore.calcularTotal(),this.total=this.srvStore.total}sumar(t){this.srvStore.carrito.filter(r=>t==r?r.cantidad++:null),this.srvStore.calcularTotalItem(),this.calcularTotal()}restar(t){t.cantidad>0&&(this.srvStore.carrito.filter((r,u)=>{t==r&&r.cantidad--,0==r.cantidad&&this.srvStore.carrito.splice(u,1)}),this.srvStore.calcularTotalItem(),this.calcularTotal())}eliminar(t){this.srvStore.carrito.filter((r,u)=>{t==r&&this.srvStore.carrito.splice(u,1)}),this.calcularTotal()}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Sv.d))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-carrito"]],decls:4,vars:2,consts:[["responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"],[4,"ngIf"],["alt","product.image",1,"h-25rem",3,"src"],[1,"grid"],[1,"col-6","flex","justify-content-center","align-items-center"],[1,"col-6"],["icon","pi pi-plus","styleClass","p-button-rounded p-button-text p-button-sm",3,"onClick"],["icon","pi pi-minus","styleClass","p-button-danger p-button-rounded p-button-text p-button-sm",3,"onClick"],[1,"pi","pi-euro"],["type","button","icon","pi pi-trash","styleClass","p-button-danger p-button-outlined p-button-sm",3,"onClick"],["pTemplate","footer"],["colspan","4",1,"text-right"],["label","Confirm Buy","routerLink","home"]],template:function(t,r){1&t&&(v.TgZ(0,"p-table",0),v.YNc(1,QI,11,0,"ng-template",1),v.YNc(2,JI,19,7,"ng-template",2),v.YNc(3,eS,1,0,void 0,3),v.qZA()),2&t&&(v.Q6J("value",r.carrito),v.xp6(3),v.Q6J("ngIf",r.carrito.length>0))},directives:[EI.iA,vh.jx,i.O5,lg.zx,su.rH],pipes:[i.JJ],encapsulation:2}),n})(),nS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-categories"]],decls:8,vars:0,consts:[[1,"grid"],[1,"col"],[1,"flex","justify-content-center"],["label","For men","routerLink","ropa-hombre",1,"m-1"],["label","For woman","routerLink","ropa-mujer",1,"m-1"],["label","Electronics","routerLink","electronica",1,"m-1"],["label","Jewelery","routerLink","joyeria",1,"m-1"]],template:function(t,r){1&t&&(v.TgZ(0,"div",0),v.TgZ(1,"div",1),v.TgZ(2,"div",2),v._UZ(3,"p-button",3),v._UZ(4,"p-button",4),v._UZ(5,"p-button",5),v._UZ(6,"p-button",6),v.qZA(),v.qZA(),v.qZA(),v._UZ(7,"router-outlet"))},directives:[lg.zx,su.rH,su.lC],encapsulation:2}),n})();var iS=R(8759),rS=R(8185);function sS(n,e){1&n&&(v.TgZ(0,"div"),v._UZ(1,"p-progressBar",4),v.qZA())}function oS(n,e){if(1&n&&(v.TgZ(0,"h1"),v._uU(1,"Productos en el catalogo"),v.qZA(),v.YNc(2,sS,2,0,"div",3)),2&n){const t=v.oxw();v.xp6(2),v.Q6J("ngIf",t.carga)}}function aS(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"div",5),v.TgZ(1,"div",6),v._UZ(2,"div",5),v.TgZ(3,"div"),v.TgZ(4,"h4",7),v._uU(5),v.qZA(),v.TgZ(6,"h6",8),v._uU(7),v.qZA(),v.TgZ(8,"span",9),v._uU(9),v.ALo(10,"number"),v._UZ(11,"i",10),v.qZA(),v.TgZ(12,"div",11),v.TgZ(13,"p-button",12),v.NdJ("onClick",function(){const d=v.CHM(t).$implicit;return v.oxw().irADetalles(d.id)}),v.qZA(),v.TgZ(14,"p-button",13),v.NdJ("onClick",function(){const d=v.CHM(t).$implicit;return v.oxw().addCarrito(d)}),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.qZA()}if(2&n){const t=e.$implicit;v.xp6(5),v.Oqu(t.title),v.xp6(2),v.Oqu(t.category),v.xp6(2),v.hij("",v.xi3(10,3,t.price,"1.2-2")," ")}}let lS=(()=>{class n{constructor(t,r){this.product=t,this.router=r,this.cantidad=0,this.productos=[],this.carga=!0}ngOnInit(){this.product.getProductos().subscribe(t=>this.productos=t,t=>{},()=>this.carga=!1)}irADetalles(t){this.router.navigate(["producto/",t])}addCarrito(t){this.product.addCarrito(t)}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Sv.d),v.Y36(su.F0))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:3,consts:[[3,"value","numVisible","numScroll"],["pTemplate","header"],["data-test","carousel","pTemplate","item"],[4,"ngIf"],["mode","indeterminate"],[1,"flex","justify-content-center"],[1,"fadeinright","animation-duration-1000"],[1,"mb-1"],[1,"mt-0","mb-3"],[1,"flex","justify-content-end"],[1,"pi","pi-euro"],[1,"mt-5"],["type","button","label","Ver detalles","styleClass","p-button-info",1,"m-1",3,"onClick"],["type","button","label","A\xf1adir al carrito","styleClass","p-button-secondary",3,"onClick"]],template:function(t,r){1&t&&(v.TgZ(0,"p-carousel",0),v.YNc(1,oS,3,1,"ng-template",1),v.YNc(2,aS,15,6,"ng-template",2),v.qZA()),2&t&&v.Q6J("value",r.productos)("numVisible",3)("numScroll",3)},directives:[iS.l,vh.jx,i.O5,rS.k,lg.zx],pipes:[i.JJ],encapsulation:2}),n})();var Mr=R(2382),TI=R(1424);function uS(n,e){1&n&&(v.TgZ(0,"small",16),v._uU(1,"Enter your username."),v.qZA())}function cS(n,e){1&n&&(v.TgZ(0,"small",16),v._uU(1,"Enter your password."),v.qZA())}function dS(n,e){1&n&&(v.TgZ(0,"span",17),v._uU(1,"Usuario o contrase\xf1a incorrecto"),v.qZA())}let hS=(()=>{class n{constructor(t,r,u,d){this.build=t,this.firestore=r,this.srvStore=u,this.router=d,this.mError=!1,this.registrado=!0,this.form=this.build.group({usuario:["",Mr.kI.required],contrasena:["",[Mr.kI.required,Mr.kI.minLength(8)]]})}ngOnInit(){}enviar(t){this.firestore.loginUsuario().subscribe(r=>{r.map(u=>{t.usuario==u.usuario&&t.contrasena==u.contrasena&&(this.router.navigate(["home"]),this.srvStore.cambiarNombreApellido(u.nombre,u.apellido),this.mError=!1,this.firestore.registrado$.next(!0),this.firestore.registrado=!0)}),this.mError=!0,this.form.reset()})}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Mr.qu),v.Y36(V0),v.Y36(Sv.d),v.Y36(su.F0))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:5,consts:[[1,"text-center"],["data-test","login-form",1,"grid-container","flex","justify-content-center","m-5",3,"formGroup","submit"],[1,"col-5"],[1,"grid","p-fluid"],[1,"col-12"],[1,"p-input-icon-right","p-float-label"],[1,"pi","pi-user"],["type","text","id","username","pInputText","","formControlName","usuario"],["for","username",1,"block"],["class","p-error block",4,"ngIf"],[1,"pi","pi-lock"],["type","password","id","password2","pInputText","","formControlName","contrasena"],["for","password2",1,"block"],[1,"flex","justify-content-end"],["data-test","error-login-send","class","p-error block mt-5",4,"ngIf"],["label","Send","type","submit",1,"m-3",3,"disabled"],[1,"p-error","block"],["data-test","error-login-send",1,"p-error","block","mt-5"]],template:function(t,r){if(1&t&&(v.TgZ(0,"h1",0),v._uU(1,"Login"),v.qZA(),v.TgZ(2,"form",1),v.NdJ("submit",function(){return r.enviar(r.form.value)}),v.TgZ(3,"div",2),v.TgZ(4,"div",3),v.TgZ(5,"div",4),v.TgZ(6,"span",5),v._UZ(7,"i",6),v._UZ(8,"input",7),v.TgZ(9,"label",8),v._uU(10,"Username"),v.qZA(),v.qZA(),v.YNc(11,uS,2,0,"small",9),v.qZA(),v.TgZ(12,"div",4),v.TgZ(13,"span",5),v._UZ(14,"i",10),v._UZ(15,"input",11),v.TgZ(16,"label",12),v._uU(17,"Password"),v.qZA(),v.qZA(),v.YNc(18,cS,2,0,"small",9),v.qZA(),v.qZA(),v.TgZ(19,"div",13),v.YNc(20,dS,2,0,"span",14),v._UZ(21,"p-button",15),v.qZA(),v.qZA(),v.qZA()),2&t){let u,d;v.xp6(2),v.Q6J("formGroup",r.form),v.xp6(9),v.Q6J("ngIf",(null==(u=r.form.get("usuario"))?null:u.errors)&&(null==(u=r.form.get("usuario"))?null:u.touched)),v.xp6(7),v.Q6J("ngIf",(null==(d=r.form.get("contrasena"))?null:d.errors)&&(null==(d=r.form.get("contrasena"))?null:d.touched)),v.xp6(2),v.Q6J("ngIf",r.mError),v.xp6(1),v.Q6J("disabled",!r.form.valid)}},directives:[Mr._Y,Mr.JL,Mr.sg,Mr.Fj,TI.o,Mr.JJ,Mr.u,i.O5,lg.zx],styles:["label[_ngcontent-%COMP%]{pointer-events:all}"]}),n})();var II=R(7773);function fS(n,e){1&n&&(v.TgZ(0,"small",30),v._uU(1,"Enter your name."),v.qZA())}function pS(n,e){1&n&&(v.TgZ(0,"small",30),v._uU(1,"Enter your lastname."),v.qZA())}function gS(n,e){1&n&&(v.TgZ(0,"small",30),v._uU(1,"Enter your username."),v.qZA())}function mS(n,e){1&n&&(v.TgZ(0,"small",30),v._uU(1,"Enter your email."),v.qZA())}function _S(n,e){1&n&&(v.TgZ(0,"small",31),v.TgZ(1,"div",32),v.TgZ(2,"h4",33),v._uU(3,"Pick a password"),v.qZA(),v.TgZ(4,"ul",34),v.TgZ(5,"li"),v._uU(6,"Minimum 8 characters"),v.qZA(),v.TgZ(7,"li"),v._uU(8,"At least one lowercase"),v.qZA(),v.TgZ(9,"li"),v._uU(10,"At least one uppercase"),v.qZA(),v.TgZ(11,"li"),v._uU(12,"At least one numeric"),v.qZA(),v.qZA(),v.qZA(),v.qZA())}function yS(n,e){1&n&&(v.TgZ(0,"small",30),v._uU(1,"Password is not the same."),v.qZA())}const vS=[{path:"home",component:lS},{path:"carrito",component:tS,canActivate:[GI]},{path:"categorias",component:nS,loadChildren:()=>Promise.resolve().then(R.bind(R,2109)).then(n=>n.CategoriesModule)},{path:"producto/:id",component:YI},{path:"login",component:hS},{path:"sign-up",component:(()=>{class n{constructor(t,r,u,d){this.build=t,this.firestore=r,this.mensaje=u,this.router=d,this.numUsers=Math.floor(9999999*Math.random()),this.user=[],this.form=this.build.group({nombre:["",Mr.kI.required],apellido:["",Mr.kI.required],usuario:["",Mr.kI.required],email:["",[Mr.kI.required,Mr.kI.pattern(/^[^@\s]+@[^@\s]+\.[^@\s]{2,3}$/)]],contrasena:["",[Mr.kI.required,Mr.kI.minLength(8)]],contrasena2:["",[Mr.kI.required,Mr.kI.minLength(8)]]})}ngOnInit(){}ngOnDestroy(){clearInterval(this.intervalId)}obtenerUsuarios(){this.firestore.getUsuario().subscribe(t=>{t.map(r=>{this.user=r.payload.doc.data()})})}enviar(t){var r,u;this.obtenerUsuarios(),t.nombre.toLowerCase(),t.apellido.toLowerCase(),t.contrasena==t.contrasena2?(t.id=this.numUsers,t.date=new Date,this.firestore.registrarUsuario(t).then(()=>{this.mensaje.add({key:"bc",severity:"info",summary:"Registered User",icon:"pi pi-check"}),this.intervalId=setInterval(()=>{this.router.navigate(["/home"])},2e3)},d=>{this.mensaje.add({key:"bc",severity:"danger",summary:"Error",icon:"pi pi-cross"})})):(null===(r=this.form.get("contrasena2"))||void 0===r||r.reset(),null===(u=this.form.get("contrasena2"))||void 0===u||u.markAsTouched())}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Mr.qu),v.Y36(V0),v.Y36(vh.ez),v.Y36(su.F0))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-sign-up"]],features:[v._Bn([vh.ez])],decls:51,vars:8,consts:[[1,"text-center"],["data-test","signup-form",1,"grid-container","flex","justify-content-center","m-5",3,"formGroup","submit"],[1,"col-5"],[1,"grid","p-fluid"],[1,"col-12","md:col-6"],[1,"p-input-icon-right","p-float-label"],[1,"pi","pi-pencil"],["type","text","id","name","pInputText","","formControlName","nombre",1,"ng-valid"],["name",""],["for","name",1,"block"],["class","p-error block",4,"ngIf"],["type","text","id","lastname","pInputText","","formControlName","apellido"],["for","lastname",1,"block"],[1,"col-12"],[1,"pi","pi-user"],["type","text","id","username","pInputText","","formControlName","usuario"],["for","username",1,"block"],[1,"pi","pi-at"],["type","text","id","email","pInputText","","formControlName","email"],["for","email",1,"block"],[1,"col-12","lg:col-6"],[1,"pi","pi-lock"],["type","password","id","password","pInputText","","formControlName","contrasena"],["for","password",1,"block"],["class","p-error block relative",4,"ngIf"],["type","password","id","password2","pInputText","","formControlName","contrasena2"],["for","password2",1,"block"],[1,"flex","justify-content-end"],["label","Send","type","submit",1,"m-3",3,"disabled"],["position","bottom-center","key","bc"],[1,"p-error","block"],[1,"p-error","block","relative"],[1,"p-card","p-1","absolute"],[1,"ml-3"],[1,"px-3","ml-2","p-error"]],template:function(t,r){if(1&t&&(v.TgZ(0,"h1",0),v._uU(1,"Sign up"),v.qZA(),v.TgZ(2,"form",1),v.NdJ("submit",function(){return r.enviar(r.form.value)}),v.TgZ(3,"div",2),v.TgZ(4,"div",3),v.TgZ(5,"div",4),v.TgZ(6,"span",5),v._UZ(7,"i",6),v._UZ(8,"input",7,8),v.TgZ(10,"label",9),v._uU(11,"Name"),v.qZA(),v.qZA(),v.YNc(12,fS,2,0,"small",10),v.qZA(),v.TgZ(13,"div",4),v.TgZ(14,"span",5),v._UZ(15,"i",6),v._UZ(16,"input",11),v.TgZ(17,"label",12),v._uU(18,"Lastname"),v.qZA(),v.qZA(),v.YNc(19,pS,2,0,"small",10),v.qZA(),v.TgZ(20,"div",13),v.TgZ(21,"span",5),v._UZ(22,"i",14),v._UZ(23,"input",15),v.TgZ(24,"label",16),v._uU(25,"Username"),v.qZA(),v.qZA(),v.YNc(26,gS,2,0,"small",10),v.qZA(),v.TgZ(27,"div",13),v.TgZ(28,"span",5),v._UZ(29,"i",17),v._UZ(30,"input",18),v.TgZ(31,"label",19),v._uU(32,"Email"),v.qZA(),v.qZA(),v.YNc(33,mS,2,0,"small",10),v.qZA(),v.TgZ(34,"div",20),v.TgZ(35,"span",5),v._UZ(36,"i",21),v._UZ(37,"input",22),v.TgZ(38,"label",23),v._uU(39,"Password"),v.qZA(),v.qZA(),v.YNc(40,_S,13,0,"small",24),v.qZA(),v.TgZ(41,"div",20),v.TgZ(42,"span",5),v._UZ(43,"i",21),v._UZ(44,"input",25),v.TgZ(45,"label",26),v._uU(46,"Repeat password"),v.qZA(),v.qZA(),v.YNc(47,yS,2,0,"small",10),v.qZA(),v.qZA(),v.TgZ(48,"div",27),v._UZ(49,"p-button",28),v.qZA(),v.qZA(),v.qZA(),v._UZ(50,"p-toast",29)),2&t){let u,d,g,w,A,F;v.xp6(2),v.Q6J("formGroup",r.form),v.xp6(10),v.Q6J("ngIf",(null==(u=r.form.get("nombre"))?null:u.errors)&&(null==(u=r.form.get("nombre"))?null:u.touched)),v.xp6(7),v.Q6J("ngIf",(null==(d=r.form.get("apellido"))?null:d.errors)&&(null==(d=r.form.get("apellido"))?null:d.touched)),v.xp6(7),v.Q6J("ngIf",(null==(g=r.form.get("usuario"))?null:g.errors)&&(null==(g=r.form.get("usuario"))?null:g.touched)),v.xp6(7),v.Q6J("ngIf",(null==(w=r.form.get("email"))?null:w.errors)&&(null==(w=r.form.get("email"))?null:w.touched)),v.xp6(7),v.Q6J("ngIf",(null==(A=r.form.get("contrasena"))?null:A.errors)&&(null==(A=r.form.get("contrasena"))?null:A.touched)),v.xp6(7),v.Q6J("ngIf",(null==(F=r.form.get("contrasena2"))?null:F.errors)&&(null==(F=r.form.get("contrasena2"))?null:F.touched)),v.xp6(2),v.Q6J("disabled",!r.form.valid)}},directives:[Mr._Y,Mr.JL,Mr.sg,Mr.Fj,TI.o,Mr.JJ,Mr.u,i.O5,lg.zx,II.FN],styles:["label[_ngcontent-%COMP%]{pointer-events:all}"]}),n})()},{path:"**",redirectTo:"home"}];let bS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[[su.Bz.forRoot(vS)],su.Bz]}),n})();var wS=R(8850);let CS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-header"]],decls:4,vars:0,consts:[[1,"grid-container","flex"],["id","logo","src","assets/img/shop.png","alt","Image-logo","width","150"],[1,"ml-2","pt-3","text-orange-400"]],template:function(t,r){1&t&&(v.TgZ(0,"div",0),v._UZ(1,"p-image",1),v.TgZ(2,"p",2),v._uU(3,"/Compra facil y sencilla"),v.qZA(),v.qZA())},directives:[wS.E],encapsulation:2}),n})();var ES=R(7172),TS=R(3640),IS=R(2266),SS=R(85),DS=R(4119);function xS(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"p-button",12),v.NdJ("onClick",function(){return v.CHM(t),v.oxw(2).reset()}),v.qZA()}}function AS(n,e){1&n&&(v.TgZ(0,"div",13),v._UZ(1,"p-button",14),v._UZ(2,"p-button",15),v.qZA())}function MS(n,e){if(1&n&&(v.YNc(0,xS,1,0,"ng-template",null,10,v.W1O),v.YNc(2,AS,3,0,"div",11)),2&n){const t=v.MAs(1),r=v.oxw();v.xp6(2),v.Q6J("ngIf",!r.registrado)("ngIfElse",t)}}function OS(n,e){1&n&&(v.TgZ(0,"tr"),v.TgZ(1,"th"),v._uU(2,"Image"),v.qZA(),v.TgZ(3,"th"),v._uU(4,"Cantidad"),v.qZA(),v.TgZ(5,"th"),v._uU(6,"Precio"),v.qZA(),v.TgZ(7,"th"),v._uU(8,"Eliminar"),v.qZA(),v.qZA())}function kS(n,e){if(1&n){const t=v.EpF();v.TgZ(0,"tr"),v.TgZ(1,"td"),v._UZ(2,"p-avatar",20),v.qZA(),v.TgZ(3,"td"),v.TgZ(4,"div",21),v.TgZ(5,"div",22),v.TgZ(6,"h3"),v._uU(7),v.qZA(),v.qZA(),v.TgZ(8,"div",23),v.TgZ(9,"p-button",24),v.NdJ("onClick",function(){const d=v.CHM(t).$implicit;return v.oxw(2).sumar(d)}),v.qZA(),v.TgZ(10,"p-button",25),v.NdJ("onClick",function(){const d=v.CHM(t).$implicit;return v.oxw(2).restar(d)}),v.qZA(),v.qZA(),v.qZA(),v.qZA(),v.TgZ(11,"td"),v._uU(12),v.ALo(13,"number"),v._UZ(14,"i",26),v.qZA(),v.TgZ(15,"td"),v.TgZ(16,"p-button",27),v.NdJ("onClick",function(){const d=v.CHM(t).$implicit;return v.oxw(2).eliminar(d)}),v.qZA(),v.qZA(),v.qZA()}if(2&n){const t=e.$implicit;v.xp6(2),v.Q6J("pTooltip",t.title)("image",t.image)("value",t.cantidad),v.xp6(5),v.Oqu(t.cantidad),v.xp6(5),v.hij("",v.xi3(13,5,t.price*t.cantidad,"1.2-2")," ")}}function RS(n,e){if(1&n&&(v.TgZ(0,"tr"),v.TgZ(1,"td"),v.TgZ(2,"h3"),v._uU(3,"Total ="),v.qZA(),v.qZA(),v.TgZ(4,"td",28),v.TgZ(5,"h3"),v._uU(6),v.ALo(7,"number"),v._UZ(8,"i",26),v.qZA(),v.qZA(),v.TgZ(9,"td"),v._UZ(10,"p-button",29),v.qZA(),v.qZA()),2&n){const t=v.oxw(2);v.xp6(6),v.hij("",v.xi3(7,1,t.total,"1.2-2")," ")}}function PS(n,e){if(1&n&&(v.TgZ(0,"p-table",16),v.YNc(1,OS,9,0,"ng-template",17),v.YNc(2,kS,17,8,"ng-template",18),v.YNc(3,RS,11,4,"ng-template",19),v.qZA()),2&n){const t=v.oxw();v.Q6J("value",t.carrito)("paginator",!0)("rows",3)}}let NS=(()=>{class n{constructor(t,r,u,d){this.srvStore=t,this.toast=r,this.firebase=u,this.router=d,this.nombre="",this.apellido="",this.helloUser="",this.carrito=[],this.items=[],this.total=0,this.registrado=!1,this.cantidadCarrito=0}ngOnInit(){this.items=[{label:"Inicio",icon:"pi pi-fw pi-home",routerLink:"home"},{label:"Categorias",icon:"pi pi-fw pi-list",items:[{label:"Ropa de hombre",icon:"pi pi-fw pi-sun",routerLink:"categorias/ropa-hombre"},{label:"Ropa de mujer",icon:"pi pi-fw pi-moon",routerLink:"categorias/ropa-mujer"},{label:"Electronica",icon:"pi pi-fw pi-star",routerLink:"categorias/electronica"},{label:"Joyeria",icon:"pi pi-fw pi-heart",routerLink:"categorias/joyeria"}]}],this.firebase.registrado$.subscribe(t=>{this.registrado=t,1==t?this.helloUser=`Bienvenido, ${this.nombre} ${this.apellido}`:(this.helloUser="",this.registrado=!1)}),this.srvStore.cantidadTotal$.subscribe(t=>this.cantidadCarrito=t),this.srvStore.getCarrito$().subscribe(t=>this.carrito=t),this.srvStore.getNombre$().subscribe(t=>this.nombre=t),this.srvStore.getApellido$().subscribe(t=>this.apellido=t)}calcularTotal(t){this.srvStore.total=0,this.srvStore.calcularTotal(),this.total=this.srvStore.total,0==this.carrito.length&&(t.hide(),this.toast.add({key:"tc",severity:"info",summary:"For continue",detail:"Add something to cart"}))}sumar(t){this.cantidadCarrito++,this.srvStore.cantidadTotal=this.cantidadCarrito,this.srvStore.carrito.filter(r=>t==r?r.cantidad++:null),this.srvStore.calcularTotalItem(),this.calcularTotal()}restar(t){this.cantidadCarrito--,this.srvStore.cantidadTotal=this.cantidadCarrito,t.cantidad>0&&(this.srvStore.carrito.filter((r,u)=>{t==r&&r.cantidad--,0==r.cantidad&&this.srvStore.carrito.splice(u,1)}),this.srvStore.calcularTotalItem(),this.calcularTotal())}eliminar(t){this.srvStore.carrito.filter((u,d)=>{t==u&&this.srvStore.carrito.splice(d,1)});let r=this.cantidadCarrito-t.cantidad;this.srvStore.cantidadTotal=r,this.cantidadCarrito=r,this.srvStore.calcularTotalItem(),this.calcularTotal()}loginToast(t){0==this.firebase.registrado&&this.toast.add({key:"bc",severity:"error",summary:"For continue",detail:"You must log in"}),this.router.navigate(["carrito"]),t.hide()}reset(){this.srvStore.cambiarNombreApellido("",""),this.firebase.registrado$.next(!1),this.firebase.registrado=!1,this.srvStore.carrito=[],this.carrito=[],this.srvStore.setCarrito$(this.carrito),this.srvStore.cantidadTotal$.next(this.carrito.length),this.srvStore.cantidadTotal=this.carrito.length,this.router.navigate(["home"])}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(Sv.d),v.Y36(vh.ez),v.Y36(V0),v.Y36(su.F0))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-navbar"]],features:[v._Bn([vh.ez])],decls:12,vars:6,consts:[[3,"model"],["pTemplate","start"],[1,"flex"],[1,"m-3"],["label","Cart","icon","pi pi-shopping-bag","badgeClass","p-badge-danger",1,"m-1",3,"badge","onClick"],["key","tc","position","top-center"],[3,"showCloseIcon"],["op",""],["pTemplate",""],["position","bottom-left","key","bc"],["out",""],["data-test","btn-left",4,"ngIf","ngIfElse"],["label","Log out","styleClass","p-button-outlined",1,"m-1",3,"onClick"],["data-test","btn-left"],["label","Log in","icon","pi pi-user","styleClass","p-button-outlined","routerLink","login",1,"m-1"],["label","Sign up","icon","pi pi-user-plus","styleClass","p-button-outlined p-button-help","routerLink","sign-up",1,"m-1"],["responsiveLayout","scroll",3,"value","paginator","rows"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["tooltipPosition","left","pBadge","","styleClass","mr-2","size","large",3,"pTooltip","image","value"],[1,"grid"],[1,"col-6","flex","justify-content-center","align-items-center"],[1,"col-6"],["icon","pi pi-plus","styleClass","p-button-rounded p-button-text p-button-sm",3,"onClick"],["icon","pi pi-minus","styleClass","p-button-danger p-button-rounded p-button-text p-button-sm",3,"onClick"],[1,"pi","pi-euro"],["type","button","icon","pi pi-trash","styleClass","p-button-danger p-button-outlined p-button-sm",3,"onClick"],["colspan","2",1,"text-right"],["label","Confirm Buy","routerLink","carrito"]],template:function(t,r){if(1&t){const u=v.EpF();v.TgZ(0,"p-menubar",0),v.YNc(1,MS,3,2,"ng-template",1),v.TgZ(2,"span",2),v.TgZ(3,"h3",3),v._uU(4),v.ALo(5,"titlecase"),v.qZA(),v.TgZ(6,"p-button",4),v.NdJ("onClick",function(g){return v.CHM(u),v.MAs(9).toggle(g)})("onClick",function(){v.CHM(u);const g=v.MAs(9);return r.calcularTotal(g)}),v.qZA(),v.qZA(),v.qZA(),v._UZ(7,"p-toast",5),v.TgZ(8,"p-overlayPanel",6,7),v.YNc(10,PS,4,3,"ng-template",8),v.qZA(),v._UZ(11,"p-toast",9)}2&t&&(v.Q6J("model",r.items),v.xp6(4),v.Oqu(v.lcZ(5,4,r.helloUser)),v.xp6(2),v.s9C("badge",r.cantidadCarrito),v.xp6(2),v.Q6J("showCloseIcon",!0))},directives:[ES.nm,vh.jx,lg.zx,II.FN,TS.T,i.O5,su.rH,EI.iA,IS.q,SS.lM,DS.u],pipes:[i.rS,i.JJ],encapsulation:2}),n})(),FS=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"grid-container","bg-black-alpha-90","text-white","text-center"],[1,"p-1"]],template:function(t,r){1&t&&(v.TgZ(0,"footer"),v.TgZ(1,"div",0),v.TgZ(2,"p",1),v._uU(3,"\xa9 Henry Rivera"),v.qZA(),v.qZA(),v.qZA())},encapsulation:2}),n})(),LS=(()=>{class n{constructor(t){this.primengConfig=t,this.title="projectfun"}ngOnInit(){this.primengConfig.ripple=!0}}return n.\u0275fac=function(t){return new(t||n)(v.Y36(vh.b4))},n.\u0275cmp=v.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"min-h-screen"]],template:function(t,r){1&t&&(v.TgZ(0,"div",0),v._UZ(1,"app-header"),v._UZ(2,"app-navbar"),v._UZ(3,"router-outlet"),v.qZA(),v._UZ(4,"app-footer"))},directives:[CS,NS,su.lC,FS],styles:[""]}),n})();var VS=R(2109),SI=R(208);let DI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[[i.ez,SI.g]]}),n})(),BS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n}),n.\u0275inj=v.cJS({imports:[[i.ez,VS.CategoriesModule,SI.g,DI,Mr.UX]]}),n})();var US=R(520);let HS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=v.oAB({type:n,bootstrap:[LS]}),n.\u0275inj=v.cJS({providers:[],imports:[[Bt.hO.initializeApp(CI_firebase),ZI,Ct,Re,US.JF,bS,BS,DI]]}),n})();(0,v.G48)(),or().bootstrapModule(HS).catch(n=>console.error(n))},5867:(Dt,Ve,R)=>{R.d(Ve,{C6:()=>i.getApps,Mq:()=>i.getApp});var i=R(9681);(0,i.registerVersion)("firebase","9.10.0","app")},127:(Dt,Ve,R)=>{R.d(Ve,{Z:()=>i.Z});var i=R(3942);i.Z.registerVersion("firebase","9.10.0","app-compat")},6583:(Dt,Ve,R)=>{R.r(Ve);var i=R(5861),v=R(3942),z=R(2090),fe=R(9681);function ce(b,p){var m={};for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&p.indexOf(E)<0&&(m[E]=b[E]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var $=0;for(E=Object.getOwnPropertySymbols(b);$<E.length;$++)p.indexOf(E[$])<0&&Object.prototype.propertyIsEnumerable.call(b,E[$])&&(m[E[$]]=b[E[$]])}return m}var mt=R(1877),Qe=R(4859);const Se=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ht=function ct(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},qe=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Jt=new mt.Yd("@firebase/auth");function Jn(b,...p){Jt.logLevel<=mt.in.ERROR&&Jt.error(`Auth (${fe.SDK_VERSION}): ${b}`,...p)}function Tn(b,...p){throw er(b,...p)}function jn(b,...p){return er(b,...p)}function _s(b,p,m){const E=Object.assign(Object.assign({},ht()),{[p]:m});return new z.LL("auth","Firebase",E).create(p,{appName:b.name})}function or(b,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Tn(b,"argument-error"),_s(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function er(b,...p){if("string"!=typeof b){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(m,...E)}return qe.create(b,...p)}function Ct(b,p,...m){if(!b)throw er(p,...m)}function $i(b){const p="INTERNAL ASSERTION FAILED: "+b;throw Jn(p),new Error(p)}function Mi(b,p){b||$i(p)}const ln=new Map;function In(b){Mi(b instanceof Function,"Expected a class definition");let p=ln.get(b);return p?(Mi(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,ln.set(b,p),p)}function gt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function Ue(){return"http:"===Ne()||"https:"===Ne()}function Ne(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class zt{constructor(p,m){this.shortDelay=p,this.longDelay=m,Mi(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return function it(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ue()||(0,z.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pt(b,p){Mi(b.emulator,"Emulator should always be set here");const{url:m}=b.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Wt{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void $i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void $i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void $i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gi=new zt(3e4,6e4);function Ln(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Xt(b,p,m,E){return vi.apply(this,arguments)}function vi(){return(vi=(0,i.Z)(function*(b,p,m,E,$={}){return zn(b,$,(0,i.Z)(function*(){let Q={},Ae={};E&&("GET"===p?Ae=E:Q={body:JSON.stringify(E)});const tt=(0,z.xO)(Object.assign({key:b.config.apiKey},Ae)).slice(1),Rt=yield b._getAdditionalHeaders();return Rt["Content-Type"]="application/json",b.languageCode&&(Rt["X-Firebase-Locale"]=b.languageCode),Wt.fetch()(we(b,b.config.apiHost,m,tt),Object.assign({method:p,headers:Rt,referrerPolicy:"no-referrer"},Q))}))})).apply(this,arguments)}function zn(b,p,m){return on.apply(this,arguments)}function on(){return(on=(0,i.Z)(function*(b,p,m){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},Sn),p);try{const $=new ye(b),Q=yield Promise.race([m(),$.promise]);$.clearNetworkTimeout();const Ae=yield Q.json();if("needConfirmation"in Ae)throw Oe(b,"account-exists-with-different-credential",Ae);if(Q.ok&&!("errorMessage"in Ae))return Ae;{const tt=Q.ok?Ae.errorMessage:Ae.error.message,[Rt,Tt]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rt)throw Oe(b,"credential-already-in-use",Ae);if("EMAIL_EXISTS"===Rt)throw Oe(b,"email-already-in-use",Ae);if("USER_DISABLED"===Rt)throw Oe(b,"user-disabled",Ae);const tn=E[Rt]||Rt.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw _s(b,tn,Tt);Tn(b,tn)}}catch($){if($ instanceof z.ZR)throw $;Tn(b,"network-request-failed")}})).apply(this,arguments)}function Cn(b,p,m,E){return be.apply(this,arguments)}function be(){return(be=(0,i.Z)(function*(b,p,m,E,$={}){const Q=yield Xt(b,p,m,E,$);return"mfaPendingCredential"in Q&&Tn(b,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function we(b,p,m,E){const $=`${p}${m}?${E}`;return b.config.emulator?Pt(b.config,$):`${b.config.apiScheme}://${$}`}class ye{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(jn(this.auth,"network-request-failed")),gi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oe(b,p,m){const E={appName:b.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const $=jn(b,p,E);return $.customData._tokenResponse=m,$}function yt(){return(yt=(0,i.Z)(function*(b,p){return Xt(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Zt(b,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,i.Z)(function*(b,p){return Xt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function bi(b,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,i.Z)(function*(b,p){return Xt(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function pr(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function qt(){return(qt=(0,i.Z)(function*(b,p=!1){const m=(0,z.m9)(b),E=yield m.getIdToken(p),$=Or(E);Ct($&&$.exp&&$.auth_time&&$.iat,m.auth,"internal-error");const Q="object"==typeof $.firebase?$.firebase:void 0,Ae=null==Q?void 0:Q.sign_in_provider;return{claims:$,token:E,authTime:pr(Br($.auth_time)),issuedAtTime:pr(Br($.iat)),expirationTime:pr(Br($.exp)),signInProvider:Ae||null,signInSecondFactor:(null==Q?void 0:Q.sign_in_second_factor)||null}})).apply(this,arguments)}function Br(b){return 1e3*Number(b)}function Or(b){var p;const[m,E,$]=b.split(".");if(void 0===m||void 0===E||void 0===$)return Jn("JWT malformed, contained fewer than 3 sections"),null;try{const Q=(0,z.tV)(E);return Q?JSON.parse(Q):(Jn("Failed to decode base64 JWT payload"),null)}catch(Q){return Jn("Caught error parsing JWT payload as JSON",null===(p=Q)||void 0===p?void 0:p.toString()),null}}function di(b,p){return tr.apply(this,arguments)}function tr(){return(tr=(0,i.Z)(function*(b,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof z.ZR&&Wi(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function Wi({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Qi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const $=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,i.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,i.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(m=E)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class xi{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ji(b){return lr.apply(this,arguments)}function lr(){return(lr=(0,i.Z)(function*(b){var p;const m=b.auth,E=yield b.getIdToken(),$=yield di(b,bi(m,{idToken:E}));Ct(null==$?void 0:$.users.length,m,"internal-error");const Q=$.users[0];b._notifyReloadListener(Q);const Ae=(null===(p=Q.providerUserInfo)||void 0===p?void 0:p.length)?Zs(Q.providerUserInfo):[],tt=mi(b.providerData,Ae),tn=!!b.isAnonymous&&!(b.email&&Q.passwordHash||(null==tt?void 0:tt.length)),cn={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:tt,metadata:new xi(Q.createdAt,Q.lastLoginAt),isAnonymous:tn};Object.assign(b,cn)})).apply(this,arguments)}function os(){return(os=(0,i.Z)(function*(b){const p=(0,z.m9)(b);yield Ji(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function mi(b,p){return[...b.filter(E=>!p.some($=>$.providerId===E.providerId)),...p]}function Zs(b){return b.map(p=>{var{providerId:m}=p,E=ce(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function jt(){return(jt=(0,i.Z)(function*(b,p){const m=yield zn(b,{},(0,i.Z)(function*(){const E=(0,z.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:$,apiKey:Q}=b.config,Ae=we(b,$,"/v1/token",`key=${Q}`),tt=yield b._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",Wt.fetch()(Ae,{method:"POST",headers:tt,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class _n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ct(p.idToken,"internal-error"),Ct(void 0!==p.idToken,"internal-error"),Ct(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function ar(b){const p=Or(b);return Ct(p,"internal-error"),Ct(void 0!==p.exp,"internal-error"),Ct(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,i.Z)(function*(){return Ct(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,i.Z)(function*(){const{accessToken:$,refreshToken:Q,expiresIn:Ae}=yield function Oi(b,p){return jt.apply(this,arguments)}(p,m);E.updateTokensAndExpiration($,Q,Number(Ae))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:$,expirationTime:Q}=m,Ae=new _n;return E&&(Ct("string"==typeof E,"internal-error",{appName:p}),Ae.refreshToken=E),$&&(Ct("string"==typeof $,"internal-error",{appName:p}),Ae.accessToken=$),Q&&(Ct("number"==typeof Q,"internal-error",{appName:p}),Ae.expirationTime=Q),Ae}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new _n,this.toJSON())}_performRefresh(){return $i("not implemented")}}function Wn(b,p){Ct("string"==typeof b||void 0===b,"internal-error",{appName:p})}class hi{constructor(p){var{uid:m,auth:E,stsTokenManager:$}=p,Q=ce(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new xi(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,i.Z)(function*(){const E=yield di(m,m.stsTokenManager.getToken(m.auth,p));return Ct(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function Gi(b){return qt.apply(this,arguments)}(this,p)}reload(){return function kr(b){return os.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ct(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new hi(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,i.Z)(function*(){let $=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),$=!0),m&&(yield Ji(E)),yield E.auth._persistUserIfCurrent(E),$&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,i.Z)(function*(){const m=yield p.getIdToken();return yield di(p,function Me(b,p){return yt.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,$,Q,Ae,tt,Rt,Tt,tn;const cn=null!==(E=m.displayName)&&void 0!==E?E:void 0,ni=null!==($=m.email)&&void 0!==$?$:void 0,xs=null!==(Q=m.phoneNumber)&&void 0!==Q?Q:void 0,Ya=null!==(Ae=m.photoURL)&&void 0!==Ae?Ae:void 0,ed=null!==(tt=m.tenantId)&&void 0!==tt?tt:void 0,Mh=null!==(Rt=m._redirectEventId)&&void 0!==Rt?Rt:void 0,Xf=null!==(Tt=m.createdAt)&&void 0!==Tt?Tt:void 0,Oh=null!==(tn=m.lastLoginAt)&&void 0!==tn?tn:void 0,{uid:jd,emailVerified:td,isAnonymous:zd,providerData:oc,stsTokenManager:is}=m;Ct(jd&&is,p,"internal-error");const Du=_n.fromJSON(this.name,is);Ct("string"==typeof jd,p,"internal-error"),Wn(cn,p.name),Wn(ni,p.name),Ct("boolean"==typeof td,p,"internal-error"),Ct("boolean"==typeof zd,p,"internal-error"),Wn(xs,p.name),Wn(Ya,p.name),Wn(ed,p.name),Wn(Mh,p.name),Wn(Xf,p.name),Wn(Oh,p.name);const Qa=new hi({uid:jd,auth:p,email:ni,emailVerified:td,displayName:cn,isAnonymous:zd,photoURL:Ya,phoneNumber:xs,tenantId:ed,stsTokenManager:Du,createdAt:Xf,lastLoginAt:Oh});return oc&&Array.isArray(oc)&&(Qa.providerData=oc.map($d=>Object.assign({},$d))),Mh&&(Qa._redirectEventId=Mh),Qa}static _fromIdTokenResponse(p,m,E=!1){return(0,i.Z)(function*(){const $=new _n;$.updateFromServerResponse(m);const Q=new hi({uid:m.localId,auth:p,stsTokenManager:$,isAnonymous:E});return yield Ji(Q),Q})()}}const si=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,i.Z)(function*(){return!0})()}_set(m,E){var $=this;return(0,i.Z)(function*(){$.storage[m]=E})()}_get(m){var E=this;return(0,i.Z)(function*(){const $=E.storage[m];return void 0===$?null:$})()}_remove(m){var E=this;return(0,i.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return b.type="NONE",b})();function Bi(b,p,m){return`firebase:${b}:${p}:${m}`}class Xn{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:$,name:Q}=this.auth;this.fullUserKey=Bi(this.userKey,$.apiKey,Q),this.fullPersistenceKey=Bi("persistence",$.apiKey,Q),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,i.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?hi._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,i.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,i.Z)(function*(){if(!m.length)return new Xn(In(si),p,E);const $=(yield Promise.all(m.map(function(){var Tt=(0,i.Z)(function*(tn){if(yield tn._isAvailable())return tn});return function(tn){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let Q=$[0]||In(si);const Ae=Bi(E,p.config.apiKey,p.name);let tt=null;for(const Tt of m)try{const tn=yield Tt._get(Ae);if(tn){const cn=hi._fromJSON(p,tn);Tt!==Q&&(tt=cn),Q=Tt;break}}catch(tn){}const Rt=$.filter(Tt=>Tt._shouldAllowMigration);return Q._shouldAllowMigration&&Rt.length?(Q=Rt[0],tt&&(yield Q._set(Ae,tt.toJSON())),yield Promise.all(m.map(function(){var Tt=(0,i.Z)(function*(tn){if(tn!==Q)try{yield tn._remove(Ae)}catch(cn){}});return function(tn){return Tt.apply(this,arguments)}}())),new Xn(Q,p,E)):new Xn(Q,p,E)})()}}function Di(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Rr(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ns(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ur(p))return"Blackberry";if(Ui(p))return"Webos";if(En(p))return"Safari";if((p.includes("chrome/")||Ur(p))&&!p.includes("edge/"))return"Chrome";if(qi(p))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function Ns(b=(0,z.z$)()){return/firefox\//i.test(b)}function En(b=(0,z.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ur(b=(0,z.z$)()){return/crios\//i.test(b)}function Rr(b=(0,z.z$)()){return/iemobile/i.test(b)}function qi(b=(0,z.z$)()){return/android/i.test(b)}function ur(b=(0,z.z$)()){return/blackberry/i.test(b)}function Ui(b=(0,z.z$)()){return/webos/i.test(b)}function Un(b=(0,z.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Hi(b=(0,z.z$)()){return Un(b)||qi(b)||Ui(b)||ur(b)||/windows phone/i.test(b)||Rr(b)}function gr(b,p=[]){let m;switch(b){case"Browser":m=Di((0,z.z$)());break;case"Worker":m=`${Di((0,z.z$)())}-${b}`;break;default:m=b}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${fe.SDK_VERSION}/${E}`}class Pr{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=Q=>new Promise((Ae,tt)=>{try{Ae(p(Q))}catch(Rt){tt(Rt)}});E.onAbort=m,this.queue.push(E);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,i.Z)(function*(){var E;if(m.auth.currentUser===p)return;const $=[];try{for(const Q of m.queue)yield Q(p),Q.onAbort&&$.push(Q.onAbort)}catch(Q){$.reverse();for(const Ae of $)try{Ae()}catch(tt){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=Q)||void 0===E?void 0:E.message})}})()}}class vs{constructor(p,m,E){this.app=p,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mr(this),this.idTokenSubscription=new mr(this),this.beforeStateQueue=new Pr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=In(m)),this._initializationPromise=this.queue((0,i.Z)(function*(){var $,Q;if(!E._deleted&&(E.persistenceManager=yield Xn.create(E,p),!E._deleted)){if(null===($=E._popupRedirectResolver)||void 0===$?void 0:$._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch(Ae){}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(Q=E.currentUser)||void 0===Q?void 0:Q.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,i.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,i.Z)(function*(){var E;const $=yield m.assertedPersistence.getCurrentUser();let Q=$,Ae=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const tt=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Rt=null==Q?void 0:Q._redirectEventId,Tt=yield m.tryRedirectSignIn(p);(!tt||tt===Rt)&&(null==Tt?void 0:Tt.user)&&(Q=Tt.user,Ae=!0)}if(!Q)return m.directlySetCurrentUser(null);if(!Q._redirectEventId){if(Ae)try{yield m.beforeStateQueue.runMiddleware(Q)}catch(tt){Q=$,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(tt))}return Q?m.reloadAndSetCurrentUserOrClear(Q):m.directlySetCurrentUser(null)}return Ct(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Q._redirectEventId?m.directlySetCurrentUser(Q):m.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(p){var m=this;return(0,i.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch($){yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,i.Z)(function*(){var E;try{yield Ji(p)}catch($){if("auth/network-request-failed"!==(null===(E=$)||void 0===E?void 0:E.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Et(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,i.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,i.Z)(function*(){const E=p?(0,z.m9)(p):null;return E&&Ct(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,i.Z)(function*(){if(!E._deleted)return p&&Ct(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,i.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,i.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,i.Z)(function*(){yield m.assertedPersistence.setPersistence(In(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new z.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,i.Z)(function*(){const $=yield E.getOrInitRedirectPersistenceManager(m);return null===p?$.removeCurrentUser():$.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,i.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&In(p)||m._popupRedirectResolver;Ct(E,m,"argument-error"),m.redirectPersistenceManager=yield Xn.create(m,[In(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,i.Z)(function*(){var E,$;return m._isInitialized&&(yield m.queue((0,i.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===($=m.redirectUser)||void 0===$?void 0:$._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,i.Z)(function*(){if(p===m.currentUser)return m.queue((0,i.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,$){if(this._deleted)return()=>{};const Q="function"==typeof m?m:m.next.bind(m),Ae=this._isInitialized?Promise.resolve():this._initializationPromise;return Ct(Ae,this,"internal-error"),Ae.then(()=>Q(this.currentUser)),"function"==typeof m?p.addObserver(m,E,$):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,i.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=gr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,i.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const $=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return $&&(E["X-Firebase-Client"]=$),E})()}}function oi(b){return(0,z.m9)(b)}class mr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,z.ne)(m=>this.observer=m)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function as(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Ki(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class bs{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return $i("not implemented")}_getIdTokenResponse(p){return $i("not implemented")}_linkToIdToken(p,m){return $i("not implemented")}_getReauthenticationResolver(p){return $i("not implemented")}}function Wr(b,p){return so.apply(this,arguments)}function so(){return(so=(0,i.Z)(function*(b,p){return Xt(b,"POST","/v1/accounts:resetPassword",Ln(b,p))})).apply(this,arguments)}function Fs(b,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,i.Z)(function*(b,p){return Xt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function oo(b,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,i.Z)(function*(b,p){return Xt(b,"POST","/v1/accounts:update",Ln(b,p))})).apply(this,arguments)}function ao(){return(ao=(0,i.Z)(function*(b,p){return Cn(b,"POST","/v1/accounts:signInWithPassword",Ln(b,p))})).apply(this,arguments)}function So(b,p){return ir.apply(this,arguments)}function ir(){return(ir=(0,i.Z)(function*(b,p){return Xt(b,"POST","/v1/accounts:sendOobCode",Ln(b,p))})).apply(this,arguments)}function qs(b,p){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,i.Z)(function*(b,p){return So(b,p)})).apply(this,arguments)}function Pa(b,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,i.Z)(function*(b,p){return So(b,p)})).apply(this,arguments)}function lo(b,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,i.Z)(function*(b,p){return So(b,p)})).apply(this,arguments)}function jo(b,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,i.Z)(function*(b,p){return So(b,p)})).apply(this,arguments)}function ws(){return(ws=(0,i.Z)(function*(b,p){return Cn(b,"POST","/v1/accounts:signInWithEmailLink",Ln(b,p))})).apply(this,arguments)}function Cs(){return(Cs=(0,i.Z)(function*(b,p){return Cn(b,"POST","/v1/accounts:signInWithEmailLink",Ln(b,p))})).apply(this,arguments)}class qr extends bs{constructor(p,m,E,$=null){super("password",E),this._email=p,this._password=m,this._tenantId=$}static _fromEmailAndPassword(p,m){return new qr(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new qr(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,i.Z)(function*(){switch(m.signInMethod){case"password":return function al(b,p){return ao.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function us(b,p){return ws.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Tn(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,i.Z)(function*(){switch(E.signInMethod){case"password":return Fs(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function rr(b,p){return Cs.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:Tn(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Kr(b,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,i.Z)(function*(b,p){return Cn(b,"POST","/v1/accounts:signInWithIdp",Ln(b,p))})).apply(this,arguments)}class Yi extends bs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Yi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Tn("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:$}=m,Q=ce(m,["providerId","signInMethod"]);if(!E||!$)return null;const Ae=new Yi(E,$);return Ae.idToken=Q.idToken||void 0,Ae.accessToken=Q.accessToken||void 0,Ae.secret=Q.secret,Ae.nonce=Q.nonce,Ae.pendingToken=Q.pendingToken||null,Ae}_getIdTokenResponse(p){return Kr(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Kr(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Kr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,z.xO)(m)}return p}}function Yr(b,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,i.Z)(function*(b,p){return Xt(b,"POST","/v1/accounts:sendVerificationCode",Ln(b,p))})).apply(this,arguments)}function Qr(){return(Qr=(0,i.Z)(function*(b,p){return Cn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ln(b,p))})).apply(this,arguments)}function cs(){return(cs=(0,i.Z)(function*(b,p){const m=yield Cn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ln(b,p));if(m.temporaryProof)throw Oe(b,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const zo={USER_NOT_FOUND:"user-not-found"};function co(){return(co=(0,i.Z)(function*(b,p){return Cn(b,"POST","/v1/accounts:signInWithPhoneNumber",Ln(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),zo)})).apply(this,arguments)}class Hn extends bs{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Hn({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Hn({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function ji(b,p){return Qr.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Ys(b,p){return cs.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function xo(b,p){return co.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:$}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:$}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:$,temporaryProof:Q}=p;return E||m||$||Q?new Hn({verificationId:m,verificationCode:E,phoneNumber:$,temporaryProof:Q}):null}}class B{constructor(p){var m,E,$,Q,Ae,tt;const Rt=(0,z.zd)((0,z.pd)(p)),Tt=null!==(m=Rt.apiKey)&&void 0!==m?m:null,tn=null!==(E=Rt.oobCode)&&void 0!==E?E:null,cn=function Ts(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=Rt.mode)&&void 0!==$?$:null);Ct(Tt&&tn&&cn,"argument-error"),this.apiKey=Tt,this.operation=cn,this.code=tn,this.continueUrl=null!==(Q=Rt.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(Ae=Rt.languageCode)&&void 0!==Ae?Ae:null,this.tenantId=null!==(tt=Rt.tenantId)&&void 0!==tt?tt:null}static parseLink(p){const m=function Fi(b){const p=(0,z.zd)((0,z.pd)(b)).link,m=p?(0,z.zd)((0,z.pd)(p)).deep_link_id:null,E=(0,z.zd)((0,z.pd)(b)).deep_link_id;return(E?(0,z.zd)((0,z.pd)(E)).link:null)||E||m||p||b}(p);try{return new B(m)}catch(E){return null}}}let H=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(m,E){return qr._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const $=B.parseLink(E);return Ct($,"argument-error"),qr._fromEmailAndCode(m,$.code,$.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ue{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class xe extends ue{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class lt extends xe{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Ct("providerId"in m&&"signInMethod"in m,"argument-error"),Yi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ct(p.idToken||p.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return lt.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return lt.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:$,pendingToken:Q,nonce:Ae,providerId:tt}=p;if(!E&&!$&&!m&&!Q||!tt)return null;try{return new lt(tt)._credential({idToken:m,accessToken:E,nonce:Ae,pendingToken:Q})}catch(Rt){return null}}}let It=(()=>{class b extends xe{constructor(){super("facebook.com")}static credential(m){return Yi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch(E){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),nn=(()=>{class b extends xe{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Yi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:$}=m;if(!E&&!$)return null;try{return b.credential(E,$)}catch(Q){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),U=(()=>{class b extends xe{constructor(){super("github.com")}static credential(m){return Yi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return b.credential(m.oauthAccessToken)}catch(E){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class O extends bs{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Kr(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Kr(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Kr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:$,pendingToken:Q}=m;return E&&$&&Q&&E===$?new O(E,Q):null}static _create(p,m){return new O(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class et extends ue{constructor(p){Ct(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return et.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return et.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=O.fromJSON(p);return Ct(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return O._create(E,m)}catch($){return null}}}let Nt=(()=>{class b extends xe{constructor(){super("twitter.com")}static credential(m,E){return Yi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:$}=m;if(!E||!$)return null;try{return b.credential(E,$)}catch(Q){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function gn(b,p){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,i.Z)(function*(b,p){return Cn(b,"POST","/v1/accounts:signUp",Ln(b,p))})).apply(this,arguments)}class wi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,$=!1){return(0,i.Z)(function*(){const Q=yield hi._fromIdTokenResponse(p,E,$),Ae=Nr(E);return new wi({user:Q,providerId:Ae,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,i.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const $=Nr(E);return new wi({user:p,providerId:$,_tokenResponse:E,operationType:m})})()}}function Nr(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Qs(){return(Qs=(0,i.Z)(function*(b){var p;const m=oi(b);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new wi({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield gn(m,{returnSecureToken:!0}),$=yield wi._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser($.user),$})).apply(this,arguments)}class ds extends z.ZR{constructor(p,m,E,$){var Q;super(m.code,m.message),this.operationType=E,this.user=$,Object.setPrototypeOf(this,ds.prototype),this.customData={appName:p.name,tenantId:null!==(Q=p.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,$){return new ds(p,m,E,$)}}function Ao(b,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(b):m._getIdTokenResponse(b)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?ds._fromErrorAndOperation(b,Q,p,E):Q})}function ll(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function qn(){return(qn=(0,i.Z)(function*(b,p){const m=(0,z.m9)(b);yield Mo(!0,m,p);const{providerUserInfo:E}=yield Zt(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),$=ll(E||[]);return m.providerData=m.providerData.filter(Q=>$.has(Q.providerId)),$.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ha(b,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,i.Z)(function*(b,p,m=!1){const E=yield di(b,p._linkToIdToken(b.auth,yield b.getIdToken()),m);return wi._forOperation(b,"link",E)})).apply(this,arguments)}function Mo(b,p,m){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,i.Z)(function*(b,p,m){yield Ji(p);const $=!1===b?"provider-already-linked":"no-such-provider";Ct(ll(p.providerData).has(m)===b,p.auth,$)})).apply(this,arguments)}function hs(b,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,i.Z)(function*(b,p,m=!1){var E;const{auth:$}=b,Q="reauthenticate";try{const Ae=yield di(b,Ao($,Q,p,b),m);Ct(Ae.idToken,$,"internal-error");const tt=Or(Ae.idToken);Ct(tt,$,"internal-error");const{sub:Rt}=tt;return Ct(b.uid===Rt,$,"user-mismatch"),wi._forOperation(b,Q,Ae)}catch(Ae){throw"auth/user-not-found"===(null===(E=Ae)||void 0===E?void 0:E.code)&&Tn($,"user-mismatch"),Ae}})).apply(this,arguments)}function Js(b,p){return au.apply(this,arguments)}function au(){return(au=(0,i.Z)(function*(b,p,m=!1){const E="signIn",$=yield Ao(b,E,p),Q=yield wi._fromIdTokenResponse(b,E,$);return m||(yield b._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function jr(b,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,i.Z)(function*(b,p){return Js(oi(b),p)})).apply(this,arguments)}function ho(b,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,i.Z)(function*(b,p){const m=(0,z.m9)(b);return yield Mo(!1,m,p.providerId),ha(m,p)})).apply(this,arguments)}function Xs(b,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,i.Z)(function*(b,p){return hs((0,z.m9)(b),p)})).apply(this,arguments)}function ko(b,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,i.Z)(function*(b,p){return Cn(b,"POST","/v1/accounts:signInWithCustomToken",Ln(b,p))})).apply(this,arguments)}function $o(){return($o=(0,i.Z)(function*(b,p){const m=oi(b),E=yield ko(m,{token:p,returnSecureToken:!0}),$=yield wi._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser($.user),$})).apply(this,arguments)}class pa{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?cl._fromServerResponse(p,m):Tn(p,"internal-error")}}class cl extends pa{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new cl(m)}}function fo(b,p,m){var E;Ct((null===(E=m.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),Ct(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Ct(m.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Ct(m.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function eo(){return(eo=(0,i.Z)(function*(b,p,m){const E=(0,z.m9)(b),$={requestType:"PASSWORD_RESET",email:p};m&&fo(E,$,m),yield Pa(E,$)})).apply(this,arguments)}function Tr(){return(Tr=(0,i.Z)(function*(b,p,m){yield Wr((0,z.m9)(b),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Zo(){return(Zo=(0,i.Z)(function*(b,p){yield oo((0,z.m9)(b),{oobCode:p})})).apply(this,arguments)}function ga(b,p){return ma.apply(this,arguments)}function ma(){return(ma=(0,i.Z)(function*(b,p){const m=(0,z.m9)(b),E=yield Wr(m,{oobCode:p}),$=E.requestType;switch(Ct($,m,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ct(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ct(E.mfaInfo,m,"internal-error");default:Ct(E.email,m,"internal-error")}let Q=null;return E.mfaInfo&&(Q=pa._fromServerResponse(oi(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:Q},operation:$}})).apply(this,arguments)}function La(){return(La=(0,i.Z)(function*(b,p){const{data:m}=yield ga((0,z.m9)(b),p);return m.email})).apply(this,arguments)}function dl(){return(dl=(0,i.Z)(function*(b,p,m){const E=oi(b),$=yield gn(E,{returnSecureToken:!0,email:p,password:m}),Q=yield wi._fromIdTokenResponse(E,"signIn",$);return yield E._updateCurrentUser(Q.user),Q})).apply(this,arguments)}function Bs(){return(Bs=(0,i.Z)(function*(b,p,m){const E=(0,z.m9)(b),$={requestType:"EMAIL_SIGNIN",email:p};Ct(m.handleCodeInApp,E,"argument-error"),m&&fo(E,$,m),yield lo(E,$)})).apply(this,arguments)}function pl(){return(pl=(0,i.Z)(function*(b,p,m){const E=(0,z.m9)(b),$=H.credentialWithLink(p,m||gt());return Ct($._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),jr(E,$)})).apply(this,arguments)}function Ac(b,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,i.Z)(function*(b,p){return Xt(b,"POST","/v1/accounts:createAuthUri",Ln(b,p))})).apply(this,arguments)}function lu(){return(lu=(0,i.Z)(function*(b,p){const E={identifier:p,continueUri:Ue()?gt():"http://localhost"},{signinMethods:$}=yield Ac((0,z.m9)(b),E);return $||[]})).apply(this,arguments)}function Wo(){return(Wo=(0,i.Z)(function*(b,p){const m=(0,z.m9)(b),$={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&fo(m.auth,$,p);const{email:Q}=yield qs(m.auth,$);Q!==b.email&&(yield b.reload())})).apply(this,arguments)}function dr(){return(dr=(0,i.Z)(function*(b,p,m){const E=(0,z.m9)(b),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};m&&fo(E.auth,Q,m);const{email:Ae}=yield jo(E.auth,Q);Ae!==b.email&&(yield b.reload())})).apply(this,arguments)}function Ba(b,p){return po.apply(this,arguments)}function po(){return(po=(0,i.Z)(function*(b,p){return Xt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Us(){return(Us=(0,i.Z)(function*(b,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,z.m9)(b),Q={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Ae=yield di(E,Ba(E.auth,Q));E.displayName=Ae.displayName||null,E.photoURL=Ae.photoUrl||null;const tt=E.providerData.find(({providerId:Rt})=>"password"===Rt);tt&&(tt.displayName=E.displayName,tt.photoURL=E.photoURL),yield E._updateTokensIfNecessary(Ae)})).apply(this,arguments)}function va(b,p,m){return No.apply(this,arguments)}function No(){return(No=(0,i.Z)(function*(b,p,m){const{auth:E}=b,Q={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(Q.email=p),m&&(Q.password=m);const Ae=yield di(b,Fs(E,Q));yield b._updateTokensIfNecessary(Ae,!0)})).apply(this,arguments)}class to{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class cu extends to{constructor(p,m,E,$){super(p,m,E),this.username=$}}class du extends to{constructor(p,m){super(p,"facebook.com",m)}}class Fl extends cu{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class go extends to{constructor(p,m){super(p,"google.com",m)}}class zr extends cu{constructor(p,m,E){super(p,"twitter.com",m,E)}}function ba(b){const{user:p,_tokenResponse:m}=b;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function uu(b){var p,m;if(!b)return null;const{providerId:E}=b,$=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},Q=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&(null==b?void 0:b.idToken)){const Ae=null===(m=null===(p=Or(b.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Ae)return new to(Q,"anonymous"!==Ae&&"custom"!==Ae?Ae:null)}if(!E)return null;switch(E){case"facebook.com":return new du(Q,$);case"github.com":return new Fl(Q,$);case"google.com":return new go(Q,$);case"twitter.com":return new zr(Q,$,b.screenName||null);case"custom":case"anonymous":return new to(Q,null);default:return new to(Q,E,$)}}(m)}class Ss{constructor(p,m,E){this.type=p,this.credential=m,this.auth=E}static _fromIdtoken(p,m){return new Ss("enroll",p,m)}static _fromMfaPendingCredential(p){return new Ss("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ss._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(E=p.multiFactorSession)||void 0===E?void 0:E.idToken)return Ss._fromIdtoken(p.multiFactorSession.idToken)}return null}}class _l{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=oi(p),$=m.customData._serverResponse,Q=($.mfaInfo||[]).map(tt=>pa._fromServerResponse(E,tt));Ct($.mfaPendingCredential,E,"internal-error");const Ae=Ss._fromMfaPendingCredential($.mfaPendingCredential);return new _l(Ae,Q,function(){var tt=(0,i.Z)(function*(Rt){const Tt=yield Rt._process(E,Ae);delete $.mfaInfo,delete $.mfaPendingCredential;const tn=Object.assign(Object.assign({},$),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(m.operationType){case"signIn":const cn=yield wi._fromIdTokenResponse(E,m.operationType,tn);return yield E._updateCurrentUser(cn.user),cn;case"reauthenticate":return Ct(m.user,E,"internal-error"),wi._forOperation(m.user,m.operationType,tn);default:Tn(E,"internal-error")}});return function(Rt){return tt.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,i.Z)(function*(){return m.signInResolver(p)})()}}function Ca(b,p){return Xt(b,"POST","/v2/accounts/mfaEnrollment:start",Ln(b,p))}class M{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>pa._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new M(p)}getSession(){var p=this;return(0,i.Z)(function*(){return Ss._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var E=this;return(0,i.Z)(function*(){const $=p,Q=yield E.getSession(),Ae=yield di(E.user,$._process(E.user.auth,Q,m));return yield E.user._updateTokensIfNecessary(Ae),E.user.reload()})()}unenroll(p){var m=this;return(0,i.Z)(function*(){var E;const $="string"==typeof p?p:p.uid,Q=yield m.user.getIdToken(),Ae=yield di(m.user,function hu(b,p){return Xt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Ln(b,p))}(m.user.auth,{idToken:Q,mfaEnrollmentId:$}));m.enrolledFactors=m.enrolledFactors.filter(({uid:tt})=>tt!==$),yield m.user._updateTokensIfNecessary(Ae);try{yield m.user.reload()}catch(tt){if("auth/user-token-expired"!==(null===(E=tt)||void 0===E?void 0:E.code))throw tt}})()}}const D=new WeakMap,V="__sak";class G{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(V,"1"),this.storage.removeItem(V),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Bt=(()=>{class b extends G{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ae(){const b=(0,z.z$)();return En(b)||Un(b)}()&&function ys(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Hi(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const $=this.storage.getItem(E),Q=this.localCache[E];$!==Q&&m(E,Q,$)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((tt,Rt,Tt)=>{this.notifyListeners(tt,Tt)});const $=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem($);if(m.newValue!==tt)null!==m.newValue?this.storage.setItem($,m.newValue):this.storage.removeItem($);else if(this.localCache[$]===m.newValue&&!E)return}const Q=()=>{const tt=this.storage.getItem($);!E&&this.localCache[$]===tt||this.notifyListeners($,tt)},Ae=this.storage.getItem($);!function ei(){return(0,z.w1)()&&10===document.documentMode}()||Ae===m.newValue||m.newValue===m.oldValue?Q():setTimeout(Q,10)}notifyListeners(m,E){this.localCache[m]=E;const $=this.listeners[m];if($)for(const Q of Array.from($))Q(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var $=()=>super._set,Q=this;return(0,i.Z)(function*(){yield $().call(Q,m,E),Q.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,$=this;return(0,i.Z)(function*(){const Q=yield E().call($,m);return $.localCache[m]=JSON.stringify(Q),Q})()}_remove(m){var E=()=>super._remove,$=this;return(0,i.Z)(function*(){yield E().call($,m),delete $.localCache[m]})()}}return b.type="LOCAL",b})(),rn=(()=>{class b extends G{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return b.type="SESSION",b})();let kn=(()=>{class b{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(Q=>Q.isListeningto(m));if(E)return E;const $=new b(m);return this.receivers.push($),$}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,i.Z)(function*(){const $=m,{eventId:Q,eventType:Ae,data:tt}=$.data,Rt=E.handlersMap[Ae];if(!(null==Rt?void 0:Rt.size))return;$.ports[0].postMessage({status:"ack",eventId:Q,eventType:Ae});const Tt=Array.from(Rt).map(function(){var cn=(0,i.Z)(function*(ni){return ni($.origin,tt)});return function(ni){return cn.apply(this,arguments)}}()),tn=yield function ii(b){return Promise.all(b.map(function(){var p=(0,i.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(Tt);$.ports[0].postMessage({status:"done",eventId:Q,eventType:Ae,response:tn})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function _i(b="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return b+m}class Xr{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var $=this;return(0,i.Z)(function*(){const Q="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let Ae,tt;return new Promise((Rt,Tt)=>{const tn=_i("",20);Q.port1.start();const cn=setTimeout(()=>{Tt(new Error("unsupported_event"))},E);tt={messageChannel:Q,onMessage(ni){const xs=ni;if(xs.data.eventId===tn)switch(xs.data.status){case"ack":clearTimeout(cn),Ae=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ae),Rt(xs.data.response);break;default:clearTimeout(cn),clearTimeout(Ae),Tt(new Error("invalid_response"))}}},$.handlers.add(tt),Q.port1.addEventListener("message",tt.onMessage),$.target.postMessage({eventType:p,eventId:tn,data:m},[Q.port2])}).finally(()=>{tt&&$.removeMessageHandler(tt)})})()}}function pi(){return window}function es(){return void 0!==pi().WorkerGlobalScope&&"function"==typeof pi().importScripts}function yr(){return(yr=(0,i.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const ut="firebaseLocalStorageDb",yl="firebaseLocalStorage",Si="fbase_key";class ai{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Mc(b,p){return b.transaction([yl],p?"readwrite":"readonly").objectStore(yl)}function un(){const b=indexedDB.open(ut,1);return new Promise((p,m)=>{b.addEventListener("error",()=>{m(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(yl,{keyPath:Si})}catch($){m($)}}),b.addEventListener("success",(0,i.Z)(function*(){const E=b.result;E.objectStoreNames.contains(yl)?p(E):(E.close(),yield function Ta(){const b=indexedDB.deleteDatabase(ut);return new ai(b).toPromise()}(),p(yield un()))}))})}function Ll(b,p,m){return xn.apply(this,arguments)}function xn(){return(xn=(0,i.Z)(function*(b,p,m){const E=Mc(b,!0).put({[Si]:p,value:m});return new ai(E).toPromise()})).apply(this,arguments)}function Ko(){return(Ko=(0,i.Z)(function*(b,p){const m=Mc(b,!1).get(p),E=yield new ai(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function gu(b,p){const m=Mc(b,!0).delete(p);return new ai(m).toPromise()}const vl=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,i.Z)(function*(){return m.db||(m.db=yield un()),m.db})()}_withRetries(m){var E=this;return(0,i.Z)(function*(){let $=0;for(;;)try{const Q=yield E._openDb();return yield m(Q)}catch(Q){if($++>3)throw Q;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,i.Z)(function*(){return es()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,i.Z)(function*(){m.receiver=kn._getInstance(function pu(){return es()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,i.Z)(function*($,Q){return{keyProcessed:(yield m._poll()).includes(Q.key)}});return function($,Q){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,i.Z)(function*($,Q){return["keyChanged"]});return function($,Q){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,i.Z)(function*(){var E,$;if(m.activeServiceWorker=yield function $r(){return yr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Xr(m.activeServiceWorker);const Q=yield m.sender._send("ping",{},800);!Q||(null===(E=Q[0])||void 0===E?void 0:E.fulfilled)&&(null===($=Q[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,i.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function fu(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch($){}})()}_isAvailable(){return(0,i.Z)(function*(){try{if(!indexedDB)return!1;const m=yield un();return yield Ll(m,V,"1"),yield gu(m,V),!0}catch(m){}return!1})()}_withPendingWrite(m){var E=this;return(0,i.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var $=this;return(0,i.Z)(function*(){return $._withPendingWrite((0,i.Z)(function*(){return yield $._withRetries(Q=>Ll(Q,m,E)),$.localCache[m]=E,$.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,i.Z)(function*(){const $=yield E._withRetries(Q=>function Oc(b,p){return Ko.apply(this,arguments)}(Q,m));return E.localCache[m]=$,$})()}_remove(m){var E=this;return(0,i.Z)(function*(){return E._withPendingWrite((0,i.Z)(function*(){return yield E._withRetries($=>gu($,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,i.Z)(function*(){const E=yield m._withRetries(Ae=>{const tt=Mc(Ae,!1).getAll();return new ai(tt).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const $=[],Q=new Set;for(const{fbase_key:Ae,value:tt}of E)Q.add(Ae),JSON.stringify(m.localCache[Ae])!==JSON.stringify(tt)&&(m.notifyListeners(Ae,tt),$.push(Ae));for(const Ae of Object.keys(m.localCache))m.localCache[Ae]&&!Q.has(Ae)&&(m.notifyListeners(Ae,null),$.push(Ae));return $})()}notifyListeners(m,E){this.localCache[m]=E;const $=this.listeners[m];if($)for(const Q of Array.from($))Q(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,i.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function kc(b,p){return Xt(b,"POST","/v2/accounts/mfaSignIn:start",Ln(b,p))}function vr(){return(vr=(0,i.Z)(function*(b){return(yield Xt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function bl(b){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=p,E.onerror=$=>{const Q=jn("internal-error");Q.customData=$,m(Q)},E.type="text/javascript",E.charset="UTF-8",function mo(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(E)})}function Zu(b){return`__${b}${Math.floor(1e6*Math.random())}`}const _u=1e12;class fs{constructor(p){this.auth=p,this.counter=_u,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new Rc(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||_u;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||_u))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,i.Z)(function*(){var E;return null===(E=m._widgets.get(p||_u))||void 0===E||E.execute(),""})()}}class Rc{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof p?document.getElementById(p):p;Ct($,"argument-error",{appName:m}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ts(b){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ia=Zu("rcb"),_o=new zt(3e4,6e4);class js{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=pi().grecaptcha)||void 0===p?void 0:p.render)}load(p,m=""){return Ct(function Ul(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(pi().grecaptcha):new Promise((E,$)=>{const Q=pi().setTimeout(()=>{$(jn(p,"network-request-failed"))},_o.get());pi()[Ia]=()=>{pi().clearTimeout(Q),delete pi()[Ia];const tt=pi().grecaptcha;if(!tt)return void $(jn(p,"internal-error"));const Rt=tt.render;tt.render=(Tt,tn)=>{const cn=Rt(Tt,tn);return this.counter++,cn},this.hostLanguage=m,E(tt)},bl(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Ia,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(Q),$(jn(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!!(null===(m=pi().grecaptcha)||void 0===m?void 0:m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wu{load(p){return(0,i.Z)(function*(){return new fs(p)})()}clearedOneInstance(){}}const yu="recaptcha",Hl={theme:"light",type:"image"};class Dd{constructor(p,m=Object.assign({},Hl),E){this.parameters=m,this.type=yu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=oi(E),this.isInvisible="invisible"===this.parameters.size,Ct("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof p?document.getElementById(p):p;Ct($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wu:new js,this.validateStartingState()}verify(){var p=this;return(0,i.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(Q=>{const Ae=tt=>{!tt||(p.tokenChangeListeners.delete(Ae),Q(tt))};p.tokenChangeListeners.add(Ae),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ct(!this.parameters.sitekey,this.auth,"argument-error"),Ct(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ct("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=pi()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){Ct(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,i.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,i.Z)(function*(){Ct(Ue()&&!es(),p.auth,"internal-error"),yield function qu(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Hs(b){return vr.apply(this,arguments)}(p.auth);Ct(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Ct(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wl{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Hn._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Sa(){return(Sa=(0,i.Z)(function*(b,p,m){const E=oi(b),$=yield vu(E,p,(0,z.m9)(m));return new wl($,Q=>jr(E,Q))})).apply(this,arguments)}function za(){return(za=(0,i.Z)(function*(b,p,m){const E=(0,z.m9)(b);yield Mo(!1,E,"phone");const $=yield vu(E.auth,p,(0,z.m9)(m));return new wl($,Q=>ho(E,Q))})).apply(this,arguments)}function Fo(){return(Fo=(0,i.Z)(function*(b,p,m){const E=(0,z.m9)(b),$=yield vu(E.auth,p,(0,z.m9)(m));return new wl($,Q=>Xs(E,Q))})).apply(this,arguments)}function vu(b,p,m){return Da.apply(this,arguments)}function Da(){return(Da=(0,i.Z)(function*(b,p,m){var E;const $=yield m.verify();try{let Q;if(Ct("string"==typeof $,b,"argument-error"),Ct(m.type===yu,b,"argument-error"),Q="string"==typeof p?{phoneNumber:p}:p,"session"in Q){const Ae=Q.session;if("phoneNumber"in Q)return Ct("enroll"===Ae.type,b,"internal-error"),(yield Ca(b,{idToken:Ae.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{Ct("signin"===Ae.type,b,"internal-error");const tt=(null===(E=Q.multiFactorHint)||void 0===E?void 0:E.uid)||Q.multiFactorUid;return Ct(tt,b,"missing-multi-factor-info"),(yield kc(b,{mfaPendingCredential:Ae.credential,mfaEnrollmentId:tt,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ae}=yield Yr(b,{phoneNumber:Q.phoneNumber,recaptchaToken:$});return Ae}}finally{m._reset()}})).apply(this,arguments)}function Pc(){return(Pc=(0,i.Z)(function*(b,p){yield ha((0,z.m9)(b),p)})).apply(this,arguments)}let Qo=(()=>{class b{constructor(m){this.providerId=b.PROVIDER_ID,this.auth=oi(m)}verifyPhoneNumber(m,E){return vu(this.auth,m,(0,z.m9)(E))}static credential(m,E){return Hn._fromVerification(m,E)}static credentialFromResult(m){return b.credentialFromTaggedObject(m)}static credentialFromError(m){return b.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:$}=m;return E&&$?Hn._fromTokenResponse(E,$):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function yo(b,p){return p?In(p):(Ct(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Nc extends bs{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Kr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Kr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Kr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function br(b){return Js(b.auth,new Nc(b),b.bypassAuthState)}function P(b){const{auth:p,user:m}=b;return Ct(m,p,"internal-error"),hs(m,new Nc(b),b.bypassAuthState)}function j(b){return se.apply(this,arguments)}function se(){return(se=(0,i.Z)(function*(b){const{auth:p,user:m}=b;return Ct(m,p,"internal-error"),ha(m,new Nc(b),b.bypassAuthState)})).apply(this,arguments)}class _e{constructor(p,m,E,$,Q=!1){this.auth=p,this.resolver=E,this.user=$,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,i.Z)(function*(E,$){p.pendingPromise={resolve:E,reject:$};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(Q){p.reject(Q)}});return function(E,$){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,i.Z)(function*(){const{urlResponse:E,sessionId:$,postBody:Q,tenantId:Ae,error:tt,type:Rt}=p;if(tt)return void m.reject(tt);const Tt={auth:m.auth,requestUri:E,sessionId:$,tenantId:Ae||void 0,postBody:Q||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Rt)(Tt))}catch(tn){m.reject(tn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return br;case"linkViaPopup":case"linkViaRedirect":return j;case"reauthViaPopup":case"reauthViaRedirect":return P;default:Tn(this.auth,"internal-error")}}resolve(p){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ge=new zt(2e3,1e4);function xt(){return(xt=(0,i.Z)(function*(b,p,m){const E=oi(b);or(b,p,ue);const $=yo(E,m);return new yn(E,"signInViaPopup",p,$).executeNotNull()})).apply(this,arguments)}function an(){return(an=(0,i.Z)(function*(b,p,m){const E=(0,z.m9)(b);or(E.auth,p,ue);const $=yo(E.auth,m);return new yn(E.auth,"reauthViaPopup",p,$,E).executeNotNull()})).apply(this,arguments)}function An(){return(An=(0,i.Z)(function*(b,p,m){const E=(0,z.m9)(b);or(E.auth,p,ue);const $=yo(E.auth,m);return new yn(E.auth,"linkViaPopup",p,$,E).executeNotNull()})).apply(this,arguments)}let yn=(()=>{class b extends _e{constructor(m,E,$,Q,Ae){super(m,E,Q,Ae),this.provider=$,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var m=this;return(0,i.Z)(function*(){const E=yield m.execute();return Ct(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,i.Z)(function*(){Mi(1===m.filter.length,"Popup operations only handle one event");const E=_i();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch($=>{m.reject($)}),m.resolver._isIframeWebStorageSupported(m.auth,$=>{$||m.reject(jn(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,$;this.pollId=(null===($=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===$?void 0:$.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Ge.get())};m()}}return b.currentPopupAction=null,b})();const Ir=new Map;class $a extends _e{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,i.Z)(function*(){let E=Ir.get(m.auth._key());if(!E){try{const Q=(yield function Cl(b,p){return Jo.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(Q)}catch($){E=()=>Promise.reject($)}Ir.set(m.auth._key(),E)}return m.bypassAuthState||Ir.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,i.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const $=yield E.auth._redirectUserForId(p.eventId);if($)return E.user=$,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,i.Z)(function*(){})()}cleanUp(){}}function Jo(){return(Jo=(0,i.Z)(function*(b,p){const m=El(p),E=xa(b);if(!(yield E._isAvailable()))return!1;const $="true"===(yield E._get(m));return yield E._remove(m),$})).apply(this,arguments)}function $l(b,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,i.Z)(function*(b,p){return xa(b)._set(El(p),"true")})).apply(this,arguments)}function bo(b,p){Ir.set(b._key(),p)}function xa(b){return In(b._redirectPersistence)}function El(b){return Bi("pendingRedirect",b.config.apiKey,b.name)}function bu(){return(bu=(0,i.Z)(function*(b,p,m){const E=oi(b);or(b,p,ue);const $=yo(E,m);return yield $l($,E),$._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function wu(){return(wu=(0,i.Z)(function*(b,p,m){const E=(0,z.m9)(b);or(E.auth,p,ue);const $=yo(E.auth,m);yield $l($,E.auth);const Q=yield Ad(E);return $._openRedirect(E.auth,p,"reauthViaRedirect",Q)})).apply(this,arguments)}function Ch(){return(Ch=(0,i.Z)(function*(b,p,m){const E=(0,z.m9)(b);or(E.auth,p,ue);const $=yo(E.auth,m);yield Mo(!1,E,p.providerId),yield $l($,E.auth);const Q=yield Ad(E);return $._openRedirect(E.auth,p,"linkViaRedirect",Q)})).apply(this,arguments)}function Qu(){return(Qu=(0,i.Z)(function*(b,p){return yield oi(b)._initializationPromise,Zl(b,p,!1)})).apply(this,arguments)}function Zl(b,p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,i.Z)(function*(b,p,m=!1){const E=oi(b),$=yo(E,p),Ae=yield new $a(E,$,m).execute();return Ae&&!m&&(delete Ae.user._redirectEventId,yield E._persistUserIfCurrent(Ae.user),yield E._setRedirectUser(null,p)),Ae})).apply(this,arguments)}function Ad(b){return Md.apply(this,arguments)}function Md(){return(Md=(0,i.Z)(function*(b){const p=_i(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class Bc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function dg(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Eh(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!Eh(p)){const $=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(jn(this.auth,$))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Od(p))}saveEventToCache(p){this.cachedEventUids.add(Od(p)),this.lastProcessedEventTime=Date.now()}}function Od(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function Eh({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Ju(b){return kd.apply(this,arguments)}function kd(){return(kd=(0,i.Z)(function*(b,p={}){return Xt(b,"GET","/v1/projects",p)})).apply(this,arguments)}const Tl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xu=/^https?/;function Nf(){return(Nf=(0,i.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Ju(b);for(const m of p)try{if(Gm(m))return}catch(E){}Tn(b,"unauthorized-domain")})).apply(this,arguments)}function Gm(b){const p=gt(),{protocol:m,hostname:E}=new URL(p);if(b.startsWith("chrome-extension://")){const Ae=new URL(b);return""===Ae.hostname&&""===E?"chrome-extension:"===m&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Ae.hostname===E}if(!Xu.test(m))return!1;if(Tl.test(b))return E===b;const $=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(E)}const Uc=new zt(3e4,6e4);function hg(){const b=pi().___jsl;if(null==b?void 0:b.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let m=0;m<b.CP.length;m++)b.CP[m]=null}let Aa=null;function Ff(b){return Aa=Aa||function Wm(b){return new Promise((p,m)=>{var E,$,Q;function Ae(){hg(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{hg(),m(jn(b,"network-request-failed"))},timeout:Uc.get()})}if(null===($=null===(E=pi().gapi)||void 0===E?void 0:E.iframes)||void 0===$?void 0:$.Iframe)p(gapi.iframes.getContext());else{if(!(null===(Q=pi().gapi)||void 0===Q?void 0:Q.load)){const tt=Zu("iframefcb");return pi()[tt]=()=>{gapi.load?Ae():m(jn(b,"network-request-failed"))},bl(`https://apis.google.com/js/api.js?onload=${tt}`).catch(Rt=>m(Rt))}Ae()}}).catch(p=>{throw Aa=null,p})}(b),Aa}const Pd=new zt(5e3,15e3),Vf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N(b){const p=b.config;Ct(p.authDomain,b,"auth-domain-config-required");const m=p.emulator?Pt(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:b.name,v:fe.SDK_VERSION},$=C.get(b.config.apiHost);$&&(E.eid=$);const Q=b._getFrameworks();return Q.length&&(E.fw=Q.join(",")),`${m}?${(0,z.xO)(E).slice(1)}`}function f(){return f=(0,i.Z)(function*(b){const p=yield Ff(b),m=pi().gapi;return Ct(m,b,"internal-error"),p.open({where:document.body,url:N(b),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vf,dontclear:!0},E=>new Promise(function(){var $=(0,i.Z)(function*(Q,Ae){yield E.restyle({setHideOnLeave:!1});const tt=jn(b,"network-request-failed"),Rt=pi().setTimeout(()=>{Ae(tt)},Pd.get());function Tt(){pi().clearTimeout(Rt),Q(E)}E.ping(Tt).then(Tt,()=>{Ae(tt)})});return function(Q,Ae){return $.apply(this,arguments)}}()))}),f.apply(this,arguments)}const y={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vt{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ri(b,p,m,E,$,Q){Ct(b.config.authDomain,b,"auth-domain-config-required"),Ct(b.config.apiKey,b,"invalid-api-key");const Ae={apiKey:b.config.apiKey,appName:b.name,authType:m,redirectUrl:E,v:fe.SDK_VERSION,eventId:$};if(p instanceof ue){p.setDefaultLanguage(b.languageCode),Ae.providerId=p.providerId||"",(0,z.xb)(p.getCustomParameters())||(Ae.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Rt,Tt]of Object.entries(Q||{}))Ae[Rt]=Tt}if(p instanceof xe){const Rt=p.getScopes().filter(Tt=>""!==Tt);Rt.length>0&&(Ae.scopes=Rt.join(","))}b.tenantId&&(Ae.tid=b.tenantId);const tt=Ae;for(const Rt of Object.keys(tt))void 0===tt[Rt]&&delete tt[Rt];return`${function Pi({config:b}){return b.emulator?Pt(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,z.xO)(tt).slice(1)}`}const hr="webStorageSupport";class Za extends class ea{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return $i("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Za(p)}_finalizeEnroll(p,m,E){return function ja(b,p){return Xt(b,"POST","/v2/accounts/mfaEnrollment:finalize",Ln(b,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ki(b,p){return Xt(b,"POST","/v2/accounts/mfaSignIn:finalize",Ln(b,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tu=(()=>{class b{constructor(){}static assertion(m){return Za._fromCredential(m)}}return b.FACTOR_ID="phone",b})();var Ga="@firebase/auth";class Lo{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,i.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{var $;p((null===($=E)||void 0===$?void 0:$.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gl(){return window}function Th(){return(Th=(0,i.Z)(function*(b,p,m){var E;const{BuildInfo:$}=Gl();Mi(p.sessionId,"AuthEvent did not contain a session ID");const Q=yield jc(p.sessionId),Ae={};return Un()?Ae.ibi=$.packageName:qi()?Ae.apn=$.packageName:Tn(b,"operation-not-supported-in-this-environment"),$.displayName&&(Ae.appDisplayName=$.displayName),Ae.sessionId=Q,Ri(b,m,p.type,void 0,null!==(E=p.eventId)&&void 0!==E?E:void 0,Ae)})).apply(this,arguments)}function Uf(){return(Uf=(0,i.Z)(function*(b){const{BuildInfo:p}=Gl(),m={};Un()?m.iosBundleId=p.packageName:qi()?m.androidPackageName=p.packageName:Tn(b,"operation-not-supported-in-this-environment"),yield Ju(b,m)})).apply(this,arguments)}function Nd(){return(Nd=(0,i.Z)(function*(b,p,m){const{cordova:E}=Gl();let $=()=>{};try{yield new Promise((Q,Ae)=>{let tt=null;function Rt(){var cn;Q();const ni=null===(cn=E.plugins.browsertab)||void 0===cn?void 0:cn.close;"function"==typeof ni&&ni(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function Tt(){tt||(tt=window.setTimeout(()=>{Ae(jn(b,"redirect-cancelled-by-user"))},2e3))}function tn(){"visible"===(null==document?void 0:document.visibilityState)&&Tt()}p.addPassiveListener(Rt),document.addEventListener("resume",Tt,!1),qi()&&document.addEventListener("visibilitychange",tn,!1),$=()=>{p.removePassiveListener(Rt),document.removeEventListener("resume",Tt,!1),document.removeEventListener("visibilitychange",tn,!1),tt&&window.clearTimeout(tt)}})}finally{$()}})).apply(this,arguments)}function jc(b){return li.apply(this,arguments)}function li(){return(li=(0,i.Z)(function*(b){const p=zc(b),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function zc(b){if(Mi(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const p=new ArrayBuffer(b.length),m=new Uint8Array(p);for(let E=0;E<b.length;E++)m[E]=b.charCodeAt(E);return m}!function Vi(b){(0,fe._registerComponent)(new Qe.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),$=p.getProvider("heartbeat"),{apiKey:Q,authDomain:Ae}=E.options;return((tt,Rt)=>{Ct(Q&&!Q.includes(":"),"invalid-api-key",{appName:tt.name}),Ct(!(null==Ae?void 0:Ae.includes(":")),"argument-error",{appName:tt.name});const Tt={apiKey:Q,authDomain:Ae,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gr(b)},tn=new vs(tt,Rt,Tt);return function Zi(b,p){const m=(null==p?void 0:p.persistence)||[],E=(Array.isArray(m)?m:[m]).map(In);(null==p?void 0:p.errorMap)&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(E,null==p?void 0:p.popupRedirectResolver)}(tn,m),tn})(E,$)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,fe._registerComponent)(new Qe.wA("auth-internal",p=>{const m=oi(p.getProvider("auth").getImmediate());return new Lo(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)(Ga,"0.20.7",function no(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,fe.registerVersion)(Ga,"0.20.7","esm2017")}("Browser");class Zc extends Bc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,i.Z)(function*(){yield p.initPromise})()}}function Ih(b){return jf.apply(this,arguments)}function jf(){return(jf=(0,i.Z)(function*(b){const p=yield nc()._get(qa(b));return p&&(yield nc()._remove(qa(b))),p})).apply(this,arguments)}function gg(){const b=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const E=Math.floor(Math.random()*p.length);b.push(p.charAt(E))}return b.join("")}function nc(){return In(Bt)}function qa(b){return Bi("authEvent",b.config.apiKey,b.name)}function Fd(b){if(!(null==b?void 0:b.includes("?")))return{};const[p,...m]=b.split("?");return(0,z.zd)(m.join("?"))}function Zf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:jn("no-auth-event")}}function ic(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function Wf(b=(0,z.z$)()){return!("file:"!==ic()&&"ionic:"!==ic()&&"capacitor:"!==ic()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kc(){try{const b=self.localStorage,p=_i();if(b)return b.setItem(p,"1"),b.removeItem(p),!function e_(b=(0,z.z$)()){return function Jm(){return(0,z.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Xm(b=(0,z.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,z.hl)()}catch(b){return rc()&&(0,z.hl)()}return!1}function rc(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Yc(){return(function qc(){return"http:"===ic()||"https:"===ic()}()||(0,z.ru)()||Wf())&&!function qf(){return(0,z.b$)()||(0,z.UG)()}()&&Kc()&&!rc()}function Dh(){return Wf()&&"undefined"!=typeof document}function Iu(){return(Iu=(0,i.Z)(function*(){return!!Dh()&&new Promise(b=>{const p=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),b(!0)})})})).apply(this,arguments)}const ta={LOCAL:"local",NONE:"none",SESSION:"session"},wr=Ct,Su="persistence";function yg(b){return vg.apply(this,arguments)}function vg(){return(vg=(0,i.Z)(function*(b){yield b._initializationPromise;const p=bg(),m=Bi(Su,b.config.apiKey,b.name);p&&p.setItem(m,b._getPersistence())})).apply(this,arguments)}function bg(){var b;try{return(null===(b=function Ld(){return"undefined"!=typeof window?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch(p){return null}}const Ka=Ct;class na{constructor(){this.browserResolver=In(class Il{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rn,this._completeRedirectFn=Zl,this._overrideRedirectResult=bo}_openPopup(p,m,E,$){var Q=this;return(0,i.Z)(function*(){var Ae;Mi(null===(Ae=Q.eventManagers[p._key()])||void 0===Ae?void 0:Ae.manager,"_initialize() not called before _openPopup()");const tt=Ri(p,m,E,gt(),$);return function Lt(b,p,m,E=500,$=600){const Q=Math.max((window.screen.availHeight-$)/2,0).toString(),Ae=Math.max((window.screen.availWidth-E)/2,0).toString();let tt="";const Rt=Object.assign(Object.assign({},y),{width:E.toString(),height:$.toString(),top:Q,left:Ae}),Tt=(0,z.z$)().toLowerCase();m&&(tt=Ur(Tt)?"_blank":m),Ns(Tt)&&(p=p||"http://localhost",Rt.scrollbars="yes");const tn=Object.entries(Rt).reduce((ni,[xs,Ya])=>`${ni}${xs}=${Ya},`,"");if(function Gt(b=(0,z.z$)()){var p;return Un(b)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Tt)&&"_self"!==tt)return function pn(b,p){const m=document.createElement("a");m.href=b,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",tt),new vt(null);const cn=window.open(p||"",tt,tn);Ct(cn,b,"popup-blocked");try{cn.focus()}catch(ni){}return new vt(cn)}(p,tt,_i())})()}_openRedirect(p,m,E,$){var Q=this;return(0,i.Z)(function*(){return yield Q._originValidation(p),function yi(b){pi().location.href=b}(Ri(p,m,E,gt(),$)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:$,promise:Q}=this.eventManagers[m];return $?Promise.resolve($):(Mi(Q,"If manager is not set, promise should be"),Q)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,i.Z)(function*(){const E=yield function l(b){return f.apply(this,arguments)}(p),$=new Bc(p);return E.register("authEvent",Q=>(Ct(null==Q?void 0:Q.authEvent,p,"invalid-auth-event"),{status:$.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:$},m.iframes[p._key()]=E,$})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(hr,{type:hr},$=>{var Q;const Ae=null===(Q=null==$?void 0:$[0])||void 0===Q?void 0:Q[hr];void 0!==Ae&&m(!!Ae),Tn(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Rd(b){return Nf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Hi()||En()||Un()}}),this.cordovaResolver=In(class Km{constructor(){this._redirectPersistence=rn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zl,this._overrideRedirectResult=bo}_initialize(p){var m=this;return(0,i.Z)(function*(){const E=p._key();let $=m.eventManagers.get(E);return $||($=new Zc(p),m.eventManagers.set(E,$),m.attachCallbackListeners(p,$)),$})()}_openPopup(p){Tn(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,E,$){var Q=this;return(0,i.Z)(function*(){!function Hf(b){var p,m,E,$,Q,Ae,tt,Rt,Tt,tn;const cn=Gl();Ct("function"==typeof(null===(p=null==cn?void 0:cn.universalLinks)||void 0===p?void 0:p.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ct(void 0!==(null===(m=null==cn?void 0:cn.BuildInfo)||void 0===m?void 0:m.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ct("function"==typeof(null===(Q=null===($=null===(E=null==cn?void 0:cn.cordova)||void 0===E?void 0:E.plugins)||void 0===$?void 0:$.browsertab)||void 0===Q?void 0:Q.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ct("function"==typeof(null===(Rt=null===(tt=null===(Ae=null==cn?void 0:cn.cordova)||void 0===Ae?void 0:Ae.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===Rt?void 0:Rt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ct("function"==typeof(null===(tn=null===(Tt=null==cn?void 0:cn.cordova)||void 0===Tt?void 0:Tt.InAppBrowser)||void 0===tn?void 0:tn.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Ae=yield Q._initialize(p);yield Ae.initialized(),Ae.resetRedirect(),function Xo(){Ir.clear()}(),yield Q._originValidation(p);const tt=function io(b,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:gg(),postBody:null,tenantId:b.tenantId,error:jn(b,"no-auth-event")}}(p,E,$);yield function Gc(b,p){return nc()._set(qa(b),p)}(p,tt);const Rt=yield function fg(b,p,m){return Th.apply(this,arguments)}(p,tt,m),Tt=yield function tc(b){const{cordova:p}=Gl();return new Promise(m=>{p.plugins.browsertab.isAvailable(E=>{let $=null;E?p.plugins.browsertab.openUrl(b):$=p.InAppBrowser.open(b,function wt(b=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),m($)})})}(Rt);return function Wl(b,p,m){return Nd.apply(this,arguments)}(p,Ae,Tt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function pg(b){return Uf.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:E,handleOpenURL:$,BuildInfo:Q}=Gl(),Ae=setTimeout((0,i.Z)(function*(){yield Ih(p),m.onEvent(Zf())}),500),tt=function(){var tn=(0,i.Z)(function*(cn){clearTimeout(Ae);const ni=yield Ih(p);let xs=null;ni&&(null==cn?void 0:cn.url)&&(xs=function qm(b,p){var m,E;const $=function zf(b){const p=Fd(b),m=p.link?decodeURIComponent(p.link):void 0,E=Fd(m).link,$=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Fd($).link||$||E||m||b}(p);if($.includes("/__/auth/callback")){const Q=Fd($),Ae=Q.firebaseError?function mg(b){try{return JSON.parse(b)}catch(p){return null}}(decodeURIComponent(Q.firebaseError)):null,tt=null===(E=null===(m=null==Ae?void 0:Ae.code)||void 0===m?void 0:m.split("auth/"))||void 0===E?void 0:E[1],Rt=tt?jn(tt):null;return Rt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Rt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:$,postBody:null}}return null}(ni,cn.url)),m.onEvent(xs||Zf())});return function(ni){return tn.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,tt);const Rt=$,Tt=`${Q.packageName.toLowerCase()}://`;Gl().handleOpenURL=function(){var tn=(0,i.Z)(function*(cn){if(cn.toLowerCase().startsWith(Tt)&&tt({url:cn}),"function"==typeof Rt)try{Rt(cn)}catch(ni){console.error(ni)}});return function(cn){return tn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=rn,this._completeRedirectFn=Zl,this._overrideRedirectResult=bo}_initialize(p){var m=this;return(0,i.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,E,$){var Q=this;return(0,i.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openPopup(p,m,E,$)})()}_openRedirect(p,m,E,$){var Q=this;return(0,i.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._openRedirect(p,m,E,$)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Dh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ka(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,i.Z)(function*(){if(p.underlyingResolver)return;const m=yield function _g(){return Iu.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Vd(b){return b.unwrap()}function Yf(b){return Bd(b)}function Bd(b){const{_tokenResponse:p}=b instanceof z.ZR?b.customData:b;if(!p)return null;if(!(b instanceof z.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Qo.credentialFromResult(b);const m=p.providerId;if(!m||"password"===m)return null;let E;switch(m){case"google.com":E=nn;break;case"facebook.com":E=It;break;case"github.com":E=U;break;case"twitter.com":E=Nt;break;default:const{oauthIdToken:$,oauthAccessToken:Q,oauthTokenSecret:Ae,pendingToken:tt,nonce:Rt}=p;return Q||Ae||$||tt?tt?m.startsWith("saml.")?O._create(m,tt):Yi._fromParams({providerId:m,signInMethod:m,pendingToken:tt,idToken:$,accessToken:Q}):new lt(m).credential({idToken:$,accessToken:Q,rawNonce:Rt}):null}return b instanceof z.ZR?E.credentialFromError(b):E.credentialFromResult(b)}function ps(b,p){return p.catch(m=>{throw m instanceof z.ZR&&function Qc(b,p){var m,E;const $=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(E=p)||void 0===E?void 0:E.code))p.resolver=new Ud(b,function zu(b,p){var m;const E=(0,z.m9)(b),$=p;return Ct(p.customData.operationType,E,"argument-error"),Ct(null===(m=$.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),_l._fromError(E,$)}(b,p));else if($){const Q=Bd(p),Ae=p;Q&&(Ae.credential=Q,Ae.tenantId=$.tenantId||void 0,Ae.email=$.email||void 0,Ae.phoneNumber=$.phoneNumber||void 0)}}(b,m),m}).then(m=>{const $=m.user;return{operationType:m.operationType,credential:Yf(m),additionalUserInfo:ba(m),user:Kl.getOrCreate($)}})}function Jc(b,p){return sc.apply(this,arguments)}function sc(){return(sc=(0,i.Z)(function*(b,p){const m=yield p;return{verificationId:m.verificationId,confirm:E=>ps(b,m.confirm(E))}})).apply(this,arguments)}class Ud{constructor(p,m){this.resolver=m,this.auth=function ql(b){return b.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ps(Vd(this.auth),this.resolver.resolveSignIn(p))}}class Kl{constructor(p){this._delegate=p,this.multiFactor=function I(b){const p=(0,z.m9)(b);return D.has(p)||D.set(p,M._fromUser(p)),D.get(p)}(p)}static getOrCreate(p){return Kl.USER_MAP.has(p)||Kl.USER_MAP.set(p,new Kl(p)),Kl.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,i.Z)(function*(){return ps(m.auth,ho(m._delegate,p))})()}linkWithPhoneNumber(p,m){var E=this;return(0,i.Z)(function*(){return Jc(E.auth,function Yo(b,p,m){return za.apply(this,arguments)}(E._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,i.Z)(function*(){return ps(m.auth,function Nn(b,p,m){return An.apply(this,arguments)}(m._delegate,p,na))})()}linkWithRedirect(p){var m=this;return(0,i.Z)(function*(){return yield yg(oi(m.auth)),function Fc(b,p,m){return function Yu(b,p,m){return Ch.apply(this,arguments)}(b,p,m)}(m._delegate,p,na)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,i.Z)(function*(){return ps(m.auth,Xs(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Jc(this.auth,function zl(b,p,m){return Fo.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return ps(this.auth,function $t(b,p,m){return an.apply(this,arguments)}(this._delegate,p,na))}reauthenticateWithRedirect(p){var m=this;return(0,i.Z)(function*(){return yield yg(oi(m.auth)),function xd(b,p,m){return function Pf(b,p,m){return wu.apply(this,arguments)}(b,p,m)}(m._delegate,p,na)})()}sendEmailVerification(p){return function Po(b,p){return Wo.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,i.Z)(function*(){return yield function St(b,p){return qn.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function ya(b,p){return va((0,z.m9)(b),p,null)}(this._delegate,p)}updatePassword(p){return function Nl(b,p){return va((0,z.m9)(b),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Ku(b,p){return Pc.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ii(b,p){return Us.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function _a(b,p,m){return dr.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Kl.USER_MAP=new WeakMap;const ia=Ct;let xh=(()=>{class b{constructor(m,E){if(this.app=m,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=m.options;ia($,"invalid-api-key",{appName:m.name}),ia($,"invalid-api-key",{appName:m.name});const Q="undefined"!=typeof window?na:void 0;this._delegate=E.initialize({options:{persistence:Hd($,m.name),popupRedirectResolver:Q}}),this._delegate._updateErrorMap(Se),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Kl.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,E){!function Er(b,p,m){const E=oi(b);Ct(E._canInitEmulator,E,"emulator-config-failed"),Ct(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const $=!!(null==m?void 0:m.disableWarnings),Q=as(p),{host:Ae,port:tt}=function Gr(b){const p=as(b),m=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(E);if($){const Q=$[1];return{host:Q,port:Ki(E.substr(Q.length+1))}}{const[Q,Ae]=E.split(":");return{host:Q,port:Ki(Ae)}}}(p);E.config.emulator={url:`${Q}//${Ae}${null===tt?"":`:${tt}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:Ae,port:tt,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function Gs(){function b(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,m,E)}applyActionCode(m){return function Ro(b,p){return Zo.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ga(this._delegate,m)}confirmPasswordReset(m,E){return function Vu(b,p,m){return Tr.apply(this,arguments)}(this._delegate,m,E)}createUserWithEmailAndPassword(m,E){var $=this;return(0,i.Z)(function*(){return ps($._delegate,function Go(b,p,m){return dl.apply(this,arguments)}($._delegate,m,E))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Bu(b,p){return lu.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Li(b,p){const m=B.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,i.Z)(function*(){ia(Yc(),m._delegate,"operation-not-supported-in-this-environment");const E=yield function Lc(b,p){return Qu.apply(this,arguments)}(m._delegate,na);return E?ps(m._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Ym(b,p){oi(b)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,E,$){const{next:Q,error:Ae,complete:tt}=Ah(m,E,$);return this._delegate.onAuthStateChanged(Q,Ae,tt)}onIdTokenChanged(m,E,$){const{next:Q,error:Ae,complete:tt}=Ah(m,E,$);return this._delegate.onIdTokenChanged(Q,Ae,tt)}sendSignInLinkToEmail(m,E){return function cr(b,p,m){return Bs.apply(this,arguments)}(this._delegate,m,E)}sendPasswordResetEmail(m,E){return function Fa(b,p,m){return eo.apply(this,arguments)}(this._delegate,m,E||void 0)}setPersistence(m){var E=this;return(0,i.Z)(function*(){let $;switch(function Sl(b,p){wr(Object.values(ta).includes(p),b,"invalid-persistence-type"),(0,z.b$)()?wr(p!==ta.SESSION,b,"unsupported-persistence-type"):(0,z.UG)()?wr(p===ta.NONE,b,"unsupported-persistence-type"):rc()?wr(p===ta.NONE||p===ta.LOCAL&&(0,z.hl)(),b,"unsupported-persistence-type"):wr(p===ta.NONE||Kc(),b,"unsupported-persistence-type")}(E._delegate,m),m){case ta.SESSION:$=rn;break;case ta.LOCAL:$=(yield In(vl)._isAvailable())?vl:Bt;break;case ta.NONE:$=si;break;default:return Tn("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return ps(this._delegate,function Jr(b){return Qs.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return ps(this._delegate,jr(this._delegate,m))}signInWithCustomToken(m){return ps(this._delegate,function ul(b,p){return $o.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,E){return ps(this._delegate,function hl(b,p,m){return jr((0,z.m9)(b),H.credential(p,m))}(this._delegate,m,E))}signInWithEmailLink(m,E){return ps(this._delegate,function fl(b,p,m){return pl.apply(this,arguments)}(this._delegate,m,E))}signInWithPhoneNumber(m,E){return Jc(this._delegate,function jl(b,p,m){return Sa.apply(this,arguments)}(this._delegate,m,E))}signInWithPopup(m){var E=this;return(0,i.Z)(function*(){return ia(Yc(),E._delegate,"operation-not-supported-in-this-environment"),ps(E._delegate,function st(b,p,m){return xt.apply(this,arguments)}(E._delegate,m,na))})()}signInWithRedirect(m){var E=this;return(0,i.Z)(function*(){return ia(Yc(),E._delegate,"operation-not-supported-in-this-environment"),yield yg(E._delegate),function ns(b,p,m){return function Ds(b,p,m){return bu.apply(this,arguments)}(b,p,m)}(E._delegate,m,na)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function Pl(b,p){return La.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=ta,b})();function Ah(b,p,m){let E=b;"function"!=typeof b&&({next:E,error:p,complete:m}=b);const $=E;return{next:Ae=>$(Ae&&Kl.getOrCreate(Ae)),error:p,complete:m}}function Hd(b,p){const m=function Kf(b,p){const m=bg();if(!m)return[];const E=Bi(Su,b,p);switch(m.getItem(E)){case ta.NONE:return[si];case ta.LOCAL:return[vl,rn];case ta.SESSION:return[rn];default:return[]}}(b,p);if("undefined"!=typeof self&&!m.includes(vl)&&m.push(vl),"undefined"!=typeof window)for(const E of[Bt,rn])m.includes(E)||m.push(E);return m.includes(si)||m.push(si),m}class Xc{constructor(){this.providerId="phone",this._delegate=new Qo(Vd(v.Z.auth()))}static credential(p,m){return Qo.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Xc.PHONE_SIGN_IN_METHOD=Qo.PHONE_SIGN_IN_METHOD,Xc.PROVIDER_ID=Qo.PROVIDER_ID;const wg=Ct;class Qf{constructor(p,m,E=v.Z.app()){var $;wg(null===($=E.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Dd(p,m,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Cg(b){b.INTERNAL.registerComponent(new Qe.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),E=p.getProvider("auth");return new xh(m,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:H,FacebookAuthProvider:It,GithubAuthProvider:U,GoogleAuthProvider:nn,OAuthProvider:lt,SAMLAuthProvider:et,PhoneAuthProvider:Xc,PhoneMultiFactorGenerator:Tu,RecaptchaVerifier:Qf,TwitterAuthProvider:Nt,Auth:xh,AuthCredential:bs,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.2.20")}(v.Z)},8306:(Dt,Ve,R)=>{R.d(Ve,{y:()=>K});var i=R(930),v=R(727),z=R(8822),fe=R(4671);var J=R(2416),ce=R(576),de=R(2806);let K=(()=>{class $e{constructor(Ze){Ze&&(this._subscribe=Ze)}lift(Ze){const ze=new $e;return ze.source=this,ze.operator=Ze,ze}subscribe(Ze,ze,re){const Ce=function We($e){return $e&&$e instanceof i.Lv||function te($e){return $e&&(0,ce.m)($e.next)&&(0,ce.m)($e.error)&&(0,ce.m)($e.complete)}($e)&&(0,v.Nn)($e)}(Ze)?Ze:new i.Hp(Ze,ze,re);return(0,de.x)(()=>{const{operator:Ie,source:ke}=this;Ce.add(Ie?Ie.call(Ce,ke):ke?this._subscribe(Ce):this._trySubscribe(Ce))}),Ce}_trySubscribe(Ze){try{return this._subscribe(Ze)}catch(ze){Ze.error(ze)}}forEach(Ze,ze){return new(ze=ee(ze))((re,Ce)=>{let Ie;Ie=this.subscribe(ke=>{try{Ze(ke)}catch(Z){Ce(Z),null==Ie||Ie.unsubscribe()}},Ce,re)})}_subscribe(Ze){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(Ze)}[z.L](){return this}pipe(...Ze){return function Y($e){return 0===$e.length?fe.y:1===$e.length?$e[0]:function(Ze){return $e.reduce((ze,re)=>re(ze),Ze)}}(Ze)(this)}toPromise(Ze){return new(Ze=ee(Ze))((ze,re)=>{let Ce;this.subscribe(Ie=>Ce=Ie,Ie=>re(Ie),()=>ze(Ce))})}}return $e.create=ot=>new $e(ot),$e})();function ee($e){var ot;return null!==(ot=null!=$e?$e:J.v.Promise)&&void 0!==ot?ot:Promise}},7579:(Dt,Ve,R)=>{R.d(Ve,{x:()=>J});var i=R(8306),v=R(727);const fe=(0,R(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=R(8737),Y=R(2806);let J=(()=>{class de extends i.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const te=new ce(this,this);return te.operator=ee,te}_throwIfClosed(){if(this.closed)throw new fe}next(ee){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const te=this.observers.slice();for(const We of te)We.next(ee)}})}error(ee){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:te}=this;for(;te.length;)te.shift().error(ee)}})}complete(){(0,Y.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:te,isStopped:We,observers:$e}=this;return te||We?v.Lc:($e.push(ee),new v.w0(()=>(0,q.P)($e,ee)))}_checkFinalizedStatuses(ee){const{hasError:te,thrownError:We,isStopped:$e}=this;te?ee.error(We):$e&&ee.complete()}asObservable(){const ee=new i.y;return ee.source=this,ee}}return de.create=(K,ee)=>new ce(K,ee),de})();class ce extends J{constructor(K,ee){super(),this.destination=K,this.source=ee}next(K){var ee,te;null===(te=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===te||te.call(ee,K)}error(K){var ee,te;null===(te=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===te||te.call(ee,K)}complete(){var K,ee;null===(ee=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ee||ee.call(K)}_subscribe(K){var ee,te;return null!==(te=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(K))&&void 0!==te?te:v.Lc}}},930:(Dt,Ve,R)=>{R.d(Ve,{Hp:()=>We,Lv:()=>te});var i=R(576),v=R(727),z=R(2416),fe=R(7849),q=R(5032);const Y=de("C",void 0,void 0);function de(re,Ce,Ie){return{kind:re,value:Ce,error:Ie}}var K=R(3410),ee=R(2806);class te extends v.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,v.Nn)(Ce)&&Ce.add(this)):this.destination=ze}static create(Ce,Ie,ke){return new We(Ce,Ie,ke)}next(Ce){this.isStopped?Ze(function ce(re){return de("N",re,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Ze(function J(re){return de("E",void 0,re)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Ze(Y,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class We extends te{constructor(Ce,Ie,ke){let Z;if(super(),(0,i.m)(Ce))Z=Ce;else if(Ce){let ve;({next:Z,error:Ie,complete:ke}=Ce),this&&z.v.useDeprecatedNextContext?(ve=Object.create(Ce),ve.unsubscribe=()=>this.unsubscribe()):ve=Ce,Z=null==Z?void 0:Z.bind(ve),Ie=null==Ie?void 0:Ie.bind(ve),ke=null==ke?void 0:ke.bind(ve)}this.destination={next:Z?$e(Z):q.Z,error:$e(null!=Ie?Ie:ot),complete:ke?$e(ke):q.Z}}}function $e(re,Ce){return(...Ie)=>{try{re(...Ie)}catch(ke){z.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(ke):(0,fe.h)(ke)}}}function ot(re){throw re}function Ze(re,Ce){const{onStoppedNotification:Ie}=z.v;Ie&&K.z.setTimeout(()=>Ie(re,Ce))}const ze={closed:!0,next:q.Z,error:ot,complete:q.Z}},727:(Dt,Ve,R)=>{R.d(Ve,{Lc:()=>Y,w0:()=>q,Nn:()=>J});var i=R(576);const z=(0,R(3888).d)(de=>function(ee){de(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((te,We)=>`${We+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var fe=R(8737);class q{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const $e of ee)$e.remove(this);else ee.remove(this);const{initialTeardown:te}=this;if((0,i.m)(te))try{te()}catch($e){K=$e instanceof z?$e.errors:[$e]}const{_teardowns:We}=this;if(We){this._teardowns=null;for(const $e of We)try{ce($e)}catch(ot){K=null!=K?K:[],ot instanceof z?K=[...K,...ot.errors]:K.push(ot)}}if(K)throw new z(K)}}add(K){var ee;if(K&&K!==this)if(this.closed)ce(K);else{if(K instanceof q){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._teardowns=null!==(ee=this._teardowns)&&void 0!==ee?ee:[]).push(K)}}_hasParent(K){const{_parentage:ee}=this;return ee===K||Array.isArray(ee)&&ee.includes(K)}_addParent(K){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(K),ee):ee?[ee,K]:K}_removeParent(K){const{_parentage:ee}=this;ee===K?this._parentage=null:Array.isArray(ee)&&(0,fe.P)(ee,K)}remove(K){const{_teardowns:ee}=this;ee&&(0,fe.P)(ee,K),K instanceof q&&K._removeParent(this)}}q.EMPTY=(()=>{const de=new q;return de.closed=!0,de})();const Y=q.EMPTY;function J(de){return de instanceof q||de&&"closed"in de&&(0,i.m)(de.remove)&&(0,i.m)(de.add)&&(0,i.m)(de.unsubscribe)}function ce(de){(0,i.m)(de)?de():de.unsubscribe()}},2416:(Dt,Ve,R)=>{R.d(Ve,{v:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(Dt,Ve,R)=>{R.d(Ve,{z:()=>q});var i=R(8189),z=R(3269),fe=R(8996);function q(...Y){return function v(){return(0,i.J)(1)}()((0,fe.D)(Y,(0,z.yG)(Y)))}},515:(Dt,Ve,R)=>{R.d(Ve,{E:()=>v});const v=new(R(8306).y)(q=>q.complete())},8996:(Dt,Ve,R)=>{R.d(Ve,{D:()=>Z});var i=R(8421),v=R(5363),z=R(9468),Y=R(8306),ce=R(2202),de=R(576),K=R(9672);function te(ve,he){if(!ve)throw new Error("Iterable cannot be null");return new Y.y(De=>{(0,K.f)(De,he,()=>{const Be=ve[Symbol.asyncIterator]();(0,K.f)(De,he,()=>{Be.next().then(Ee=>{Ee.done?De.complete():De.next(Ee.value)})},0,!0)})})}var We=R(3670),$e=R(8239),ot=R(1144),Ze=R(6495),ze=R(2206),re=R(4532),Ce=R(3260);function Z(ve,he){return he?function ke(ve,he){if(null!=ve){if((0,We.c)(ve))return function fe(ve,he){return(0,i.Xf)(ve).pipe((0,z.R)(he),(0,v.Q)(he))}(ve,he);if((0,ot.z)(ve))return function J(ve,he){return new Y.y(De=>{let Be=0;return he.schedule(function(){Be===ve.length?De.complete():(De.next(ve[Be++]),De.closed||this.schedule())})})}(ve,he);if((0,$e.t)(ve))return function q(ve,he){return(0,i.Xf)(ve).pipe((0,z.R)(he),(0,v.Q)(he))}(ve,he);if((0,ze.D)(ve))return te(ve,he);if((0,Ze.T)(ve))return function ee(ve,he){return new Y.y(De=>{let Be;return(0,K.f)(De,he,()=>{Be=ve[ce.h](),(0,K.f)(De,he,()=>{let Ee,je;try{({value:Ee,done:je}=Be.next())}catch(nt){return void De.error(nt)}je?De.complete():De.next(Ee)},0,!0)}),()=>(0,de.m)(null==Be?void 0:Be.return)&&Be.return()})}(ve,he);if((0,Ce.L)(ve))return function Ie(ve,he){return te((0,Ce.Q)(ve),he)}(ve,he)}throw(0,re.z)(ve)}(ve,he):(0,i.Xf)(ve)}},8421:(Dt,Ve,R)=>{R.d(Ve,{Xf:()=>We});var i=R(5987),v=R(1144),z=R(8239),fe=R(8306),q=R(3670),Y=R(2206),J=R(4532),ce=R(6495),de=R(3260),K=R(576),ee=R(7849),te=R(8822);function We(ke){if(ke instanceof fe.y)return ke;if(null!=ke){if((0,q.c)(ke))return function $e(ke){return new fe.y(Z=>{const ve=ke[te.L]();if((0,K.m)(ve.subscribe))return ve.subscribe(Z);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ke);if((0,v.z)(ke))return function ot(ke){return new fe.y(Z=>{for(let ve=0;ve<ke.length&&!Z.closed;ve++)Z.next(ke[ve]);Z.complete()})}(ke);if((0,z.t)(ke))return function Ze(ke){return new fe.y(Z=>{ke.then(ve=>{Z.closed||(Z.next(ve),Z.complete())},ve=>Z.error(ve)).then(null,ee.h)})}(ke);if((0,Y.D)(ke))return re(ke);if((0,ce.T)(ke))return function ze(ke){return new fe.y(Z=>{for(const ve of ke)if(Z.next(ve),Z.closed)return;Z.complete()})}(ke);if((0,de.L)(ke))return function Ce(ke){return re((0,de.Q)(ke))}(ke)}throw(0,J.z)(ke)}function re(ke){return new fe.y(Z=>{(function Ie(ke,Z){var ve,he,De,Be;return(0,i.mG)(this,void 0,void 0,function*(){try{for(ve=(0,i.KL)(ke);!(he=yield ve.next()).done;)if(Z.next(he.value),Z.closed)return}catch(Ee){De={error:Ee}}finally{try{he&&!he.done&&(Be=ve.return)&&(yield Be.call(ve))}finally{if(De)throw De.error}}Z.complete()})})(ke,Z).catch(ve=>Z.error(ve))})}},6451:(Dt,Ve,R)=>{R.d(Ve,{T:()=>Y});var i=R(8189),v=R(8421),z=R(515),fe=R(3269),q=R(8996);function Y(...J){const ce=(0,fe.yG)(J),de=(0,fe._6)(J,1/0),K=J;return K.length?1===K.length?(0,v.Xf)(K[0]):(0,i.J)(de)((0,q.D)(K,ce)):z.E}},9646:(Dt,Ve,R)=>{R.d(Ve,{of:()=>z});var i=R(3269),v=R(8996);function z(...fe){const q=(0,i.yG)(fe);return(0,v.D)(fe,q)}},5403:(Dt,Ve,R)=>{R.d(Ve,{Q:()=>v});var i=R(930);class v extends i.Lv{constructor(fe,q,Y,J,ce){super(fe),this.onFinalize=ce,this._next=q?function(de){try{q(de)}catch(K){fe.error(K)}}:super._next,this._error=J?function(de){try{J(de)}catch(K){fe.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=Y?function(){try{Y()}catch(de){fe.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;const{closed:q}=this;super.unsubscribe(),!q&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}},4351:(Dt,Ve,R)=>{R.d(Ve,{b:()=>z});var i=R(5577),v=R(576);function z(fe,q){return(0,v.m)(q)?(0,i.z)(fe,q,1):(0,i.z)(fe,1)}},6590:(Dt,Ve,R)=>{R.d(Ve,{d:()=>z});var i=R(4482),v=R(5403);function z(fe){return(0,i.e)((q,Y)=>{let J=!1;q.subscribe(new v.Q(Y,ce=>{J=!0,Y.next(ce)},()=>{J||Y.next(fe),Y.complete()}))})}},1884:(Dt,Ve,R)=>{R.d(Ve,{x:()=>fe});var i=R(4671),v=R(4482),z=R(5403);function fe(Y,J=i.y){return Y=null!=Y?Y:q,(0,v.e)((ce,de)=>{let K,ee=!0;ce.subscribe(new z.Q(de,te=>{const We=J(te);(ee||!Y(K,We))&&(ee=!1,K=We,de.next(te))}))})}function q(Y,J){return Y===J}},9300:(Dt,Ve,R)=>{R.d(Ve,{h:()=>z});var i=R(4482),v=R(5403);function z(fe,q){return(0,i.e)((Y,J)=>{let ce=0;Y.subscribe(new v.Q(J,de=>fe.call(q,de,ce++)&&J.next(de)))})}},590:(Dt,Ve,R)=>{R.d(Ve,{P:()=>J});var i=R(6805),v=R(9300),z=R(5698),fe=R(6590),q=R(8068),Y=R(4671);function J(ce,de){const K=arguments.length>=2;return ee=>ee.pipe(ce?(0,v.h)((te,We)=>ce(te,We,ee)):Y.y,(0,z.q)(1),K?(0,fe.d)(de):(0,q.T)(()=>new i.K))}},4004:(Dt,Ve,R)=>{R.d(Ve,{U:()=>z});var i=R(4482),v=R(5403);function z(fe,q){return(0,i.e)((Y,J)=>{let ce=0;Y.subscribe(new v.Q(J,de=>{J.next(fe.call(q,de,ce++))}))})}},8189:(Dt,Ve,R)=>{R.d(Ve,{J:()=>z});var i=R(5577),v=R(4671);function z(fe=1/0){return(0,i.z)(v.y,fe)}},5577:(Dt,Ve,R)=>{R.d(Ve,{z:()=>ce});var i=R(4004),v=R(8421),z=R(4482),fe=R(9672),q=R(5403),J=R(576);function ce(de,K,ee=1/0){return(0,J.m)(K)?ce((te,We)=>(0,i.U)(($e,ot)=>K(te,$e,We,ot))((0,v.Xf)(de(te,We))),ee):("number"==typeof K&&(ee=K),(0,z.e)((te,We)=>function Y(de,K,ee,te,We,$e,ot,Ze){const ze=[];let re=0,Ce=0,Ie=!1;const ke=()=>{Ie&&!ze.length&&!re&&K.complete()},Z=he=>re<te?ve(he):ze.push(he),ve=he=>{$e&&K.next(he),re++;let De=!1;(0,v.Xf)(ee(he,Ce++)).subscribe(new q.Q(K,Be=>{null==We||We(Be),$e?Z(Be):K.next(Be)},()=>{De=!0},void 0,()=>{if(De)try{for(re--;ze.length&&re<te;){const Be=ze.shift();ot?(0,fe.f)(K,ot,()=>ve(Be)):ve(Be)}ke()}catch(Be){K.error(Be)}}))};return de.subscribe(new q.Q(K,Z,()=>{Ie=!0,ke()})),()=>{null==Ze||Ze()}}(te,We,de,ee)))}},5363:(Dt,Ve,R)=>{R.d(Ve,{Q:()=>fe});var i=R(9672),v=R(4482),z=R(5403);function fe(q,Y=0){return(0,v.e)((J,ce)=>{J.subscribe(new z.Q(ce,de=>(0,i.f)(ce,q,()=>ce.next(de),Y),()=>(0,i.f)(ce,q,()=>ce.complete(),Y),de=>(0,i.f)(ce,q,()=>ce.error(de),Y)))})}},1520:(Dt,Ve,R)=>{R.d(Ve,{G:()=>z});var i=R(4482),v=R(5403);function z(){return(0,i.e)((fe,q)=>{let Y,J=!1;fe.subscribe(new v.Q(q,ce=>{const de=Y;Y=ce,J&&q.next([de,ce]),J=!0}))})}},5026:(Dt,Ve,R)=>{R.d(Ve,{R:()=>fe});var i=R(4482),v=R(5403);function z(q,Y,J,ce,de){return(K,ee)=>{let te=J,We=Y,$e=0;K.subscribe(new v.Q(ee,ot=>{const Ze=$e++;We=te?q(We,ot,Ze):(te=!0,ot),ce&&ee.next(We)},de&&(()=>{te&&ee.next(We),ee.complete()})))}}function fe(q,Y){return(0,i.e)(z(q,Y,arguments.length>=2,!0))}},3099:(Dt,Ve,R)=>{R.d(Ve,{B:()=>Y});var i=R(8996),v=R(5698),z=R(7579),fe=R(930),q=R(4482);function Y(ce={}){const{connector:de=(()=>new z.x),resetOnError:K=!0,resetOnComplete:ee=!0,resetOnRefCountZero:te=!0}=ce;return We=>{let $e=null,ot=null,Ze=null,ze=0,re=!1,Ce=!1;const Ie=()=>{null==ot||ot.unsubscribe(),ot=null},ke=()=>{Ie(),$e=Ze=null,re=Ce=!1},Z=()=>{const ve=$e;ke(),null==ve||ve.unsubscribe()};return(0,q.e)((ve,he)=>{ze++,!Ce&&!re&&Ie();const De=Ze=null!=Ze?Ze:de();he.add(()=>{ze--,0===ze&&!Ce&&!re&&(ot=J(Z,te))}),De.subscribe(he),$e||($e=new fe.Hp({next:Be=>De.next(Be),error:Be=>{Ce=!0,Ie(),ot=J(ke,K,Be),De.error(Be)},complete:()=>{re=!0,Ie(),ot=J(ke,ee),De.complete()}}),(0,i.D)(ve).subscribe($e))})(We)}}function J(ce,de,...K){return!0===de?(ce(),null):!1===de?null:de(...K).pipe((0,v.q)(1)).subscribe(()=>ce())}},3151:(Dt,Ve,R)=>{R.d(Ve,{d:()=>q});var i=R(7579),v=R(6063);class z extends i.x{constructor(J=1/0,ce=1/0,de=v.l){super(),this._bufferSize=J,this._windowTime=ce,this._timestampProvider=de,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ce===1/0,this._bufferSize=Math.max(1,J),this._windowTime=Math.max(1,ce)}next(J){const{isStopped:ce,_buffer:de,_infiniteTimeWindow:K,_timestampProvider:ee,_windowTime:te}=this;ce||(de.push(J),!K&&de.push(ee.now()+te)),this._trimBuffer(),super.next(J)}_subscribe(J){this._throwIfClosed(),this._trimBuffer();const ce=this._innerSubscribe(J),{_infiniteTimeWindow:de,_buffer:K}=this,ee=K.slice();for(let te=0;te<ee.length&&!J.closed;te+=de?1:2)J.next(ee[te]);return this._checkFinalizedStatuses(J),ce}_trimBuffer(){const{_bufferSize:J,_timestampProvider:ce,_buffer:de,_infiniteTimeWindow:K}=this,ee=(K?1:2)*J;if(J<1/0&&ee<de.length&&de.splice(0,de.length-ee),!K){const te=ce.now();let We=0;for(let $e=1;$e<de.length&&de[$e]<=te;$e+=2)We=$e;We&&de.splice(0,We+1)}}}var fe=R(3099);function q(Y,J,ce){var de,K;let ee,te=!1;return Y&&"object"==typeof Y?(ee=null!==(de=Y.bufferSize)&&void 0!==de?de:1/0,J=null!==(K=Y.windowTime)&&void 0!==K?K:1/0,te=!!Y.refCount,ce=Y.scheduler):ee=null!=Y?Y:1/0,(0,fe.B)({connector:()=>new z(ee,J,ce),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:te})}},8675:(Dt,Ve,R)=>{R.d(Ve,{O:()=>fe});var i=R(7272),v=R(3269),z=R(4482);function fe(...q){const Y=(0,v.yG)(q);return(0,z.e)((J,ce)=>{(Y?(0,i.z)(q,J,Y):(0,i.z)(q,J)).subscribe(ce)})}},9468:(Dt,Ve,R)=>{R.d(Ve,{R:()=>v});var i=R(4482);function v(z,fe=0){return(0,i.e)((q,Y)=>{Y.add(z.schedule(()=>q.subscribe(Y),fe))})}},3900:(Dt,Ve,R)=>{R.d(Ve,{w:()=>fe});var i=R(8421),v=R(4482),z=R(5403);function fe(q,Y){return(0,v.e)((J,ce)=>{let de=null,K=0,ee=!1;const te=()=>ee&&!de&&ce.complete();J.subscribe(new z.Q(ce,We=>{null==de||de.unsubscribe();let $e=0;const ot=K++;(0,i.Xf)(q(We,ot)).subscribe(de=new z.Q(ce,Ze=>ce.next(Y?Y(We,Ze,ot,$e++):Ze),()=>{de=null,te()}))},()=>{ee=!0,te()}))})}},5698:(Dt,Ve,R)=>{R.d(Ve,{q:()=>fe});var i=R(515),v=R(4482),z=R(5403);function fe(q){return q<=0?()=>i.E:(0,v.e)((Y,J)=>{let ce=0;Y.subscribe(new z.Q(J,de=>{++ce<=q&&(J.next(de),q<=ce&&J.complete())}))})}},8505:(Dt,Ve,R)=>{R.d(Ve,{b:()=>q});var i=R(576),v=R(4482),z=R(5403),fe=R(4671);function q(Y,J,ce){const de=(0,i.m)(Y)||J||ce?{next:Y,error:J,complete:ce}:Y;return de?(0,v.e)((K,ee)=>{var te;null===(te=de.subscribe)||void 0===te||te.call(de);let We=!0;K.subscribe(new z.Q(ee,$e=>{var ot;null===(ot=de.next)||void 0===ot||ot.call(de,$e),ee.next($e)},()=>{var $e;We=!1,null===($e=de.complete)||void 0===$e||$e.call(de),ee.complete()},$e=>{var ot;We=!1,null===(ot=de.error)||void 0===ot||ot.call(de,$e),ee.error($e)},()=>{var $e,ot;We&&(null===($e=de.unsubscribe)||void 0===$e||$e.call(de)),null===(ot=de.finalize)||void 0===ot||ot.call(de)}))}):fe.y}},8068:(Dt,Ve,R)=>{R.d(Ve,{T:()=>fe});var i=R(6805),v=R(4482),z=R(5403);function fe(Y=q){return(0,v.e)((J,ce)=>{let de=!1;J.subscribe(new z.Q(ce,K=>{de=!0,ce.next(K)},()=>de?ce.complete():ce.error(Y())))})}function q(){return new i.K}},4408:(Dt,Ve,R)=>{R.d(Ve,{o:()=>q});var i=R(727);class v extends i.w0{constructor(J,ce){super()}schedule(J,ce=0){return this}}const z={setInterval(...Y){const{delegate:J}=z;return((null==J?void 0:J.setInterval)||setInterval)(...Y)},clearInterval(Y){const{delegate:J}=z;return((null==J?void 0:J.clearInterval)||clearInterval)(Y)},delegate:void 0};var fe=R(8737);class q extends v{constructor(J,ce){super(J,ce),this.scheduler=J,this.work=ce,this.pending=!1}schedule(J,ce=0){if(this.closed)return this;this.state=J;const de=this.id,K=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(K,de,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(K,this.id,ce),this}requestAsyncId(J,ce,de=0){return z.setInterval(J.flush.bind(J,this),de)}recycleAsyncId(J,ce,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return ce;z.clearInterval(ce)}execute(J,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(J,ce);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,ce){let K,de=!1;try{this.work(J)}catch(ee){de=!0,K=ee||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:J,scheduler:ce}=this,{actions:de}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(de,this),null!=J&&(this.id=this.recycleAsyncId(ce,J,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,Ve,R)=>{R.d(Ve,{v:()=>z});var i=R(6063);class v{constructor(q,Y=v.now){this.schedulerActionCtor=q,this.now=Y}schedule(q,Y=0,J){return new this.schedulerActionCtor(this,q).schedule(J,Y)}}v.now=i.l.now;class z extends v{constructor(q,Y=v.now){super(q,Y),this.actions=[],this._active=!1,this._scheduled=void 0}flush(q){const{actions:Y}=this;if(this._active)return void Y.push(q);let J;this._active=!0;do{if(J=q.execute(q.state,q.delay))break}while(q=Y.shift());if(this._active=!1,J){for(;q=Y.shift();)q.unsubscribe();throw J}}}},4986:(Dt,Ve,R)=>{R.d(Ve,{P:()=>fe,z:()=>z});var i=R(4408);const z=new(R(7565).v)(i.o),fe=z},6063:(Dt,Ve,R)=>{R.d(Ve,{l:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},3410:(Dt,Ve,R)=>{R.d(Ve,{z:()=>i});const i={setTimeout(...v){const{delegate:z}=i;return((null==z?void 0:z.setTimeout)||setTimeout)(...v)},clearTimeout(v){const{delegate:z}=i;return((null==z?void 0:z.clearTimeout)||clearTimeout)(v)},delegate:void 0}},2202:(Dt,Ve,R)=>{R.d(Ve,{h:()=>v});const v=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,Ve,R)=>{R.d(Ve,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(Dt,Ve,R)=>{R.d(Ve,{K:()=>v});const v=(0,R(3888).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(Dt,Ve,R)=>{R.d(Ve,{_6:()=>Y,jO:()=>fe,yG:()=>q});var i=R(576),v=R(3532);function z(J){return J[J.length-1]}function fe(J){return(0,i.m)(z(J))?J.pop():void 0}function q(J){return(0,v.K)(z(J))?J.pop():void 0}function Y(J,ce){return"number"==typeof z(J)?J.pop():ce}},4742:(Dt,Ve,R)=>{R.d(Ve,{D:()=>q});const{isArray:i}=Array,{getPrototypeOf:v,prototype:z,keys:fe}=Object;function q(J){if(1===J.length){const ce=J[0];if(i(ce))return{args:ce,keys:null};if(function Y(J){return J&&"object"==typeof J&&v(J)===z}(ce)){const de=fe(ce);return{args:de.map(K=>ce[K]),keys:de}}}return{args:J,keys:null}}},8737:(Dt,Ve,R)=>{function i(v,z){if(v){const fe=v.indexOf(z);0<=fe&&v.splice(fe,1)}}R.d(Ve,{P:()=>i})},3888:(Dt,Ve,R)=>{function i(v){const fe=v(q=>{Error.call(q),q.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}R.d(Ve,{d:()=>i})},1810:(Dt,Ve,R)=>{function i(v,z){return v.reduce((fe,q,Y)=>(fe[q]=z[Y],fe),{})}R.d(Ve,{n:()=>i})},2806:(Dt,Ve,R)=>{R.d(Ve,{O:()=>fe,x:()=>z});var i=R(2416);let v=null;function z(q){if(i.v.useDeprecatedSynchronousErrorHandling){const Y=!v;if(Y&&(v={errorThrown:!1,error:null}),q(),Y){const{errorThrown:J,error:ce}=v;if(v=null,J)throw ce}}else q()}function fe(q){i.v.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=q)}},9672:(Dt,Ve,R)=>{function i(v,z,fe,q=0,Y=!1){const J=z.schedule(function(){fe(),Y?v.add(this.schedule(null,q)):this.unsubscribe()},q);if(v.add(J),!Y)return J}R.d(Ve,{f:()=>i})},4671:(Dt,Ve,R)=>{function i(v){return v}R.d(Ve,{y:()=>i})},1144:(Dt,Ve,R)=>{R.d(Ve,{z:()=>i});const i=v=>v&&"number"==typeof v.length&&"function"!=typeof v},2206:(Dt,Ve,R)=>{R.d(Ve,{D:()=>v});var i=R(576);function v(z){return Symbol.asyncIterator&&(0,i.m)(null==z?void 0:z[Symbol.asyncIterator])}},576:(Dt,Ve,R)=>{function i(v){return"function"==typeof v}R.d(Ve,{m:()=>i})},3670:(Dt,Ve,R)=>{R.d(Ve,{c:()=>z});var i=R(8822),v=R(576);function z(fe){return(0,v.m)(fe[i.L])}},6495:(Dt,Ve,R)=>{R.d(Ve,{T:()=>z});var i=R(2202),v=R(576);function z(fe){return(0,v.m)(null==fe?void 0:fe[i.h])}},8239:(Dt,Ve,R)=>{R.d(Ve,{t:()=>v});var i=R(576);function v(z){return(0,i.m)(null==z?void 0:z.then)}},3260:(Dt,Ve,R)=>{R.d(Ve,{L:()=>fe,Q:()=>z});var i=R(5987),v=R(576);function z(q){return(0,i.FC)(this,arguments,function*(){const J=q.getReader();try{for(;;){const{value:ce,done:de}=yield(0,i.qq)(J.read());if(de)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(ce)}}finally{J.releaseLock()}})}function fe(q){return(0,v.m)(null==q?void 0:q.getReader)}},3532:(Dt,Ve,R)=>{R.d(Ve,{K:()=>v});var i=R(576);function v(z){return z&&(0,i.m)(z.schedule)}},4482:(Dt,Ve,R)=>{R.d(Ve,{A:()=>v,e:()=>z});var i=R(576);function v(fe){return(0,i.m)(null==fe?void 0:fe.lift)}function z(fe){return q=>{if(v(q))return q.lift(function(Y){try{return fe(Y,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Dt,Ve,R)=>{R.d(Ve,{Z:()=>fe});var i=R(4004);const{isArray:v}=Array;function fe(q){return(0,i.U)(Y=>function z(q,Y){return v(Y)?q(...Y):q(Y)}(q,Y))}},5032:(Dt,Ve,R)=>{function i(){}R.d(Ve,{Z:()=>i})},7849:(Dt,Ve,R)=>{R.d(Ve,{h:()=>z});var i=R(2416),v=R(3410);function z(fe){v.z.setTimeout(()=>{const{onUnhandledError:q}=i.v;if(!q)throw fe;q(fe)})}},4532:(Dt,Ve,R)=>{function i(v){return new TypeError(`You provided ${null!==v&&"object"==typeof v?"an invalid object":`'${v}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ve,{z:()=>i})},5987:(Dt,Ve,R)=>{function ce(Ee,je,nt,rt){return new(nt||(nt=Promise))(function(Qe,Ht){function sn(Ye){try{Ot(rt.next(Ye))}catch(Le){Ht(Le)}}function Mt(Ye){try{Ot(rt.throw(Ye))}catch(Le){Ht(Le)}}function Ot(Ye){Ye.done?Qe(Ye.value):function mt(Qe){return Qe instanceof nt?Qe:new nt(function(Ht){Ht(Qe)})}(Ye.value).then(sn,Mt)}Ot((rt=rt.apply(Ee,je||[])).next())})}function ze(Ee){return this instanceof ze?(this.v=Ee,this):new ze(Ee)}function re(Ee,je,nt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var mt,rt=nt.apply(Ee,je||[]),Qe=[];return mt={},Ht("next"),Ht("throw"),Ht("return"),mt[Symbol.asyncIterator]=function(){return this},mt;function Ht(ct){rt[ct]&&(mt[ct]=function(Se){return new Promise(function(ht,qe){Qe.push([ct,Se,ht,qe])>1||sn(ct,Se)})})}function sn(ct,Se){try{!function Mt(ct){ct.value instanceof ze?Promise.resolve(ct.value.v).then(Ot,Ye):Le(Qe[0][2],ct)}(rt[ct](Se))}catch(ht){Le(Qe[0][3],ht)}}function Ot(ct){sn("next",ct)}function Ye(ct){sn("throw",ct)}function Le(ct,Se){ct(Se),Qe.shift(),Qe.length&&sn(Qe[0][0],Qe[0][1])}}function Ie(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var nt,je=Ee[Symbol.asyncIterator];return je?je.call(Ee):(Ee=function te(Ee){var je="function"==typeof Symbol&&Symbol.iterator,nt=je&&Ee[je],rt=0;if(nt)return nt.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&rt>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[rt++],done:!Ee}}};throw new TypeError(je?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),nt={},rt("next"),rt("throw"),rt("return"),nt[Symbol.asyncIterator]=function(){return this},nt);function rt(Qe){nt[Qe]=Ee[Qe]&&function(Ht){return new Promise(function(sn,Mt){!function mt(Qe,Ht,sn,Mt){Promise.resolve(Mt).then(function(Ot){Qe({value:Ot,done:sn})},Ht)}(sn,Mt,(Ht=Ee[Qe](Ht)).done,Ht.value)})}}}R.d(Ve,{FC:()=>re,KL:()=>Ie,mG:()=>ce,qq:()=>ze})},1777:(Dt,Ve,R)=>{R.d(Ve,{IO:()=>ot,LC:()=>v,SB:()=>de,X$:()=>fe,ZE:()=>Ce,ZN:()=>re,_j:()=>i,eR:()=>ee,jt:()=>q,k1:()=>Ie,l3:()=>z,oB:()=>ce,pV:()=>We,vP:()=>J});class i{}class v{}const z="*";function fe(ke,Z){return{type:7,name:ke,definitions:Z,options:{}}}function q(ke,Z=null){return{type:4,styles:Z,timings:ke}}function J(ke,Z=null){return{type:2,steps:ke,options:Z}}function ce(ke){return{type:6,styles:ke,offset:null}}function de(ke,Z,ve){return{type:0,name:ke,styles:Z,options:ve}}function ee(ke,Z,ve=null){return{type:1,expr:ke,animation:Z,options:ve}}function We(ke=null){return{type:9,options:ke}}function ot(ke,Z,ve=null){return{type:11,selector:ke,animation:Z,options:ve}}function ze(ke){Promise.resolve(null).then(ke)}class re{constructor(Z=0,ve=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Z+ve}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Z=>Z()),this._onDoneFns=[])}onStart(Z){this._onStartFns.push(Z)}onDone(Z){this._onDoneFns.push(Z)}onDestroy(Z){this._onDestroyFns.push(Z)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ze(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Z=>Z()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Z=>Z()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Z){this._position=this.totalTime?Z*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Z){const ve="start"==Z?this._onStartFns:this._onDoneFns;ve.forEach(he=>he()),ve.length=0}}class Ce{constructor(Z){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Z;let ve=0,he=0,De=0;const Be=this.players.length;0==Be?ze(()=>this._onFinish()):this.players.forEach(Ee=>{Ee.onDone(()=>{++ve==Be&&this._onFinish()}),Ee.onDestroy(()=>{++he==Be&&this._onDestroy()}),Ee.onStart(()=>{++De==Be&&this._onStart()})}),this.totalTime=this.players.reduce((Ee,je)=>Math.max(Ee,je.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Z=>Z()),this._onDoneFns=[])}init(){this.players.forEach(Z=>Z.init())}onStart(Z){this._onStartFns.push(Z)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Z=>Z()),this._onStartFns=[])}onDone(Z){this._onDoneFns.push(Z)}onDestroy(Z){this._onDestroyFns.push(Z)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Z=>Z.play())}pause(){this.players.forEach(Z=>Z.pause())}restart(){this.players.forEach(Z=>Z.restart())}finish(){this._onFinish(),this.players.forEach(Z=>Z.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Z=>Z.destroy()),this._onDestroyFns.forEach(Z=>Z()),this._onDestroyFns=[])}reset(){this.players.forEach(Z=>Z.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Z){const ve=Z*this.totalTime;this.players.forEach(he=>{const De=he.totalTime?Math.min(1,ve/he.totalTime):1;he.setPosition(De)})}getPosition(){const Z=this.players.reduce((ve,he)=>null===ve||he.totalTime>ve.totalTime?he:ve,null);return null!=Z?Z.getPosition():0}beforeDestroy(){this.players.forEach(Z=>{Z.beforeDestroy&&Z.beforeDestroy()})}triggerCallback(Z){const ve="start"==Z?this._onStartFns:this._onDoneFns;ve.forEach(he=>he()),ve.length=0}}const Ie="!"},9808:(Dt,Ve,R)=>{R.d(Ve,{Do:()=>ke,EM:()=>zo,HT:()=>q,JF:()=>Fi,JJ:()=>jo,K0:()=>J,Mx:()=>En,NF:()=>Hr,O5:()=>wt,PC:()=>Er,PM:()=>ji,S$:()=>ze,V_:()=>K,Ye:()=>Z,b0:()=>Ie,bD:()=>Do,ez:()=>Kr,lw:()=>ce,mk:()=>Ur,mr:()=>Ce,q:()=>z,rS:()=>_r,sg:()=>ur,tP:()=>as,w_:()=>Y});var i=R(5e3);let v=null;function z(){return v}function q(B){v||(v=B)}class Y{}const J=new i.OlP("DocumentToken");let ce=(()=>{class B{historyGo(H){throw new Error("Not implemented")}}return B.\u0275fac=function(H){return new(H||B)},B.\u0275prov=i.Yz7({token:B,factory:function(){return function de(){return(0,i.LFG)(ee)}()},providedIn:"platform"}),B})();const K=new i.OlP("Location Initialized");let ee=(()=>{class B extends ce{constructor(H){super(),this._doc=H,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(H){const ue=z().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("popstate",H,!1),()=>ue.removeEventListener("popstate",H)}onHashChange(H){const ue=z().getGlobalEventTarget(this._doc,"window");return ue.addEventListener("hashchange",H,!1),()=>ue.removeEventListener("hashchange",H)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(H){this.location.pathname=H}pushState(H,ue,xe){te()?this._history.pushState(H,ue,xe):this.location.hash=xe}replaceState(H,ue,xe){te()?this._history.replaceState(H,ue,xe):this.location.hash=xe}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return B.\u0275fac=function(H){return new(H||B)(i.LFG(J))},B.\u0275prov=i.Yz7({token:B,factory:function(){return function We(){return new ee((0,i.LFG)(J))}()},providedIn:"platform"}),B})();function te(){return!!window.history.pushState}function $e(B,oe){if(0==B.length)return oe;if(0==oe.length)return B;let H=0;return B.endsWith("/")&&H++,oe.startsWith("/")&&H++,2==H?B+oe.substring(1):1==H?B+oe:B+"/"+oe}function ot(B){const oe=B.match(/#|\?|$/),H=oe&&oe.index||B.length;return B.slice(0,H-("/"===B[H-1]?1:0))+B.slice(H)}function Ze(B){return B&&"?"!==B[0]?"?"+B:B}let ze=(()=>{class B{historyGo(H){throw new Error("Not implemented")}}return B.\u0275fac=function(H){return new(H||B)},B.\u0275prov=i.Yz7({token:B,factory:function(){return function re(B){const oe=(0,i.LFG)(J).location;return new Ie((0,i.LFG)(ce),oe&&oe.origin||"")}()},providedIn:"root"}),B})();const Ce=new i.OlP("appBaseHref");let Ie=(()=>{class B extends ze{constructor(H,ue){if(super(),this._platformLocation=H,this._removeListenerFns=[],null==ue&&(ue=this._platformLocation.getBaseHrefFromDOM()),null==ue)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ue}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return $e(this._baseHref,H)}path(H=!1){const ue=this._platformLocation.pathname+Ze(this._platformLocation.search),xe=this._platformLocation.hash;return xe&&H?`${ue}${xe}`:ue}pushState(H,ue,xe,lt){const It=this.prepareExternalUrl(xe+Ze(lt));this._platformLocation.pushState(H,ue,It)}replaceState(H,ue,xe,lt){const It=this.prepareExternalUrl(xe+Ze(lt));this._platformLocation.replaceState(H,ue,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var ue,xe;null===(xe=(ue=this._platformLocation).historyGo)||void 0===xe||xe.call(ue,H)}}return B.\u0275fac=function(H){return new(H||B)(i.LFG(ce),i.LFG(Ce,8))},B.\u0275prov=i.Yz7({token:B,factory:B.\u0275fac}),B})(),ke=(()=>{class B extends ze{constructor(H,ue){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=ue&&(this._baseHref=ue)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let ue=this._platformLocation.hash;return null==ue&&(ue="#"),ue.length>0?ue.substring(1):ue}prepareExternalUrl(H){const ue=$e(this._baseHref,H);return ue.length>0?"#"+ue:ue}pushState(H,ue,xe,lt){let It=this.prepareExternalUrl(xe+Ze(lt));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.pushState(H,ue,It)}replaceState(H,ue,xe,lt){let It=this.prepareExternalUrl(xe+Ze(lt));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.replaceState(H,ue,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var ue,xe;null===(xe=(ue=this._platformLocation).historyGo)||void 0===xe||xe.call(ue,H)}}return B.\u0275fac=function(H){return new(H||B)(i.LFG(ce),i.LFG(Ce,8))},B.\u0275prov=i.Yz7({token:B,factory:B.\u0275fac}),B})(),Z=(()=>{class B{constructor(H,ue){this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=H;const xe=this._platformStrategy.getBaseHref();this._platformLocation=ue,this._baseHref=ot(De(xe)),this._platformStrategy.onPopState(lt=>{this._subject.emit({url:this.path(!0),pop:!0,state:lt.state,type:lt.type})})}path(H=!1){return this.normalize(this._platformStrategy.path(H))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(H,ue=""){return this.path()==this.normalize(H+Ze(ue))}normalize(H){return B.stripTrailingSlash(function he(B,oe){return B&&oe.startsWith(B)?oe.substring(B.length):oe}(this._baseHref,De(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._platformStrategy.prepareExternalUrl(H)}go(H,ue="",xe=null){this._platformStrategy.pushState(xe,"",H,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Ze(ue)),xe)}replaceState(H,ue="",xe=null){this._platformStrategy.replaceState(xe,"",H,ue),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Ze(ue)),xe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(H=0){var ue,xe;null===(xe=(ue=this._platformStrategy).historyGo)||void 0===xe||xe.call(ue,H)}onUrlChange(H){this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ue=>{this._notifyUrlChangeListeners(ue.url,ue.state)}))}_notifyUrlChangeListeners(H="",ue){this._urlChangeListeners.forEach(xe=>xe(H,ue))}subscribe(H,ue,xe){return this._subject.subscribe({next:H,error:ue,complete:xe})}}return B.normalizeQueryParams=Ze,B.joinWithSlash=$e,B.stripTrailingSlash=ot,B.\u0275fac=function(H){return new(H||B)(i.LFG(ze),i.LFG(ce))},B.\u0275prov=i.Yz7({token:B,factory:function(){return function ve(){return new Z((0,i.LFG)(ze),(0,i.LFG)(ce))}()},providedIn:"root"}),B})();function De(B){return B.replace(/\/index.html$/,"")}var Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Percent=1]="Percent",Ee[Ee.Currency=2]="Currency",Ee[Ee.Scientific=3]="Scientific",Ee))(),je=(()=>((je=je||{})[je.Zero=0]="Zero",je[je.One=1]="One",je[je.Two=2]="Two",je[je.Few=3]="Few",je[je.Many=4]="Many",je[je.Other=5]="Other",je))(),Qe=(()=>((Qe=Qe||{})[Qe.Decimal=0]="Decimal",Qe[Qe.Group=1]="Group",Qe[Qe.List=2]="List",Qe[Qe.PercentSign=3]="PercentSign",Qe[Qe.PlusSign=4]="PlusSign",Qe[Qe.MinusSign=5]="MinusSign",Qe[Qe.Exponential=6]="Exponential",Qe[Qe.SuperscriptingExponent=7]="SuperscriptingExponent",Qe[Qe.PerMille=8]="PerMille",Qe[Qe.Infinity=9]="Infinity",Qe[Qe.NaN=10]="NaN",Qe[Qe.TimeSeparator=11]="TimeSeparator",Qe[Qe.CurrencyDecimal=12]="CurrencyDecimal",Qe[Qe.CurrencyGroup=13]="CurrencyGroup",Qe))();function Jt(B,oe){const H=(0,i.cg1)(B),ue=H[i.wAp.NumberSymbols][oe];if(void 0===ue){if(oe===Qe.CurrencyDecimal)return H[i.wAp.NumberSymbols][Qe.Decimal];if(oe===Qe.CurrencyGroup)return H[i.wAp.NumberSymbols][Qe.Group]}return ue}const er=i.kL8,di=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function si(B){const oe=parseInt(B);if(isNaN(oe))throw new Error("Invalid integer literal when parsing "+B);return oe}class Bi{}let Di=(()=>{class B extends Bi{constructor(H){super(),this.locale=H}getPluralCategory(H,ue){switch(er(ue||this.locale)(H)){case je.Zero:return"zero";case je.One:return"one";case je.Two:return"two";case je.Few:return"few";case je.Many:return"many";default:return"other"}}}return B.\u0275fac=function(H){return new(H||B)(i.LFG(i.soG))},B.\u0275prov=i.Yz7({token:B,factory:B.\u0275fac}),B})();function En(B,oe){oe=encodeURIComponent(oe);for(const H of B.split(";")){const ue=H.indexOf("="),[xe,lt]=-1==ue?[H,""]:[H.slice(0,ue),H.slice(ue+1)];if(xe.trim()===oe)return decodeURIComponent(lt)}return null}let Ur=(()=>{class B{constructor(H,ue,xe,lt){this._iterableDiffers=H,this._keyValueDiffers=ue,this._ngEl=xe,this._renderer=lt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(H){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof H?H.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(H){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof H?H.split(/\s+/):H,this._rawClass&&((0,i.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const H=this._iterableDiffer.diff(this._rawClass);H&&this._applyIterableChanges(H)}else if(this._keyValueDiffer){const H=this._keyValueDiffer.diff(this._rawClass);H&&this._applyKeyValueChanges(H)}}_applyKeyValueChanges(H){H.forEachAddedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),H.forEachChangedItem(ue=>this._toggleClass(ue.key,ue.currentValue)),H.forEachRemovedItem(ue=>{ue.previousValue&&this._toggleClass(ue.key,!1)})}_applyIterableChanges(H){H.forEachAddedItem(ue=>{if("string"!=typeof ue.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,i.AaK)(ue.item)}`);this._toggleClass(ue.item,!0)}),H.forEachRemovedItem(ue=>this._toggleClass(ue.item,!1))}_applyClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(ue=>this._toggleClass(ue,!0)):Object.keys(H).forEach(ue=>this._toggleClass(ue,!!H[ue])))}_removeClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(ue=>this._toggleClass(ue,!1)):Object.keys(H).forEach(ue=>this._toggleClass(ue,!1)))}_toggleClass(H,ue){(H=H.trim())&&H.split(/\s+/g).forEach(xe=>{ue?this._renderer.addClass(this._ngEl.nativeElement,xe):this._renderer.removeClass(this._ngEl.nativeElement,xe)})}}return B.\u0275fac=function(H){return new(H||B)(i.Y36(i.ZZ4),i.Y36(i.aQg),i.Y36(i.SBq),i.Y36(i.Qsj))},B.\u0275dir=i.lG2({type:B,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),B})();class qi{constructor(oe,H,ue,xe){this.$implicit=oe,this.ngForOf=H,this.index=ue,this.count=xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ur=(()=>{class B{constructor(H,ue,xe){this._viewContainer=H,this._template=ue,this._differs=xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;if(!this._differ&&H)try{this._differ=this._differs.find(H).create(this.ngForTrackBy)}catch(ue){throw new Error(`Cannot find a differ supporting object '${H}' of type '${function Un(B){return B.name||typeof B}(H)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const ue=[];H.forEachOperation((xe,lt,It)=>{if(null==xe.previousIndex){const nn=this._viewContainer.createEmbeddedView(this._template,new qi(null,this._ngForOf,-1,-1),null===It?void 0:It),U=new Ui(xe,nn);ue.push(U)}else if(null==It)this._viewContainer.remove(null===lt?void 0:lt);else if(null!==lt){const nn=this._viewContainer.get(lt);this._viewContainer.move(nn,It);const U=new Ui(xe,nn);ue.push(U)}});for(let xe=0;xe<ue.length;xe++)this._perViewChange(ue[xe].view,ue[xe].record);for(let xe=0,lt=this._viewContainer.length;xe<lt;xe++){const It=this._viewContainer.get(xe);It.context.index=xe,It.context.count=lt,It.context.ngForOf=this._ngForOf}H.forEachIdentityChange(xe=>{this._viewContainer.get(xe.currentIndex).context.$implicit=xe.item})}_perViewChange(H,ue){H.context.$implicit=ue.item}static ngTemplateContextGuard(H,ue){return!0}}return B.\u0275fac=function(H){return new(H||B)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},B.\u0275dir=i.lG2({type:B,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),B})();class Ui{constructor(oe,H){this.record=oe,this.view=H}}let wt=(()=>{class B{constructor(H,ue){this._viewContainer=H,this._context=new Gt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ue}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){ei("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){ei("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,ue){return!0}}return B.\u0275fac=function(H){return new(H||B)(i.Y36(i.s_b),i.Y36(i.Rgc))},B.\u0275dir=i.lG2({type:B,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),B})();class Gt{constructor(){this.$implicit=null,this.ngIf=null}}function ei(B,oe){if(oe&&!oe.createEmbeddedView)throw new Error(`${B} must be a TemplateRef, but received '${(0,i.AaK)(oe)}'.`)}let Er=(()=>{class B{constructor(H,ue,xe){this._ngEl=H,this._differs=ue,this._renderer=xe,this._ngStyle=null,this._differ=null}set ngStyle(H){this._ngStyle=H,!this._differ&&H&&(this._differ=this._differs.find(H).create())}ngDoCheck(){if(this._differ){const H=this._differ.diff(this._ngStyle);H&&this._applyChanges(H)}}_setStyle(H,ue){const[xe,lt]=H.split(".");null!=(ue=null!=ue&&lt?`${ue}${lt}`:ue)?this._renderer.setStyle(this._ngEl.nativeElement,xe,ue):this._renderer.removeStyle(this._ngEl.nativeElement,xe)}_applyChanges(H){H.forEachRemovedItem(ue=>this._setStyle(ue.key,null)),H.forEachAddedItem(ue=>this._setStyle(ue.key,ue.currentValue)),H.forEachChangedItem(ue=>this._setStyle(ue.key,ue.currentValue))}}return B.\u0275fac=function(H){return new(H||B)(i.Y36(i.SBq),i.Y36(i.aQg),i.Y36(i.Qsj))},B.\u0275dir=i.lG2({type:B,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),B})(),as=(()=>{class B{constructor(H){this._viewContainerRef=H,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(H){if(H.ngTemplateOutlet){const ue=this._viewContainerRef;this._viewRef&&ue.remove(ue.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ue.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&H.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return B.\u0275fac=function(H){return new(H||B)(i.Y36(i.s_b))},B.\u0275dir=i.lG2({type:B,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[i.TTD]}),B})();function Ki(B,oe){return Error(`InvalidPipeArgument: '${oe}' for pipe '${(0,i.AaK)(B)}'`)}const oo=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let _r=(()=>{class B{transform(H){if(null==H)return null;if("string"!=typeof H)throw Ki(B,H);return H.replace(oo,ue=>ue[0].toUpperCase()+ue.substr(1).toLowerCase())}}return B.\u0275fac=function(H){return new(H||B)},B.\u0275pipe=i.Yjl({name:"titlecase",type:B,pure:!0}),B})(),jo=(()=>{class B{constructor(H){this._locale=H}transform(H,ue,xe){if(!function ws(B){return!(null==B||""===B||B!=B)}(H))return null;xe=xe||this._locale;try{return function jt(B,oe,H){return function mi(B,oe,H,ue,xe,lt,It=!1){let nn="",U=!1;if(isFinite(B)){let L=function hi(B){let ue,xe,lt,It,nn,oe=Math.abs(B)+"",H=0;for((xe=oe.indexOf("."))>-1&&(oe=oe.replace(".","")),(lt=oe.search(/e/i))>0?(xe<0&&(xe=lt),xe+=+oe.slice(lt+1),oe=oe.substring(0,lt)):xe<0&&(xe=oe.length),lt=0;"0"===oe.charAt(lt);lt++);if(lt===(nn=oe.length))ue=[0],xe=1;else{for(nn--;"0"===oe.charAt(nn);)nn--;for(xe-=lt,ue=[],It=0;lt<=nn;lt++,It++)ue[It]=Number(oe.charAt(lt))}return xe>22&&(ue=ue.splice(0,21),H=xe-1,xe=1),{digits:ue,exponent:H,integerLen:xe}}(B);It&&(L=function Wn(B){if(0===B.digits[0])return B;const oe=B.digits.length-B.integerLen;return B.exponent?B.exponent+=2:(0===oe?B.digits.push(0,0):1===oe&&B.digits.push(0),B.integerLen+=2),B}(L));let O=oe.minInt,ne=oe.minFrac,et=oe.maxFrac;if(lt){const Jr=lt.match(di);if(null===Jr)throw new Error(`${lt} is not a valid digit info`);const Qs=Jr[1],ds=Jr[3],Ao=Jr[5];null!=Qs&&(O=si(Qs)),null!=ds&&(ne=si(ds)),null!=Ao?et=si(Ao):null!=ds&&ne>et&&(et=ne)}!function nr(B,oe,H){if(oe>H)throw new Error(`The minimum number of digits after fraction (${oe}) is higher than the maximum (${H}).`);let ue=B.digits,xe=ue.length-B.integerLen;const lt=Math.min(Math.max(oe,xe),H);let It=lt+B.integerLen,nn=ue[It];if(It>0){ue.splice(Math.max(B.integerLen,It));for(let ne=It;ne<ue.length;ne++)ue[ne]=0}else{xe=Math.max(0,xe),B.integerLen=1,ue.length=Math.max(1,It=lt+1),ue[0]=0;for(let ne=1;ne<It;ne++)ue[ne]=0}if(nn>=5)if(It-1<0){for(let ne=0;ne>It;ne--)ue.unshift(0),B.integerLen++;ue.unshift(1),B.integerLen++}else ue[It-1]++;for(;xe<Math.max(0,lt);xe++)ue.push(0);let U=0!==lt;const L=oe+B.integerLen,O=ue.reduceRight(function(ne,et,Nt,gn){return gn[Nt]=(et+=ne)<10?et:et-10,U&&(0===gn[Nt]&&Nt>=L?gn.pop():U=!1),et>=10?1:0},0);O&&(ue.unshift(O),B.integerLen++)}(L,ne,et);let Nt=L.digits,gn=L.integerLen;const Kt=L.exponent;let wi=[];for(U=Nt.every(Jr=>!Jr);gn<O;gn++)Nt.unshift(0);for(;gn<0;gn++)Nt.unshift(0);gn>0?wi=Nt.splice(gn,Nt.length):(wi=Nt,Nt=[0]);const Nr=[];for(Nt.length>=oe.lgSize&&Nr.unshift(Nt.splice(-oe.lgSize,Nt.length).join(""));Nt.length>oe.gSize;)Nr.unshift(Nt.splice(-oe.gSize,Nt.length).join(""));Nt.length&&Nr.unshift(Nt.join("")),nn=Nr.join(Jt(H,ue)),wi.length&&(nn+=Jt(H,xe)+wi.join("")),Kt&&(nn+=Jt(H,Qe.Exponential)+"+"+Kt)}else nn=Jt(H,Qe.Infinity);return nn=B<0&&!U?oe.negPre+nn+oe.negSuf:oe.posPre+nn+oe.posSuf,nn}(B,function _n(B,oe="-"){const H={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ue=B.split(";"),xe=ue[0],lt=ue[1],It=-1!==xe.indexOf(".")?xe.split("."):[xe.substring(0,xe.lastIndexOf("0")+1),xe.substring(xe.lastIndexOf("0")+1)],nn=It[0],U=It[1]||"";H.posPre=nn.substr(0,nn.indexOf("#"));for(let O=0;O<U.length;O++){const ne=U.charAt(O);"0"===ne?H.minFrac=H.maxFrac=O+1:"#"===ne?H.maxFrac=O+1:H.posSuf+=ne}const L=nn.split(",");if(H.gSize=L[1]?L[1].length:0,H.lgSize=L[2]||L[1]?(L[2]||L[1]).length:0,lt){const O=xe.length-H.posPre.length-H.posSuf.length,ne=lt.indexOf("#");H.negPre=lt.substr(0,ne).replace(/'/g,""),H.negSuf=lt.substr(ne+O).replace(/'/g,"")}else H.negPre=oe+H.posPre,H.negSuf=H.posSuf;return H}(function Jn(B,oe){return(0,i.cg1)(B)[i.wAp.NumberFormats][oe]}(oe,Ee.Decimal),Jt(oe,Qe.MinusSign)),oe,Qe.Group,Qe.Decimal,H)}(function rr(B){if("string"==typeof B&&!isNaN(Number(B)-parseFloat(B)))return Number(B);if("number"!=typeof B)throw new Error(`${B} is not a number`);return B}(H),xe,ue)}catch(lt){throw Ki(B,lt.message)}}}return B.\u0275fac=function(H){return new(H||B)(i.Y36(i.soG,16))},B.\u0275pipe=i.Yjl({name:"number",type:B,pure:!0}),B})();let Kr=(()=>{class B{}return B.\u0275fac=function(H){return new(H||B)},B.\u0275mod=i.oAB({type:B}),B.\u0275inj=i.cJS({providers:[{provide:Bi,useClass:Di}]}),B})();const Do="browser";function Hr(B){return B===Do}function ji(B){return"server"===B}let zo=(()=>{class B{}return B.\u0275prov=(0,i.Yz7)({token:B,providedIn:"root",factory:()=>new xo((0,i.LFG)(J),window)}),B})();class xo{constructor(oe,H){this.document=oe,this.window=H,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(oe){this.supportsScrolling()&&this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){if(!this.supportsScrolling())return;const H=function Hn(B,oe){const H=B.getElementById(oe)||B.getElementsByName(oe)[0];if(H)return H;if("function"==typeof B.createTreeWalker&&B.body&&(B.body.createShadowRoot||B.body.attachShadow)){const ue=B.createTreeWalker(B.body,NodeFilter.SHOW_ELEMENT);let xe=ue.currentNode;for(;xe;){const lt=xe.shadowRoot;if(lt){const It=lt.getElementById(oe)||lt.querySelector(`[name="${oe}"]`);if(It)return It}xe=ue.nextNode()}}return null}(this.document,oe);H&&(this.scrollToElement(H),this.attemptFocus(H))}setHistoryScrollRestoration(oe){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=oe)}}scrollToElement(oe){const H=oe.getBoundingClientRect(),ue=H.left+this.window.pageXOffset,xe=H.top+this.window.pageYOffset,lt=this.offset();this.window.scrollTo(ue-lt[0],xe-lt[1])}attemptFocus(oe){return oe.focus(),this.document.activeElement===oe}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const oe=co(this.window.history)||co(Object.getPrototypeOf(this.window.history));return!(!oe||!oe.writable&&!oe.set)}catch(oe){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(oe){return!1}}}function co(B){return Object.getOwnPropertyDescriptor(B,"scrollRestoration")}class Fi{}},520:(Dt,Ve,R)=>{R.d(Ve,{JF:()=>In,eN:()=>Qe});var i=R(9808),v=R(5e3),z=R(9646),fe=R(8306),q=R(4351),Y=R(9300),J=R(4004);class ce{}class de{}class K{constructor(Ue){this.normalizedNames=new Map,this.lazyUpdate=null,Ue?this.lazyInit="string"==typeof Ue?()=>{this.headers=new Map,Ue.split("\n").forEach(Ne=>{const it=Ne.indexOf(":");if(it>0){const Et=Ne.slice(0,it),zt=Et.toLowerCase(),Pt=Ne.slice(it+1).trim();this.maybeSetNormalizedName(Et,zt),this.headers.has(zt)?this.headers.get(zt).push(Pt):this.headers.set(zt,[Pt])}})}:()=>{this.headers=new Map,Object.keys(Ue).forEach(Ne=>{let it=Ue[Ne];const Et=Ne.toLowerCase();"string"==typeof it&&(it=[it]),it.length>0&&(this.headers.set(Et,it),this.maybeSetNormalizedName(Ne,Et))})}:this.headers=new Map}has(Ue){return this.init(),this.headers.has(Ue.toLowerCase())}get(Ue){this.init();const Ne=this.headers.get(Ue.toLowerCase());return Ne&&Ne.length>0?Ne[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ue){return this.init(),this.headers.get(Ue.toLowerCase())||null}append(Ue,Ne){return this.clone({name:Ue,value:Ne,op:"a"})}set(Ue,Ne){return this.clone({name:Ue,value:Ne,op:"s"})}delete(Ue,Ne){return this.clone({name:Ue,value:Ne,op:"d"})}maybeSetNormalizedName(Ue,Ne){this.normalizedNames.has(Ne)||this.normalizedNames.set(Ne,Ue)}init(){this.lazyInit&&(this.lazyInit instanceof K?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ue=>this.applyUpdate(Ue)),this.lazyUpdate=null))}copyFrom(Ue){Ue.init(),Array.from(Ue.headers.keys()).forEach(Ne=>{this.headers.set(Ne,Ue.headers.get(Ne)),this.normalizedNames.set(Ne,Ue.normalizedNames.get(Ne))})}clone(Ue){const Ne=new K;return Ne.lazyInit=this.lazyInit&&this.lazyInit instanceof K?this.lazyInit:this,Ne.lazyUpdate=(this.lazyUpdate||[]).concat([Ue]),Ne}applyUpdate(Ue){const Ne=Ue.name.toLowerCase();switch(Ue.op){case"a":case"s":let it=Ue.value;if("string"==typeof it&&(it=[it]),0===it.length)return;this.maybeSetNormalizedName(Ue.name,Ne);const Et=("a"===Ue.op?this.headers.get(Ne):void 0)||[];Et.push(...it),this.headers.set(Ne,Et);break;case"d":const zt=Ue.value;if(zt){let Pt=this.headers.get(Ne);if(!Pt)return;Pt=Pt.filter(Wt=>-1===zt.indexOf(Wt)),0===Pt.length?(this.headers.delete(Ne),this.normalizedNames.delete(Ne)):this.headers.set(Ne,Pt)}else this.headers.delete(Ne),this.normalizedNames.delete(Ne)}}forEach(Ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ne=>Ue(this.normalizedNames.get(Ne),this.headers.get(Ne)))}}class ee{encodeKey(Ue){return ot(Ue)}encodeValue(Ue){return ot(Ue)}decodeKey(Ue){return decodeURIComponent(Ue)}decodeValue(Ue){return decodeURIComponent(Ue)}}const We=/%(\d[a-f0-9])/gi,$e={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ot(gt){return encodeURIComponent(gt).replace(We,(Ue,Ne)=>{var it;return null!==(it=$e[Ne])&&void 0!==it?it:Ue})}function Ze(gt){return`${gt}`}class ze{constructor(Ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ue.encoder||new ee,Ue.fromString){if(Ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function te(gt,Ue){const Ne=new Map;return gt.length>0&&gt.replace(/^\?/,"").split("&").forEach(Et=>{const zt=Et.indexOf("="),[Pt,Wt]=-1==zt?[Ue.decodeKey(Et),""]:[Ue.decodeKey(Et.slice(0,zt)),Ue.decodeValue(Et.slice(zt+1))],Sn=Ne.get(Pt)||[];Sn.push(Wt),Ne.set(Pt,Sn)}),Ne}(Ue.fromString,this.encoder)}else Ue.fromObject?(this.map=new Map,Object.keys(Ue.fromObject).forEach(Ne=>{const it=Ue.fromObject[Ne];this.map.set(Ne,Array.isArray(it)?it:[it])})):this.map=null}has(Ue){return this.init(),this.map.has(Ue)}get(Ue){this.init();const Ne=this.map.get(Ue);return Ne?Ne[0]:null}getAll(Ue){return this.init(),this.map.get(Ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ue,Ne){return this.clone({param:Ue,value:Ne,op:"a"})}appendAll(Ue){const Ne=[];return Object.keys(Ue).forEach(it=>{const Et=Ue[it];Array.isArray(Et)?Et.forEach(zt=>{Ne.push({param:it,value:zt,op:"a"})}):Ne.push({param:it,value:Et,op:"a"})}),this.clone(Ne)}set(Ue,Ne){return this.clone({param:Ue,value:Ne,op:"s"})}delete(Ue,Ne){return this.clone({param:Ue,value:Ne,op:"d"})}toString(){return this.init(),this.keys().map(Ue=>{const Ne=this.encoder.encodeKey(Ue);return this.map.get(Ue).map(it=>Ne+"="+this.encoder.encodeValue(it)).join("&")}).filter(Ue=>""!==Ue).join("&")}clone(Ue){const Ne=new ze({encoder:this.encoder});return Ne.cloneFrom=this.cloneFrom||this,Ne.updates=(this.updates||[]).concat(Ue),Ne}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ue=>this.map.set(Ue,this.cloneFrom.map.get(Ue))),this.updates.forEach(Ue=>{switch(Ue.op){case"a":case"s":const Ne=("a"===Ue.op?this.map.get(Ue.param):void 0)||[];Ne.push(Ze(Ue.value)),this.map.set(Ue.param,Ne);break;case"d":if(void 0===Ue.value){this.map.delete(Ue.param);break}{let it=this.map.get(Ue.param)||[];const Et=it.indexOf(Ze(Ue.value));-1!==Et&&it.splice(Et,1),it.length>0?this.map.set(Ue.param,it):this.map.delete(Ue.param)}}}),this.cloneFrom=this.updates=null)}}class Ce{constructor(){this.map=new Map}set(Ue,Ne){return this.map.set(Ue,Ne),this}get(Ue){return this.map.has(Ue)||this.map.set(Ue,Ue.defaultValue()),this.map.get(Ue)}delete(Ue){return this.map.delete(Ue),this}keys(){return this.map.keys()}}function ke(gt){return"undefined"!=typeof ArrayBuffer&&gt instanceof ArrayBuffer}function Z(gt){return"undefined"!=typeof Blob&&gt instanceof Blob}function ve(gt){return"undefined"!=typeof FormData&&gt instanceof FormData}class De{constructor(Ue,Ne,it,Et){let zt;if(this.url=Ne,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ue.toUpperCase(),function Ie(gt){switch(gt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Et?(this.body=void 0!==it?it:null,zt=Et):zt=it,zt&&(this.reportProgress=!!zt.reportProgress,this.withCredentials=!!zt.withCredentials,zt.responseType&&(this.responseType=zt.responseType),zt.headers&&(this.headers=zt.headers),zt.context&&(this.context=zt.context),zt.params&&(this.params=zt.params)),this.headers||(this.headers=new K),this.context||(this.context=new Ce),this.params){const Pt=this.params.toString();if(0===Pt.length)this.urlWithParams=Ne;else{const Wt=Ne.indexOf("?");this.urlWithParams=Ne+(-1===Wt?"?":Wt<Ne.length-1?"&":"")+Pt}}else this.params=new ze,this.urlWithParams=Ne}serializeBody(){return null===this.body?null:ke(this.body)||Z(this.body)||ve(this.body)||function he(gt){return"undefined"!=typeof URLSearchParams&&gt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ve(this.body)?null:Z(this.body)?this.body.type||null:ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ue={}){var Ne;const it=Ue.method||this.method,Et=Ue.url||this.url,zt=Ue.responseType||this.responseType,Pt=void 0!==Ue.body?Ue.body:this.body,Wt=void 0!==Ue.withCredentials?Ue.withCredentials:this.withCredentials,Sn=void 0!==Ue.reportProgress?Ue.reportProgress:this.reportProgress;let gi=Ue.headers||this.headers,Ln=Ue.params||this.params;const Xt=null!==(Ne=Ue.context)&&void 0!==Ne?Ne:this.context;return void 0!==Ue.setHeaders&&(gi=Object.keys(Ue.setHeaders).reduce((vi,zn)=>vi.set(zn,Ue.setHeaders[zn]),gi)),Ue.setParams&&(Ln=Object.keys(Ue.setParams).reduce((vi,zn)=>vi.set(zn,Ue.setParams[zn]),Ln)),new De(it,Et,Pt,{params:Ln,headers:gi,context:Xt,reportProgress:Sn,responseType:zt,withCredentials:Wt})}}var Be=(()=>((Be=Be||{})[Be.Sent=0]="Sent",Be[Be.UploadProgress=1]="UploadProgress",Be[Be.ResponseHeader=2]="ResponseHeader",Be[Be.DownloadProgress=3]="DownloadProgress",Be[Be.Response=4]="Response",Be[Be.User=5]="User",Be))();class Ee{constructor(Ue,Ne=200,it="OK"){this.headers=Ue.headers||new K,this.status=void 0!==Ue.status?Ue.status:Ne,this.statusText=Ue.statusText||it,this.url=Ue.url||null,this.ok=this.status>=200&&this.status<300}}class je extends Ee{constructor(Ue={}){super(Ue),this.type=Be.ResponseHeader}clone(Ue={}){return new je({headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class nt extends Ee{constructor(Ue={}){super(Ue),this.type=Be.Response,this.body=void 0!==Ue.body?Ue.body:null}clone(Ue={}){return new nt({body:void 0!==Ue.body?Ue.body:this.body,headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class rt extends Ee{constructor(Ue){super(Ue,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ue.url||"(unknown url)"}`:`Http failure response for ${Ue.url||"(unknown url)"}: ${Ue.status} ${Ue.statusText}`,this.error=Ue.error||null}}function mt(gt,Ue){return{body:Ue,headers:gt.headers,context:gt.context,observe:gt.observe,params:gt.params,reportProgress:gt.reportProgress,responseType:gt.responseType,withCredentials:gt.withCredentials}}let Qe=(()=>{class gt{constructor(Ne){this.handler=Ne}request(Ne,it,Et={}){let zt;if(Ne instanceof De)zt=Ne;else{let Sn,gi;Sn=Et.headers instanceof K?Et.headers:new K(Et.headers),Et.params&&(gi=Et.params instanceof ze?Et.params:new ze({fromObject:Et.params})),zt=new De(Ne,it,void 0!==Et.body?Et.body:null,{headers:Sn,context:Et.context,params:gi,reportProgress:Et.reportProgress,responseType:Et.responseType||"json",withCredentials:Et.withCredentials})}const Pt=(0,z.of)(zt).pipe((0,q.b)(Sn=>this.handler.handle(Sn)));if(Ne instanceof De||"events"===Et.observe)return Pt;const Wt=Pt.pipe((0,Y.h)(Sn=>Sn instanceof nt));switch(Et.observe||"body"){case"body":switch(zt.responseType){case"arraybuffer":return Wt.pipe((0,J.U)(Sn=>{if(null!==Sn.body&&!(Sn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Sn.body}));case"blob":return Wt.pipe((0,J.U)(Sn=>{if(null!==Sn.body&&!(Sn.body instanceof Blob))throw new Error("Response is not a Blob.");return Sn.body}));case"text":return Wt.pipe((0,J.U)(Sn=>{if(null!==Sn.body&&"string"!=typeof Sn.body)throw new Error("Response is not a string.");return Sn.body}));default:return Wt.pipe((0,J.U)(Sn=>Sn.body))}case"response":return Wt;default:throw new Error(`Unreachable: unhandled observe type ${Et.observe}}`)}}delete(Ne,it={}){return this.request("DELETE",Ne,it)}get(Ne,it={}){return this.request("GET",Ne,it)}head(Ne,it={}){return this.request("HEAD",Ne,it)}jsonp(Ne,it){return this.request("JSONP",Ne,{params:(new ze).append(it,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ne,it={}){return this.request("OPTIONS",Ne,it)}patch(Ne,it,Et={}){return this.request("PATCH",Ne,mt(Et,it))}post(Ne,it,Et={}){return this.request("POST",Ne,mt(Et,it))}put(Ne,it,Et={}){return this.request("PUT",Ne,mt(Et,it))}}return gt.\u0275fac=function(Ne){return new(Ne||gt)(v.LFG(ce))},gt.\u0275prov=v.Yz7({token:gt,factory:gt.\u0275fac}),gt})();class Ht{constructor(Ue,Ne){this.next=Ue,this.interceptor=Ne}handle(Ue){return this.interceptor.intercept(Ue,this.next)}}const sn=new v.OlP("HTTP_INTERCEPTORS");let Mt=(()=>{class gt{intercept(Ne,it){return it.handle(Ne)}}return gt.\u0275fac=function(Ne){return new(Ne||gt)},gt.\u0275prov=v.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const pt=/^\)\]\}',?\n/;let Jn=(()=>{class gt{constructor(Ne){this.xhrFactory=Ne}handle(Ne){if("JSONP"===Ne.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fe.y(it=>{const Et=this.xhrFactory.build();if(Et.open(Ne.method,Ne.urlWithParams),Ne.withCredentials&&(Et.withCredentials=!0),Ne.headers.forEach((zn,on)=>Et.setRequestHeader(zn,on.join(","))),Ne.headers.has("Accept")||Et.setRequestHeader("Accept","application/json, text/plain, */*"),!Ne.headers.has("Content-Type")){const zn=Ne.detectContentTypeHeader();null!==zn&&Et.setRequestHeader("Content-Type",zn)}if(Ne.responseType){const zn=Ne.responseType.toLowerCase();Et.responseType="json"!==zn?zn:"text"}const zt=Ne.serializeBody();let Pt=null;const Wt=()=>{if(null!==Pt)return Pt;const zn=1223===Et.status?204:Et.status,on=Et.statusText||"OK",Cn=new K(Et.getAllResponseHeaders()),be=function Jt(gt){return"responseURL"in gt&&gt.responseURL?gt.responseURL:/^X-Request-URL:/m.test(gt.getAllResponseHeaders())?gt.getResponseHeader("X-Request-URL"):null}(Et)||Ne.url;return Pt=new je({headers:Cn,status:zn,statusText:on,url:be}),Pt},Sn=()=>{let{headers:zn,status:on,statusText:Cn,url:be}=Wt(),we=null;204!==on&&(we=void 0===Et.response?Et.responseText:Et.response),0===on&&(on=we?200:0);let ye=on>=200&&on<300;if("json"===Ne.responseType&&"string"==typeof we){const Oe=we;we=we.replace(pt,"");try{we=""!==we?JSON.parse(we):null}catch(Me){we=Oe,ye&&(ye=!1,we={error:Me,text:we})}}ye?(it.next(new nt({body:we,headers:zn,status:on,statusText:Cn,url:be||void 0})),it.complete()):it.error(new rt({error:we,headers:zn,status:on,statusText:Cn,url:be||void 0}))},gi=zn=>{const{url:on}=Wt(),Cn=new rt({error:zn,status:Et.status||0,statusText:Et.statusText||"Unknown Error",url:on||void 0});it.error(Cn)};let Ln=!1;const Xt=zn=>{Ln||(it.next(Wt()),Ln=!0);let on={type:Be.DownloadProgress,loaded:zn.loaded};zn.lengthComputable&&(on.total=zn.total),"text"===Ne.responseType&&!!Et.responseText&&(on.partialText=Et.responseText),it.next(on)},vi=zn=>{let on={type:Be.UploadProgress,loaded:zn.loaded};zn.lengthComputable&&(on.total=zn.total),it.next(on)};return Et.addEventListener("load",Sn),Et.addEventListener("error",gi),Et.addEventListener("timeout",gi),Et.addEventListener("abort",gi),Ne.reportProgress&&(Et.addEventListener("progress",Xt),null!==zt&&Et.upload&&Et.upload.addEventListener("progress",vi)),Et.send(zt),it.next({type:Be.Sent}),()=>{Et.removeEventListener("error",gi),Et.removeEventListener("abort",gi),Et.removeEventListener("load",Sn),Et.removeEventListener("timeout",gi),Ne.reportProgress&&(Et.removeEventListener("progress",Xt),null!==zt&&Et.upload&&Et.upload.removeEventListener("progress",vi)),Et.readyState!==Et.DONE&&Et.abort()}})}}return gt.\u0275fac=function(Ne){return new(Ne||gt)(v.LFG(i.JF))},gt.\u0275prov=v.Yz7({token:gt,factory:gt.\u0275fac}),gt})();const Tn=new v.OlP("XSRF_COOKIE_NAME"),jn=new v.OlP("XSRF_HEADER_NAME");class _s{}let or=(()=>{class gt{constructor(Ne,it,Et){this.doc=Ne,this.platform=it,this.cookieName=Et,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ne=this.doc.cookie||"";return Ne!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,i.Mx)(Ne,this.cookieName),this.lastCookieString=Ne),this.lastToken}}return gt.\u0275fac=function(Ne){return new(Ne||gt)(v.LFG(i.K0),v.LFG(v.Lbi),v.LFG(Tn))},gt.\u0275prov=v.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),er=(()=>{class gt{constructor(Ne,it){this.tokenService=Ne,this.headerName=it}intercept(Ne,it){const Et=Ne.url.toLowerCase();if("GET"===Ne.method||"HEAD"===Ne.method||Et.startsWith("http://")||Et.startsWith("https://"))return it.handle(Ne);const zt=this.tokenService.getToken();return null!==zt&&!Ne.headers.has(this.headerName)&&(Ne=Ne.clone({headers:Ne.headers.set(this.headerName,zt)})),it.handle(Ne)}}return gt.\u0275fac=function(Ne){return new(Ne||gt)(v.LFG(_s),v.LFG(jn))},gt.\u0275prov=v.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),Ct=(()=>{class gt{constructor(Ne,it){this.backend=Ne,this.injector=it,this.chain=null}handle(Ne){if(null===this.chain){const it=this.injector.get(sn,[]);this.chain=it.reduceRight((Et,zt)=>new Ht(Et,zt),this.backend)}return this.chain.handle(Ne)}}return gt.\u0275fac=function(Ne){return new(Ne||gt)(v.LFG(de),v.LFG(v.zs3))},gt.\u0275prov=v.Yz7({token:gt,factory:gt.\u0275fac}),gt})(),ln=(()=>{class gt{static disable(){return{ngModule:gt,providers:[{provide:er,useClass:Mt}]}}static withOptions(Ne={}){return{ngModule:gt,providers:[Ne.cookieName?{provide:Tn,useValue:Ne.cookieName}:[],Ne.headerName?{provide:jn,useValue:Ne.headerName}:[]]}}}return gt.\u0275fac=function(Ne){return new(Ne||gt)},gt.\u0275mod=v.oAB({type:gt}),gt.\u0275inj=v.cJS({providers:[er,{provide:sn,useExisting:er,multi:!0},{provide:_s,useClass:or},{provide:Tn,useValue:"XSRF-TOKEN"},{provide:jn,useValue:"X-XSRF-TOKEN"}]}),gt})(),In=(()=>{class gt{}return gt.\u0275fac=function(Ne){return new(Ne||gt)},gt.\u0275mod=v.oAB({type:gt}),gt.\u0275inj=v.cJS({providers:[Qe,{provide:ce,useClass:Ct},Jn,{provide:de,useExisting:Jn}],imports:[[ln.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),gt})()},5e3:(Dt,Ve,R)=>{R.d(Ve,{$8M:()=>yi,$Z:()=>fd,AFp:()=>ig,ALo:()=>Uw,AaK:()=>ce,AsE:()=>Lp,BQk:()=>Xh,CHM:()=>ha,CRH:()=>Cf,CZH:()=>mh,CqO:()=>W_,DdM:()=>$y,EJc:()=>Sf,EpF:()=>G_,F$t:()=>rh,F4k:()=>la,FYo:()=>Gp,FiY:()=>an,G48:()=>YE,Gf:()=>bd,GfV:()=>Ew,GkF:()=>ef,Gpc:()=>ee,HTZ:()=>Ar,Hh0:()=>gE,Hsn:()=>q_,JOm:()=>Ka,LFG:()=>br,LSH:()=>Bf,Lbi:()=>rl,MAs:()=>vb,NdJ:()=>tf,OlP:()=>Si,Oqu:()=>Fp,PXZ:()=>JT,Q6J:()=>_c,QGY:()=>zg,Qsj:()=>Cw,R0b:()=>Ra,RDi:()=>zo,Rgc:()=>bf,SBq:()=>vd,Sil:()=>xc,Suo:()=>Lu,TTD:()=>rr,TgZ:()=>Z_,Tol:()=>Rp,Udp:()=>Gg,VKq:()=>Zy,VLi:()=>YT,W1O:()=>Ic,WLB:()=>Rw,X6Q:()=>KE,XFs:()=>ln,Xpm:()=>fn,Y36:()=>mc,YKP:()=>zy,YNc:()=>yb,Yjl:()=>ar,Yz7:()=>qe,ZZ4:()=>kf,_Bn:()=>yw,_UZ:()=>Dp,_Vd:()=>hh,_c5:()=>dT,_uU:()=>qb,aQg:()=>ag,c2e:()=>av,cJS:()=>Jt,cg1:()=>cy,dDg:()=>fv,deG:()=>ai,dqk:()=>Xt,eFA:()=>GE,ekj:()=>Op,f3M:()=>j,g9A:()=>Cd,h0i:()=>fi,hGG:()=>yT,hij:()=>qg,iGM:()=>Xp,ifc:()=>Pt,ip1:()=>ov,kEZ:()=>Cm,kL8:()=>jp,l5B:()=>Pw,lG2:()=>Or,lcZ:()=>_E,n5z:()=>Xr,oAB:()=>Gi,oJD:()=>ec,oxw:()=>pd,q4F:()=>Tw,qLn:()=>qc,qOj:()=>k_,qZA:()=>Sp,qbA:()=>Nw,rFY:()=>ms,s9C:()=>Pu,sBO:()=>JE,sIi:()=>Cp,s_b:()=>ph,soG:()=>Ed,tBr:()=>$t,tb:()=>Uo,tp0:()=>An,uIk:()=>P_,vHH:()=>ot,vpe:()=>il,wAp:()=>wn,xi3:()=>Hw,xp6:()=>Sr,ynx:()=>nh,z2F:()=>sg,zSh:()=>Rg,zs3:()=>Qn});var i=R(7579),v=R(727),z=R(8306),fe=R(6451),q=R(3099);function Y(s){for(let o in s)if(s[o]===Y)return o;throw Error("Could not find renamed property on target object.")}function J(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const K=Y({__forward_ref__:Y});function ee(s){return s.__forward_ref__=ee,s.toString=function(){return ce(this())},s}function te(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty(K)&&s.__forward_ref__===ee}class ot extends Error{constructor(o,a){super(function ze(s,o){return`${s?`NG0${s}: `:""}${o}`}(o,a)),this.code=o}}function re(s){return"string"==typeof s?s:null==s?"":String(s)}function Ce(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():re(s)}function ve(s,o){const a=o?` in ${o}`:"";throw new ot("201",`No provider for ${Ce(s)} found${a}`)}function Ye(s,o){null==s&&function Le(s,o,a,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function qe(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Jt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Jn(s){return Tn(s,er)||Tn(s,$i)}function Tn(s,o){return s.hasOwnProperty(o)?s[o]:null}function or(s){return s&&(s.hasOwnProperty(Ct)||s.hasOwnProperty(Mi))?s[Ct]:null}const er=Y({\u0275prov:Y}),Ct=Y({\u0275inj:Y}),$i=Y({ngInjectableDef:Y}),Mi=Y({ngInjectorDef:Y});var ln=(()=>((ln=ln||{})[ln.Default=0]="Default",ln[ln.Host=1]="Host",ln[ln.Self=2]="Self",ln[ln.SkipSelf=4]="SkipSelf",ln[ln.Optional=8]="Optional",ln))();let In;function Zi(s){const o=In;return In=s,o}function gt(s,o,a){const c=Jn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&ln.Optional?null:void 0!==o?o:void ve(ce(s),"Injector")}function Ne(s){return{toString:s}.toString()}var it=(()=>((it=it||{})[it.OnPush=0]="OnPush",it[it.Default=1]="Default",it))(),Pt=(()=>{return(s=Pt||(Pt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Pt;var s})();const Wt="undefined"!=typeof globalThis&&globalThis,Sn="undefined"!=typeof window&&window,gi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Xt=Wt||"undefined"!=typeof global&&global||Sn||gi,on={},Cn=[],be=Y({\u0275cmp:Y}),we=Y({\u0275dir:Y}),ye=Y({\u0275pipe:Y}),Oe=Y({\u0275mod:Y}),Me=Y({\u0275fac:Y}),yt=Y({__NG_ELEMENT_ID__:Y});let Zt=0;function fn(s){return Ne(()=>{const a={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===it.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Cn,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Pt.Emulated,id:"c",styles:s.styles||Cn,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,_=s.features,T=s.pipes;return c.id+=Zt++,c.inputs=Br(s.inputs,a),c.outputs=Br(s.outputs),_&&_.forEach(x=>x(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(ci):null,c.pipeDefs=T?()=>("function"==typeof T?T():T).map(pr):null,c})}function ci(s){return di(s)||function tr(s){return s[we]||null}(s)}function pr(s){return function Wi(s){return s[ye]||null}(s)}const $n={};function Gi(s){return Ne(()=>{const o={type:s.type,bootstrap:s.bootstrap||Cn,declarations:s.declarations||Cn,imports:s.imports||Cn,exports:s.exports||Cn,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&($n[s.id]=s.type),o})}function Br(s,o){if(null==s)return on;const a={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],_=h;Array.isArray(h)&&(_=h[1],h=h[0]),a[h]=c,o&&(o[h]=_)}return a}const Or=fn;function ar(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function di(s){return s[be]||null}function Qi(s,o){const a=s[Oe]||null;if(!a&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return a}function gr(s){return Array.isArray(s)&&"object"==typeof s[1]}function Pr(s){return Array.isArray(s)&&!0===s[1]}function vs(s){return 0!=(8&s.flags)}function oi(s){return 2==(2&s.flags)}function mr(s){return 1==(1&s.flags)}function Er(s){return null!==s.template}function as(s){return 0!=(512&s[2])}function us(s,o){return s.hasOwnProperty(Me)?s[Me]:null}class ws{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function rr(){return Cs}function Cs(s){return s.type.prototype.ngOnChanges&&(s.setInput=Kr),qr}function qr(){const s=Es(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===on)s.previous=o;else for(let c in o)a[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Kr(s,o,a,c){const h=Es(s)||function Yi(s,o){return s[Do]=o}(s,{previous:on,current:null}),_=h.current||(h.current={}),T=h.previous,x=this.declaredInputs[a],k=T[x];_[x]=new ws(k&&k.currentValue,o,T===on),s[c]=o}rr.ngInherit=!0;const Do="__ngSimpleChanges__";function Es(s){return s[Do]||null}let cs;function zo(s){cs=s}function xo(){return void 0!==cs?cs:"undefined"!=typeof document?document:void 0}function Hn(s){return!!s.listen}const Ts={createRenderer:(s,o)=>xo()};function B(s){for(;Array.isArray(s);)s=s[0];return s}function ue(s,o){return B(o[s])}function xe(s,o){return B(o[s.index])}function It(s,o){return s.data[o]}function nn(s,o){return s[o]}function U(s,o){const a=o[s];return gr(a)?a:a[0]}function L(s){return 4==(4&s[2])}function O(s){return 128==(128&s[2])}function et(s,o){return null==o?null:s[o]}function Nt(s){s[18]=0}function gn(s,o){s[5]+=o;let a=s,c=s[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const Kt={lFrame:ma(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ds(){return Kt.bindingsEnabled}function St(){return Kt.lFrame.lView}function qn(){return Kt.lFrame.tView}function ha(s){return Kt.lFrame.contextLView=s,s[8]}function Ai(){let s=Mo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Mo(){return Kt.lFrame.currentTNode}function hs(s,o){const a=Kt.lFrame;a.currentTNode=s,a.isParent=o}function Na(){return Kt.lFrame.isParent}function Js(){Kt.lFrame.isParent=!1}function Oo(){return Kt.isInCheckNoChangesMode}function ho(s){Kt.isInCheckNoChangesMode=s}function sr(){const s=Kt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ko(){return Kt.lFrame.bindingIndex++}function Is(s){const o=Kt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function pa(s,o){const a=Kt.lFrame;a.bindingIndex=a.bindingRootIndex=s,fo(o)}function fo(s){Kt.lFrame.currentDirectiveIndex=s}function eo(){return Kt.lFrame.currentQueryIndex}function Vu(s){Kt.lFrame.currentQueryIndex=s}function Tr(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ro(s,o,a){if(a&ln.SkipSelf){let h=o,_=s;for(;!(h=h.parent,null!==h||a&ln.Host||(h=Tr(_),null===h||(_=_[15],10&h.type))););if(null===h)return!1;o=h,s=_}const c=Kt.lFrame=ga();return c.currentTNode=o,c.lView=s,!0}function Zo(s){const o=ga(),a=s[1];Kt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ga(){const s=Kt.lFrame,o=null===s?null:s.child;return null===o?ma(s):o}function ma(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Pl(){const s=Kt.lFrame;return Kt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const La=Pl;function Go(){const s=Pl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function cr(){return Kt.lFrame.selectedIndex}function Bs(s){Kt.lFrame.selectedIndex=s}function Li(){const s=Kt.lFrame;return It(s.tView,s.selectedIndex)}function Po(s,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const _=s.data[a].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:x,ngAfterViewInit:k,ngAfterViewChecked:W,ngOnDestroy:ie}=_;T&&(s.contentHooks||(s.contentHooks=[])).push(-a,T),x&&((s.contentHooks||(s.contentHooks=[])).push(a,x),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,x)),k&&(s.viewHooks||(s.viewHooks=[])).push(-a,k),W&&((s.viewHooks||(s.viewHooks=[])).push(a,W),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,W)),null!=ie&&(s.destroyHooks||(s.destroyHooks=[])).push(a,ie)}}function Wo(s,o,a){Ba(s,o,3,a)}function _a(s,o,a,c){(3&s[2])===a&&Ba(s,o,a,c)}function dr(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Ba(s,o,a,c){const _=null!=c?c:-1,T=o.length-1;let x=0;for(let k=void 0!==c?65535&s[18]:0;k<T;k++)if("number"==typeof o[k+1]){if(x=o[k],null!=c&&x>=c)break}else o[k]<0&&(s[18]+=65536),(x<_||-1==_)&&(po(s,a,o,k),s[18]=(4294901760&s[18])+k+2),k++}function po(s,o,a,c){const h=a[c]<0,_=a[c+1],x=s[h?-a[c]:a[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{_.call(x)}finally{}}}else try{_.call(x)}finally{}}class Us{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function Fl(s,o,a){const c=Hn(s);let h=0;for(;h<a.length;){const _=a[h];if("number"==typeof _){if(0!==_)break;h++;const T=a[h++],x=a[h++],k=a[h++];c?s.setAttribute(o,x,k,T):o.setAttributeNS(T,x,k)}else{const T=_,x=a[++h];zr(T)?c&&s.setProperty(o,T,x):c?s.setAttribute(o,T,x):o.setAttribute(T,x),h++}}return h}function go(s){return 3===s||4===s||6===s}function zr(s){return 64===s.charCodeAt(0)}function ba(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?a=h:0===a||Uu(s,a,h,null,-1===a||2===a?o[++c]:null)}}return s}function Uu(s,o,a,c,h){let _=0,T=s.length;if(-1===o)T=-1;else for(;_<s.length;){const x=s[_++];if("number"==typeof x){if(x===o){T=-1;break}if(x>o){T=_-1;break}}}for(;_<s.length;){const x=s[_];if("number"==typeof x)break;if(x===a){if(null===c)return void(null!==h&&(s[_+1]=h));if(c===s[_+1])return void(s[_+2]=h)}_++,null!==c&&_++,null!==h&&_++}-1!==T&&(s.splice(T,0,o),_=T+1),s.splice(_++,0,a),null!==c&&s.splice(_++,0,c),null!==h&&s.splice(_++,0,h)}function Hu(s){return-1!==s}function qo(s){return 32767&s}function Ua(s,o){let a=function ju(s){return s>>16}(s),c=o;for(;a>0;)c=c[15],a--;return c}let Ha=!0;function gl(s){const o=Ha;return Ha=s,o}let _l=0;function Ca(s,o){const a=hu(s,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,ja(c.data,s),ja(o,null),ja(c.blueprint,null));const h=M(s,o),_=s.injectorIndex;if(Hu(h)){const T=qo(h),x=Ua(h,o),k=x[1].data;for(let W=0;W<8;W++)o[_+W]=x[T+W]|k[T+W]}return o[_+8]=h,_}function ja(s,o){s.push(0,0,0,0,0,0,0,0,o)}function hu(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function M(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,c=null,h=o;for(;null!==h;){const _=h[1],T=_.type;if(c=2===T?_.declTNode:1===T?h[6]:null,null===c)return-1;if(a++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function D(s,o,a){!function zu(s,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(yt)&&(c=a[yt]),null==c&&(c=a[yt]=_l++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,a)}function V(s,o,a){if(a&ln.Optional)return s;ve(o,"NodeInjector")}function G(s,o,a,c){if(a&ln.Optional&&void 0===c&&(c=null),0==(a&(ln.Self|ln.Host))){const h=s[9],_=Zi(void 0);try{return h?h.get(o,c,a&ln.Optional):gt(o,c,a&ln.Optional)}finally{Zi(_)}}return V(c,o,a)}function ae(s,o,a,c=ln.Default,h){if(null!==s){const _=function rn(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(yt)?s[yt]:void 0;return"number"==typeof o?o>=0?255&o:Re:o}(a);if("function"==typeof _){if(!Ro(o,s,c))return c&ln.Host?V(h,a,c):G(o,a,c,h);try{const T=_(c);if(null!=T||c&ln.Optional)return T;ve(a)}finally{La()}}else if("number"==typeof _){let T=null,x=hu(s,o),k=-1,W=c&ln.Host?o[16][6]:null;for((-1===x||c&ln.SkipSelf)&&(k=-1===x?M(s,o):o[x+8],-1!==k&&kn(c,!1)?(T=o[1],x=qo(k),o=Ua(k,o)):x=-1);-1!==x;){const ie=o[1];if(ii(_,x,ie.data)){const ge=ft(x,o,a,T,c,W);if(ge!==me)return ge}k=o[x+8],-1!==k&&kn(c,o[1].data[x+8]===W)&&ii(_,x,o)?(T=ie,x=qo(k),o=Ua(k,o)):x=-1}}}return G(o,a,c,h)}const me={};function Re(){return new _i(Ai(),St())}function ft(s,o,a,c,h,_){const T=o[1],x=T.data[s+8],ie=Bt(x,T,a,null==c?oi(x)&&Ha:c!=T&&0!=(3&x.type),h&ln.Host&&_===x);return null!==ie?Vn(o,T,ie,x):me}function Bt(s,o,a,c,h){const _=s.providerIndexes,T=o.data,x=1048575&_,k=s.directiveStart,ie=_>>20,Pe=h?x+ie:s.directiveEnd;for(let Ke=c?x:x+ie;Ke<Pe;Ke++){const bt=T[Ke];if(Ke<k&&a===bt||Ke>=k&&bt.type===a)return Ke}if(h){const Ke=T[k];if(Ke&&Er(Ke)&&Ke.type===a)return k}return null}function Vn(s,o,a,c){let h=s[a];const _=o.data;if(function ya(s){return s instanceof Us}(h)){const T=h;T.resolving&&function Ie(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ot("200",`Circular dependency in DI detected for ${s}${a}`)}(Ce(_[a]));const x=gl(T.canSeeViewProviders);T.resolving=!0;const k=T.injectImpl?Zi(T.injectImpl):null;Ro(s,c,ln.Default);try{h=s[a]=T.factory(void 0,_,s,c),o.firstCreatePass&&a>=c.directiveStart&&function lu(s,o,a){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:_}=o.type.prototype;if(c){const T=Cs(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,T),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,T)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,h),_&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,_))}(a,_[a],o)}finally{null!==k&&Zi(k),gl(x),T.resolving=!1,La()}}return h}function ii(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function kn(s,o){return!(s&ln.Self||s&ln.Host&&o)}class _i{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return ae(this._tNode,this._lView,o,c,a)}}function Xr(s){return Ne(()=>{const o=s.prototype.constructor,a=o[Me]||pi(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const _=h[Me]||pi(h);if(_&&_!==a)return _;h=Object.getPrototypeOf(h)}return _=>new _})}function pi(s){return We(s)?()=>{const o=pi(te(s));return o&&o()}:us(s)}function yi(s){return function I(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const c=a.length;let h=0;for(;h<c;){const _=a[h];if(go(_))break;if(0===_)h+=2;else if("number"==typeof _)for(h++;h<c&&"string"==typeof a[h];)h++;else{if(_===o)return a[h+1];h+=2}}}return null}(Ai(),s)}const $r="__parameters__";function ut(s,o,a){return Ne(()=>{const c=function pu(s){return function(...a){if(s){const c=s(...a);for(const h in c)this[h]=c[h]}}}(o);function h(..._){if(this instanceof h)return c.apply(this,_),this;const T=new h(..._);return x.annotation=T,x;function x(k,W,ie){const ge=k.hasOwnProperty($r)?k[$r]:Object.defineProperty(k,$r,{value:[]})[$r];for(;ge.length<=ie;)ge.push(null);return(ge[ie]=ge[ie]||[]).push(T),k}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Si{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=qe({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ai=new Si("AnalyzeForEntryComponents");function ki(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let c=s[a];Array.isArray(c)?(o===s&&(o=s.slice(0,a)),ki(c,o)):o!==s&&o.push(c)}return o}function Hs(s,o){s.forEach(a=>Array.isArray(a)?Hs(a,o):o(a))}function vr(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function mo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function bl(s,o){const a=[];for(let c=0;c<s;c++)a.push(o);return a}function ts(s,o,a){let c=_o(s,o);return c>=0?s[1|c]=a:(c=~c,function Gu(s,o,a,c){let h=s.length;if(h==o)s.push(a,c);else if(1===h)s.push(c,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=c}}(s,c,o,a)),c}function Ia(s,o){const a=_o(s,o);if(a>=0)return s[1|a]}function _o(s,o){return function js(s,o,a){let c=0,h=s.length>>a;for(;h!==c;){const _=c+(h-c>>1),T=s[_<<a];if(o===T)return _<<a;T>o?h=_:c=_+1}return~(h<<a)}(s,o,1)}const Yo={},za="__NG_DI_FLAG__",zl="ngTempTokenPath",vu=/\n/gm,Ku="__source",Pc=Y({provide:String,useValue:Y});let Qo;function yo(s){const o=Qo;return Qo=s,o}function Nc(s,o=ln.Default){if(void 0===Qo)throw new Error("inject() must be called from an injection context");return null===Qo?gt(s,void 0,o):Qo.get(s,o&ln.Optional?null:void 0,o)}function br(s,o=ln.Default){return(function Ti(){return In}()||Nc)(te(s),o)}const j=br;function se(s){const o=[];for(let a=0;a<s.length;a++){const c=te(s[a]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,_=ln.Default;for(let T=0;T<c.length;T++){const x=c[T],k=Ge(x);"number"==typeof k?-1===k?h=x.token:_|=k:h=x}o.push(br(h,_))}else o.push(br(c))}return o}function _e(s,o){return s[za]=o,s.prototype[za]=o,s}function Ge(s){return s[za]}const $t=_e(ut("Inject",s=>({token:s})),-1),an=_e(ut("Optional"),8),An=_e(ut("SkipSelf"),4);let wu,Zl;function Yu(s){var o;return(null===(o=function Fc(){if(void 0===wu&&(wu=null,Xt.trustedTypes))try{wu=Xt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return wu}())||void 0===o?void 0:o.createHTML(s))||s}function Ad(s){var o;return(null===(o=function Cu(){if(void 0===Zl&&(Zl=null,Xt.trustedTypes))try{Zl=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Zl}())||void 0===o?void 0:o.createHTML(s))||s}class Bc{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Tl(s){return s instanceof Bc?s.changingThisBreaksApplicationSecurity:s}function Xu(s,o){const a=function Rd(s){return s instanceof Bc&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}class Ff{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Yu(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Pd{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const c=this.inertDocument.createElement("body");a.appendChild(c)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Yu(o),a;const c=this.inertDocument.createElement("body");return c.innerHTML=Yu(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const a=o.attributes;for(let h=a.length-1;0<h;h--){const T=a.item(h).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&o.removeAttribute(T)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Hc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,C=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function N(s){return(s=String(s)).match(Hc)||s.match(C)?s:"unsafe:"+s}function f(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function y(...s){const o={};for(const a of s)for(const c in a)a.hasOwnProperty(c)&&(o[c]=!0);return o}const S=f("area,br,col,hr,img,wbr"),le=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Te=f("rp,rt"),pn=y(S,y(le,f("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),y(Te,f("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),y(Te,le)),ti=f("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Mn=f("srcset"),hr=y(ti,Mn,f("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),f("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Il=f("script,style,template");class Eu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,c=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?c=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,c&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let h=this.checkClobberedElement(a,a.nextSibling);if(h){a=h;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!pn.hasOwnProperty(a))return this.sanitizedSomething=!0,!Il.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const c=o.attributes;for(let h=0;h<c.length;h++){const _=c.item(h),T=_.name,x=T.toLowerCase();if(!hr.hasOwnProperty(x)){this.sanitizedSomething=!0;continue}let k=_.value;ti[x]&&(k=N(k)),Mn[x]&&(s=k,k=(s=String(s)).split(",").map(o=>N(o.trim())).join(", ")),this.buf.push(" ",T,'="',Tu(k),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();pn.hasOwnProperty(a)&&!S.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Tu(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const ea=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Za=/([^\#-~ |!])/g;function Tu(s){return s.replace(/&/g,"&amp;").replace(ea,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Za,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ga;function Lo(s){return"content"in s&&function no(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Vi=(()=>((Vi=Vi||{})[Vi.NONE=0]="NONE",Vi[Vi.HTML=1]="HTML",Vi[Vi.STYLE=2]="STYLE",Vi[Vi.SCRIPT=3]="SCRIPT",Vi[Vi.URL=4]="URL",Vi[Vi.RESOURCE_URL=5]="RESOURCE_URL",Vi))();function ec(s){const o=jc();return o?Ad(o.sanitize(Vi.HTML,s)||""):Xu(s,"HTML")?Ad(Tl(s)):function Wa(s,o){let a=null;try{Ga=Ga||function Aa(s){const o=new Pd(s);return function Lf(){try{return!!(new window.DOMParser).parseFromString(Yu(""),"text/html")}catch(s){return!1}}()?new Ff(o):o}(s);let c=o?String(o):"";a=Ga.getInertBodyElement(c);let h=5,_=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=_,_=a.innerHTML,a=Ga.getInertBodyElement(c)}while(c!==_);return Yu((new Eu).sanitizeChildren(Lo(a)||a))}finally{if(a){const c=Lo(a)||a;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(xo(),re(s))}function Bf(s){const o=jc();return o?o.sanitize(Vi.URL,s)||"":Xu(s,"URL")?Tl(s):N(re(s))}function jc(){const s=St();return s&&s[12]}const Zc="__ngContext__";function io(s,o){s[Zc]=o}function Ih(s){const o=function Gc(s){return s[Zc]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Sh(s){return s.ngOriginalError}function ic(s,...o){s.error(...o)}class qc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),c=function Gf(s){return s&&s.ngErrorLogger||ic}(o);c(this._console,"ERROR",o),a&&c(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Sh(o);for(;a&&Sh(a);)a=Sh(a);return a||null}}const Iu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Xt))();function Sl(s){return s instanceof Function?s():s}var Ka=(()=>((Ka=Ka||{})[Ka.Important=1]="Important",Ka[Ka.DashCase=2]="DashCase",Ka))();function Vd(s,o){return undefined(s,o)}function Qc(s){const o=s[3];return Pr(o)?o[3]:o}function Jc(s){return Ud(s[13])}function sc(s){return Ud(s[4])}function Ud(s){for(;null!==s&&!Pr(s);)s=s[4];return s}function ia(s,o,a,c,h){if(null!=c){let _,T=!1;Pr(c)?_=c:gr(c)&&(T=!0,c=c[0]);const x=B(c);0===s&&null!==a?null==h?cn(o,a,x):tn(o,a,x,h||null,!0):1===s&&null!==a?tn(o,a,x,h||null,!0):2===s?function Qa(s,o,a){const c=Ya(s,o);c&&function xs(s,o,a,c){Hn(s)?s.removeChild(o,a,c):o.removeChild(a)}(s,c,o,a)}(o,x,T):3===s&&o.destroyNode(x),null!=_&&function Zd(s,o,a,c,h){const _=a[7];_!==B(a)&&ia(o,s,c,_,h);for(let x=10;x<a.length;x++){const k=a[x];ep(k[1],k,s,o,c,_)}}(o,s,_,a,h)}}function Xc(s,o,a){return Hn(s)?s.createElement(o,a):null===a?s.createElement(o):s.createElementNS(a,o)}function m(s,o){const a=s[9],c=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,gn(h,-1)),a.splice(c,1)}function E(s,o){if(s.length<=10)return;const a=10+o,c=s[a];if(c){const h=c[17];null!==h&&h!==s&&m(h,c),o>0&&(s[a-1][4]=c[4]);const _=mo(s,10+o);!function wg(s,o){ep(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const T=_[19];null!==T&&T.detachView(_[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function $(s,o){if(!(256&o[2])){const a=o[11];Hn(a)&&a.destroyNode&&ep(s,o,a,3,null,null),function Cg(s){let o=s[13];if(!o)return Q(s[1],s);for(;o;){let a=null;if(gr(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==s;)gr(o)&&Q(o[1],o),o=o[3];null===o&&(o=s),gr(o)&&Q(o[1],o),a=o&&o[4]}o=a}}(o)}}function Q(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function tt(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let c=0;c<a.length;c+=2){const h=o[a[c]];if(!(h instanceof Us)){const _=a[c+1];if(Array.isArray(_))for(let T=0;T<_.length;T+=2){const x=h[_[T]],k=_[T+1];try{k.call(x)}finally{}}else try{_.call(h)}finally{}}}}(s,o),function Ae(s,o){const a=s.cleanup,c=o[7];let h=-1;if(null!==a)for(let _=0;_<a.length-1;_+=2)if("string"==typeof a[_]){const T=a[_+1],x="function"==typeof T?T(o):B(o[T]),k=c[h=a[_+2]],W=a[_+3];"boolean"==typeof W?x.removeEventListener(a[_],k,W):W>=0?c[h=W]():c[h=-W].unsubscribe(),_+=2}else{const T=c[h=a[_+1]];a[_].call(T)}if(null!==c){for(let _=h+1;_<c.length;_++)c[_]();o[7]=null}}(s,o),1===o[1].type&&Hn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&Pr(o[3])){a!==o[3]&&m(a,o);const c=o[19];null!==c&&c.detachView(s)}}}function Rt(s,o,a){return function Tt(s,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===Pt.None||h===Pt.Emulated)return null}return xe(c,a)}(s,o.parent,a)}function tn(s,o,a,c,h){Hn(s)?s.insertBefore(o,a,c,h):o.insertBefore(a,c,h)}function cn(s,o,a){Hn(s)?s.appendChild(o,a):o.appendChild(a)}function ni(s,o,a,c,h){null!==c?tn(s,o,a,c,h):cn(s,o,a)}function Ya(s,o){return Hn(s)?s.parentNode(o):o.parentNode}function Mh(s,o,a){return Oh(s,o,a)}let Oh=function Xf(s,o,a){return 40&s.type?xe(s,a):null};function zd(s,o,a,c){const h=Rt(s,c,o),_=o[11],x=Mh(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(a))for(let k=0;k<a.length;k++)ni(_,h,a[k],x,!1);else ni(_,h,a,x,!1)}function oc(s,o){if(null!==o){const a=o.type;if(3&a)return xe(o,s);if(4&a)return Du(-1,s[o.index]);if(8&a){const c=o.child;if(null!==c)return oc(s,c);{const h=s[o.index];return Pr(h)?Du(-1,h):B(h)}}if(32&a)return Vd(o,s)()||B(s[o.index]);{const c=is(s,o);return null!==c?Array.isArray(c)?c[0]:oc(Qc(s[16]),c):oc(s,o.next)}}return null}function is(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Du(s,o){const a=10+s+1;if(a<o.length){const c=o[a],h=c[1].firstChild;if(null!==h)return oc(c,h)}return o[7]}function $d(s,o,a,c,h,_,T){for(;null!=a;){const x=c[a.index],k=a.type;if(T&&0===o&&(x&&io(B(x),c),a.flags|=4),64!=(64&a.flags))if(8&k)$d(s,o,a.child,c,h,_,!1),ia(o,s,h,x,_);else if(32&k){const W=Vd(a,c);let ie;for(;ie=W();)ia(o,s,h,ie,_);ia(o,s,h,x,_)}else 16&k?rs(s,o,c,a,h,_):ia(o,s,h,x,_);a=T?a.projectionNext:a.next}}function ep(s,o,a,c,h,_){$d(a,c,s.firstChild,o,h,_,!1)}function rs(s,o,a,c,h,_){const T=a[16],k=T[6].projection[c.projection];if(Array.isArray(k))for(let W=0;W<k.length;W++)ia(o,s,h,k[W],_);else $d(s,o,k,T[3],h,_,!0)}function dn(s,o,a){Hn(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Fn(s,o,a){Hn(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function Av(s,o,a){let c=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const _=o.length;if(h+_===c||s.charCodeAt(h+_)<=32)return h}a=h+1}}const dt="ng-template";function kt(s,o,a){let c=0;for(;c<s.length;){let h=s[c++];if(a&&"class"===h){if(h=s[c],-1!==Av(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function zs(s){return 4===s.type&&s.value!==dt}function Mv(s,o,a){return o===(4!==s.type||a?s.value:dt)}function U0(s,o,a){let c=4;const h=s.attrs||[],_=function kv(s){for(let o=0;o<s.length;o++)if(go(s[o]))return o;return s.length}(h);let T=!1;for(let x=0;x<o.length;x++){const k=o[x];if("number"!=typeof k){if(!T)if(4&c){if(c=2|1&c,""!==k&&!Mv(s,k,a)||""===k&&1===o.length){if(Yl(c))return!1;T=!0}}else{const W=8&c?k:o[++x];if(8&c&&null!==s.attrs){if(!kt(s.attrs,W,a)){if(Yl(c))return!1;T=!0}continue}const ge=H0(8&c?"class":k,h,zs(s),a);if(-1===ge){if(Yl(c))return!1;T=!0;continue}if(""!==W){let Pe;Pe=ge>_?"":h[ge+1].toLowerCase();const Ke=8&c?Pe:null;if(Ke&&-1!==Av(Ke,W,0)||2&c&&W!==Pe){if(Yl(c))return!1;T=!0}}}}else{if(!T&&!Yl(c)&&!Yl(k))return!1;if(T&&Yl(k))continue;T=!1,c=k|1&c}}return Yl(c)||T}function Yl(s){return 0==(1&s)}function H0(s,o,a,c){if(null===o)return-1;let h=0;if(c||!a){let _=!1;for(;h<o.length;){const T=o[h];if(T===s)return h;if(3===T||6===T)_=!0;else{if(1===T||2===T){let x=o[++h];for(;"string"==typeof x;)x=o[++h];continue}if(4===T)break;if(0===T){h+=4;continue}}h+=_?1:2}return-1}return function z0(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const c=s[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,s)}function Ov(s,o,a=!1){for(let c=0;c<o.length;c++)if(U0(s,o[c],a))return!0;return!1}function xT(s,o){e:for(let a=0;a<o.length;a++){const c=o[a];if(s.length===c.length){for(let h=0;h<s.length;h++)if(s[h]!==c[h])continue e;return!0}}return!1}function Rv(s,o){return s?":not("+o.trim()+")":o}function Pv(s){let o=s[0],a=1,c=2,h="",_=!1;for(;a<s.length;){let T=s[a];if("string"==typeof T)if(2&c){const x=s[++a];h+="["+T+(x.length>0?'="'+x+'"':"")+"]"}else 8&c?h+="."+T:4&c&&(h+=" "+T);else""!==h&&!Yl(T)&&(o+=Rv(_,h),h=""),c=T,_=_||!Yl(c);a++}return""!==h&&(o+=Rv(_,h)),o}const Yn={};function Sr(s){Rn(qn(),St(),cr()+s,Oo())}function Rn(s,o,a,c){if(!c)if(3==(3&o[2])){const _=s.preOrderCheckHooks;null!==_&&Wo(o,_,a)}else{const _=s.preOrderHooks;null!==_&&_a(o,_,0,a)}Bs(a)}function Ci(s,o){return s<<17|o<<2}function Ql(s){return s>>17&32767}function Ph(s){return 2|s}function Jl(s){return(131068&s)>>2}function ac(s,o){return-131069&s|o<<2}function Nh(s){return 1|s}function Vh(s,o){const a=s.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c],_=a[c+1];if(-1!==_){const T=s.data[_];Vu(h),T.contentQueries(2,o[_],_)}}}function Dl(s,o,a,c,h,_,T,x,k,W){const ie=o.blueprint.slice();return ie[0]=h,ie[2]=140|c,Nt(ie),ie[3]=ie[15]=s,ie[8]=a,ie[10]=T||s&&s[10],ie[11]=x||s&&s[11],ie[12]=k||s&&s[12]||null,ie[9]=W||s&&s[9]||null,ie[6]=_,ie[16]=2==o.type?s[16]:ie,ie}function uc(s,o,a,c,h){let _=s.data[o];if(null===_)_=function cc(s,o,a,c,h){const _=Mo(),T=Na(),k=s.data[o]=function K0(s,o,a,c,h,_){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?_:_&&_.parent,a,o,c,h);return null===s.firstChild&&(s.firstChild=k),null!==_&&(T?null==_.child&&null!==k.parent&&(_.child=k):null===_.next&&(_.next=k)),k}(s,o,a,c,h),function ul(){return Kt.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=a,_.value=c,_.attrs=h;const T=function Vs(){const s=Kt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();_.injectorIndex=null===T?-1:T.injectorIndex}return hs(_,!0),_}function sa(s,o,a,c){if(0===a)return-1;const h=o.length;for(let _=0;_<a;_++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function dc(s,o,a){Zo(o);try{const c=s.viewQuery;null!==c&&y_(1,c,a);const h=s.template;null!==h&&qd(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Vh(s,o),s.staticViewQueries&&y_(2,s.viewQuery,a);const _=s.components;null!==_&&function Lv(s,o){for(let a=0;a<o.length;a++)__(s,o[a])}(o,_)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Go()}}function el(s,o,a,c){const h=o[2];if(256==(256&h))return;Zo(o);const _=Oo();try{Nt(o),function fa(s){return Kt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&qd(s,o,a,2,c);const T=3==(3&h);if(!_)if(T){const W=s.preOrderCheckHooks;null!==W&&Wo(o,W,null)}else{const W=s.preOrderHooks;null!==W&&_a(o,W,0,null),dr(o,0)}if(function Kv(s){for(let o=Jc(s);null!==o;o=sc(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const h=a[c],_=h[3];0==(1024&h[2])&&gn(_,1),h[2]|=1024}}}(o),function jh(s){for(let o=Jc(s);null!==o;o=sc(o))for(let a=10;a<o.length;a++){const c=o[a],h=c[1];O(c)&&el(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&Vh(s,o),!_)if(T){const W=s.contentCheckHooks;null!==W&&Wo(o,W)}else{const W=s.contentHooks;null!==W&&_a(o,W,1),dr(o,1)}!function rd(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const h=a[c];if(h<0)Bs(~h);else{const _=h,T=a[++c],x=a[++c];pa(T,_),x(2,o[_])}}}finally{Bs(-1)}}(s,o);const x=s.components;null!==x&&function rp(s,o){for(let a=0;a<o.length;a++)m_(s,o[a])}(o,x);const k=s.viewQuery;if(null!==k&&y_(2,k,c),!_)if(T){const W=s.viewCheckHooks;null!==W&&Wo(o,W)}else{const W=s.viewHooks;null!==W&&_a(o,W,2),dr(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),_||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,gn(o[3],-1))}finally{Go()}}function Vv(s,o,a,c){const h=o[10],_=!Oo(),T=L(o);try{_&&!T&&h.begin&&h.begin(),T&&dc(s,o,c),el(s,o,a,c)}finally{_&&!T&&h.end&&h.end()}}function qd(s,o,a,c,h){const _=cr(),T=2&c;try{Bs(-1),T&&o.length>20&&Rn(s,o,20,Oo()),a(c,h)}finally{Bs(_)}}function Dg(s,o,a){if(vs(o)){const h=o.directiveEnd;for(let _=o.directiveStart;_<h;_++){const T=s.data[_];T.contentQueries&&T.contentQueries(1,a[_],_)}}}function hc(s,o,a){!ds()||(function Co(s,o,a,c){const h=a.directiveStart,_=a.directiveEnd;s.firstCreatePass||Ca(a,o),io(c,o);const T=a.initialInputs;for(let x=h;x<_;x++){const k=s.data[x],W=Er(k);W&&sd(o,a,k);const ie=Vn(o,s,x,a);io(ie,o),null!==T&&Wv(0,x-h,ie,k,0,T),W&&(U(a.index,o)[8]=ie)}}(s,o,a,xe(a,o)),128==(128&a.flags)&&function J0(s,o,a){const c=a.directiveStart,h=a.directiveEnd,T=a.index,x=function cl(){return Kt.lFrame.currentDirectiveIndex}();try{Bs(T);for(let k=c;k<h;k++){const W=s.data[k],ie=o[k];fo(k),(null!==W.hostBindings||0!==W.hostVars||null!==W.hostAttrs)&&$v(W,ie)}}finally{Bs(-1),fo(x)}}(s,o,a))}function sp(s,o,a=xe){const c=o.localNames;if(null!==c){let h=o.index+1;for(let _=0;_<c.length;_+=2){const T=c[_+1],x=-1===T?a(o,s):s[T];s[h++]=x}}}function Bh(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=op(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function op(s,o,a,c,h,_,T,x,k,W){const ie=20+c,ge=ie+h,Pe=function Bv(s,o){const a=[];for(let c=0;c<o;c++)a.push(c<s?null:Yn);return a}(ie,ge),Ke="function"==typeof W?W():W;return Pe[1]={type:s,blueprint:Pe,template:a,queries:null,viewQuery:x,declTNode:o,data:Pe.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:ge,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:k,consts:Ke,incompleteFirstPass:!1}}function Uv(s,o,a,c){const h=v_(o);null===a?h.push(c):(h.push(a),s.firstCreatePass&&dp(s).push(c,h.length-1))}function d_(s,o,a){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(a=null===a?{}:a).hasOwnProperty(c)?a[c].push(o,h):a[c]=[o,h]}return a}function Ma(s,o,a,c,h,_,T,x){const k=xe(o,a);let ie,W=o.inputs;!x&&null!=W&&(ie=W[c])?(b_(s,a,ie,c,h),oi(o)&&function Cr(s,o){const a=U(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(c=function wo(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=T?T(h,o.value||"",c):h,Hn(_)?_.setProperty(k,c,h):zr(c)||(k.setProperty?k.setProperty(c,h):k[c]=h))}function Hh(s,o,a,c){let h=!1;if(ds()){const _=function X0(s,o,a){const c=s.directiveRegistry;let h=null;if(c)for(let _=0;_<c.length;_++){const T=c[_];Ov(a,T.selectors,!1)&&(h||(h=[]),D(Ca(a,o),s,T.type),Er(T)?(f_(s,a),h.unshift(T)):h.push(T))}return h}(s,o,a),T=null===c?null:{"":-1};if(null!==_){h=!0,Zv(a,s.data.length,_.length);for(let ie=0;ie<_.length;ie++){const ge=_[ie];ge.providersResolver&&ge.providersResolver(ge)}let x=!1,k=!1,W=sa(s,o,_.length,null);for(let ie=0;ie<_.length;ie++){const ge=_[ie];a.mergedAttrs=ba(a.mergedAttrs,ge.hostAttrs),Gv(s,a,o,W,ge),tC(W,ge,T),null!==ge.contentQueries&&(a.flags|=8),(null!==ge.hostBindings||null!==ge.hostAttrs||0!==ge.hostVars)&&(a.flags|=128);const Pe=ge.type.prototype;!x&&(Pe.ngOnChanges||Pe.ngOnInit||Pe.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),x=!0),!k&&(Pe.ngOnChanges||Pe.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),k=!0),W++}!function Hv(s,o){const c=o.directiveEnd,h=s.data,_=o.attrs,T=[];let x=null,k=null;for(let W=o.directiveStart;W<c;W++){const ie=h[W],ge=ie.inputs,Pe=null===_||zs(o)?null:qv(ge,_);T.push(Pe),x=d_(ge,W,x),k=d_(ie.outputs,W,k)}null!==x&&(x.hasOwnProperty("class")&&(o.flags|=16),x.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=T,o.inputs=x,o.outputs=k}(s,a)}T&&function eC(s,o,a){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const _=a[o[h+1]];if(null==_)throw new ot("301",`Export of name '${o[h+1]}' not found!`);c.push(o[h],_)}}}(a,c,T)}return a.mergedAttrs=ba(a.mergedAttrs,a.attrs),h}function h_(s,o,a,c,h,_){const T=_.hostBindings;if(T){let x=s.hostBindingOpCodes;null===x&&(x=s.hostBindingOpCodes=[]);const k=~o.index;(function zv(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(x)!=k&&x.push(k),x.push(c,h,T)}}function $v(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function f_(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function tC(s,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=s;Er(o)&&(a[""]=s)}}function Zv(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Gv(s,o,a,c,h){s.data[c]=h;const _=h.factory||(h.factory=us(h.type)),T=new Us(_,Er(h),null);s.blueprint[c]=T,a[c]=T,h_(s,o,0,c,sa(s,a,h.hostVars,Yn),h)}function sd(s,o,a){const c=xe(o,s),h=Bh(a),_=s[10],T=Eo(s,Dl(s,h,null,a.onPush?64:16,c,o,_,_.createRenderer(c,a),null,null));s[o.index]=T}function oa(s,o,a,c,h,_){const T=xe(s,o);!function p_(s,o,a,c,h,_,T){if(null==_)Hn(s)?s.removeAttribute(o,h,a):o.removeAttribute(h);else{const x=null==T?re(_):T(_,c||"",h);Hn(s)?s.setAttribute(o,h,x,a):a?o.setAttributeNS(a,h,x):o.setAttribute(h,x)}}(o[11],T,_,s.value,a,c,h)}function Wv(s,o,a,c,h,_){const T=_[o];if(null!==T){const x=c.setInput;for(let k=0;k<T.length;){const W=T[k++],ie=T[k++],ge=T[k++];null!==x?c.setInput(a,ge,W,ie):a[ie]=ge}}}function qv(s,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return a}function g_(s,o,a,c){return new Array(s,!0,!1,o,null,0,c,a,null,null)}function m_(s,o){const a=U(o,s);if(O(a)){const c=a[1];80&a[2]?el(c,a,c.template,a[8]):a[5]>0&&lp(a)}}function lp(s){for(let c=Jc(s);null!==c;c=sc(c))for(let h=10;h<c.length;h++){const _=c[h];if(1024&_[2]){const T=_[1];el(T,_,T.template,_[8])}else _[5]>0&&lp(_)}const a=s[1].components;if(null!==a)for(let c=0;c<a.length;c++){const h=U(a[c],s);O(h)&&h[5]>0&&lp(h)}}function __(s,o){const a=U(o,s),c=a[1];(function zh(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(c,a),dc(c,a,a[8])}function Eo(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function $h(s){for(;s;){s[2]|=64;const o=Qc(s);if(as(s)&&!o)return s;s=o}return null}function cp(s,o,a){const c=o[10];c.begin&&c.begin();try{el(s,o,s.template,a)}catch(h){throw eb(o,h),h}finally{c.end&&c.end()}}function kg(s){!function Og(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],c=Ih(a),h=c[1];Vv(h,c,h.template,a)}}(s[8])}function y_(s,o,a){Vu(0),o(s,a)}const Jv=(()=>Promise.resolve(null))();function v_(s){return s[7]||(s[7]=[])}function dp(s){return s.cleanup||(s.cleanup=[])}function eb(s,o){const a=s[9],c=a?a.get(qc,null):null;c&&c.handleError(o)}function b_(s,o,a,c,h){for(let _=0;_<a.length;){const T=a[_++],x=a[_++],k=o[T],W=s.data[T];null!==W.setInput?W.setInput(k,h,c,x):k[x]=h}}function Oa(s,o,a){const c=ue(o,s);!function Ah(s,o,a){Hn(s)?s.setValue(o,a):o.textContent=a}(s[11],c,a)}function Au(s,o,a){let c=a?s.styles:null,h=a?s.classes:null,_=0;if(null!==o)for(let T=0;T<o.length;T++){const x=o[T];"number"==typeof x?_=x:1==_?h=de(h,x):2==_&&(c=de(c,x+": "+o[++T]+";"))}a?s.styles=c:s.stylesWithoutHost=c,a?s.classes=h:s.classesWithoutHost=h}const ad=new Si("INJECTOR",-1);class w_{get(o,a=Yo){if(a===Yo){const c=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw c.name="NullInjectorError",c}return a}}const Rg=new Si("Set Injector scope."),fc={},rC={};let C_;function Dr(){return void 0===C_&&(C_=new w_),C_}function hp(s,o=null,a=null,c){const h=fp(s,o,a,c);return h._resolveInjectorDefTypes(),h}function fp(s,o=null,a=null,c){return new nb(s,a,o||Dr(),c)}class nb{constructor(o,a,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];a&&Hs(a,x=>this.processProvider(x,o,a)),Hs([o],x=>this.processInjectorType(x,[],_)),this.records.set(ad,eu(void 0,this));const T=this.records.get(Rg);this.scope=null!=T?T.value:null,this.source=h||("object"==typeof o?null:ce(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Yo,c=ln.Default){this.assertNotDestroyed();const h=yo(this),_=Zi(void 0);try{if(!(c&ln.SkipSelf)){let x=this.records.get(o);if(void 0===x){const k=function Ms(s){return"function"==typeof s||"object"==typeof s&&s instanceof Si}(o)&&Jn(o);x=k&&this.injectableDefInScope(k)?eu(E_(o),fc):null,this.records.set(o,x)}if(null!=x)return this.hydrate(o,x)}return(c&ln.Self?Dr():this.parent).get(o,a=c&ln.Optional&&a===Yo?null:a)}catch(T){if("NullInjectorError"===T.name){if((T[zl]=T[zl]||[]).unshift(ce(o)),h)throw T;return function st(s,o,a,c){const h=s[zl];throw o[Ku]&&h.unshift(o[Ku]),s.message=function xt(s,o,a,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let _=[];for(let T in o)if(o.hasOwnProperty(T)){let x=o[T];_.push(T+":"+("string"==typeof x?JSON.stringify(x):ce(x)))}h=`{${_.join(", ")}}`}return`${a}${c?"("+c+")":""}[${h}]: ${s.replace(vu,"\n  ")}`}("\n"+s.message,h,a,c),s.ngTokenPath=h,s[zl]=null,s}(T,o,"R3InjectorError",this.source)}throw T}finally{Zi(_),yo(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(ce(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,a,c){if(!(o=te(o)))return!1;let h=or(o);const _=null==h&&o.ngModule||void 0,T=void 0===_?o:_,x=-1!==c.indexOf(T);if(void 0!==_&&(h=or(_)),null==h)return!1;if(null!=h.imports&&!x){let ie;c.push(T);try{Hs(h.imports,ge=>{this.processInjectorType(ge,a,c)&&(void 0===ie&&(ie=[]),ie.push(ge))})}finally{}if(void 0!==ie)for(let ge=0;ge<ie.length;ge++){const{ngModule:Pe,providers:Ke}=ie[ge];Hs(Ke,bt=>this.processProvider(bt,Pe,Ke||Cn))}}this.injectorDefTypes.add(T);const k=us(T)||(()=>new T);this.records.set(T,eu(k,fc));const W=h.providers;if(null!=W&&!x){const ie=o;Hs(W,ge=>this.processProvider(ge,ie,W))}return void 0!==_&&void 0!==o.providers}processProvider(o,a,c){let h=Yd(o=te(o))?o:te(o&&o.provide);const _=function sC(s,o,a){return Mu(s)?eu(void 0,s.useValue):eu(T_(s),fc)}(o);if(Yd(o)||!0!==o.multi)this.records.get(h);else{let T=this.records.get(h);T||(T=eu(void 0,fc,!0),T.factory=()=>se(T.multi),this.records.set(h,T)),h=o,T.multi.push(o)}this.records.set(h,_)}hydrate(o,a){return a.value===fc&&(a.value=rC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function oC(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function E_(s){const o=Jn(s),a=null!==o?o.factory:us(s);if(null!==a)return a;if(s instanceof Si)throw new Error(`Token ${ce(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function pp(s){const o=s.length;if(o>0){const c=bl(o,"?");throw new Error(`Can't resolve all parameters for ${ce(s)}: (${c.join(", ")}).`)}const a=function jn(s){const o=s&&(s[er]||s[$i]);if(o){const a=function _s(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Error("unreachable")}function T_(s,o,a){let c;if(Yd(s)){const h=te(s);return us(h)||E_(h)}if(Mu(s))c=()=>te(s.useValue);else if(function rb(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...se(s.deps||[]));else if(function ib(s){return!(!s||!s.useExisting)}(s))c=()=>br(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function I_(s){return!!s.deps}(s))return us(h)||E_(h);c=()=>new h(...se(s.deps))}return c}function eu(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Mu(s){return null!==s&&"object"==typeof s&&Pc in s}function Yd(s){return"function"==typeof s}let Qn=(()=>{class s{static create(a,c){var h;if(Array.isArray(a))return hp({name:""},c,a,"");{const _=null!==(h=a.name)&&void 0!==h?h:"";return hp({name:_},a.parent,a.providers,_)}}}return s.THROW_IF_NOT_FOUND=Yo,s.NULL=new w_,s.\u0275prov=qe({token:s,providedIn:"any",factory:()=>br(ad)}),s.__NG_ELEMENT_ID__=-1,s})();function cC(s,o){Po(Ih(s)[1],Ai())}function k_(s){let o=function O_(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const c=[s];for(;o;){let h;if(Er(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");h=o.\u0275dir}if(h){if(a){c.push(h);const T=s;T.inputs=yp(s.inputs),T.declaredInputs=yp(s.declaredInputs),T.outputs=yp(s.outputs);const x=h.hostBindings;x&&ku(s,x);const k=h.viewQuery,W=h.contentQueries;if(k&&db(s,k),W&&vp(s,W),J(s.inputs,h.inputs),J(s.declaredInputs,h.declaredInputs),J(s.outputs,h.outputs),Er(h)&&h.data.animation){const ie=s.data;ie.animation=(ie.animation||[]).concat(h.data.animation)}}const _=h.features;if(_)for(let T=0;T<_.length;T++){const x=_[T];x&&x.ngInherit&&x(s),x===k_&&(a=!1)}}o=Object.getPrototypeOf(o)}!function ro(s){let o=0,a=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=ba(h.hostAttrs,a=ba(a,h.hostAttrs))}}(c)}function yp(s){return s===on?{}:s===Cn?[]:s}function db(s,o){const a=s.viewQuery;s.viewQuery=a?(c,h)=>{o(c,h),a(c,h)}:o}function vp(s,o){const a=s.contentQueries;s.contentQueries=a?(c,h,_)=>{o(c,h,_),a(c,h,_)}:o}function ku(s,o){const a=s.hostBindings;s.hostBindings=a?(c,h)=>{o(c,h),a(c,h)}:o}let wp=null;function Jd(){if(!wp){const s=Xt.Symbol;if(s&&s.iterator)wp=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(wp=c)}}}return wp}function Cp(s){return!!Tp(s)&&(Array.isArray(s)||!(s instanceof Map)&&Jd()in s)}function Tp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ru(s,o,a){return s[o]=a}function Gh(s,o){return s[o]}function To(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function ld(s,o,a,c){const h=To(s,o,a);return To(s,o+1,c)||h}function Lg(s,o,a,c,h){const _=ld(s,o,a,c);return To(s,o+2,h)||_}function tl(s,o,a,c,h,_){const T=ld(s,o,a,c);return ld(s,o+2,h,_)||T}function P_(s,o,a,c){const h=St();return To(h,ko(),o)&&(qn(),oa(Li(),h,s,o,a,c)),P_}function tu(s,o,a,c){return To(s,ko(),a)?o+re(a)+c:Yn}function nu(s,o,a,c,h,_){const x=ld(s,function Xs(){return Kt.lFrame.bindingIndex}(),a,h);return Is(2),x?o+re(a)+c+re(h)+_:Yn}function yb(s,o,a,c,h,_,T,x){const k=St(),W=qn(),ie=s+20,ge=W.firstCreatePass?function hC(s,o,a,c,h,_,T,x,k){const W=o.consts,ie=uc(o,s,4,T||null,et(W,x));Hh(o,a,ie,et(W,k)),Po(o,ie);const ge=ie.tViews=op(2,ie,c,h,_,o.directiveRegistry,o.pipeRegistry,null,o.schemas,W);return null!==o.queries&&(o.queries.template(o,ie),ge.queries=o.queries.embeddedTView(ie)),ie}(ie,W,k,o,a,c,h,_,T):W.data[ie];hs(ge,!1);const Pe=k[11].createComment("");zd(W,k,Pe,ge),io(Pe,k),Eo(k,k[ie]=g_(Pe,k,Pe,ge)),mr(ge)&&hc(W,k,ge),null!=T&&sp(k,ge,x)}function vb(s){return nn(function jr(){return Kt.lFrame.contextLView}(),20+s)}function mc(s,o=ln.Default){const a=St();return null===a?br(s,o):ae(Ai(),a,te(s),o)}function fd(){throw new Error("invalid")}function _c(s,o,a){const c=St();return To(c,ko(),o)&&Ma(qn(),Li(),c,s,o,c[11],a,!1),_c}function jg(s,o,a,c,h){const T=h?"class":"style";b_(s,a,o.inputs[T],T,c)}function Z_(s,o,a,c){const h=St(),_=qn(),T=20+s,x=h[11],k=h[T]=Xc(x,o,function Bu(){return Kt.lFrame.currentNamespace}()),W=_.firstCreatePass?function EC(s,o,a,c,h,_,T){const x=o.consts,W=uc(o,s,2,h,et(x,_));return Hh(o,a,W,et(x,T)),null!==W.attrs&&Au(W,W.attrs,!1),null!==W.mergedAttrs&&Au(W,W.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,W),W}(T,_,h,0,o,a,c):_.data[T];hs(W,!0);const ie=W.mergedAttrs;null!==ie&&Fl(x,k,ie);const ge=W.classes;null!==ge&&Fn(x,k,ge);const Pe=W.styles;null!==Pe&&dn(x,k,Pe),64!=(64&W.flags)&&zd(_,h,k,W),0===function Nr(){return Kt.lFrame.elementDepthCount}()&&io(k,h),function Jr(){Kt.lFrame.elementDepthCount++}(),mr(W)&&(hc(_,h,W),Dg(_,W,h)),null!==c&&sp(h,W)}function Sp(){let s=Ai();Na()?Js():(s=s.parent,hs(s,!1));const o=s;!function Qs(){Kt.lFrame.elementDepthCount--}();const a=qn();a.firstCreatePass&&(Po(a,s),vs(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function uu(s){return 0!=(16&s.flags)}(o)&&jg(a,o,St(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function to(s){return 0!=(32&s.flags)}(o)&&jg(a,o,St(),o.stylesWithoutHost,!1)}function Dp(s,o,a,c){Z_(s,o,a,c),Sp()}function nh(s,o,a){const c=St(),h=qn(),_=s+20,T=h.firstCreatePass?function Ob(s,o,a,c,h){const _=o.consts,T=et(_,c),x=uc(o,s,8,"ng-container",T);return null!==T&&Au(x,T,!0),Hh(o,a,x,et(_,h)),null!==o.queries&&o.queries.elementStart(o,x),x}(_,h,c,o,a):h.data[_];hs(T,!0);const x=c[_]=c[11].createComment("");zd(h,c,x,T),io(x,c),mr(T)&&(hc(h,c,T),Dg(h,T,c)),null!=a&&sp(c,T)}function Xh(){let s=Ai();const o=qn();Na()?Js():(s=s.parent,hs(s,!1)),o.firstCreatePass&&(Po(o,s),vs(s)&&o.queries.elementEnd(s))}function ef(s,o,a){nh(s,o,a),Xh()}function G_(){return St()}function zg(s){return!!s&&"function"==typeof s.then}function la(s){return!!s&&"function"==typeof s.subscribe}const W_=la;function tf(s,o,a,c){const h=St(),_=qn(),T=Ai();return function yc(s,o,a,c,h,_,T,x){const k=mr(c),ie=s.firstCreatePass&&dp(s),ge=o[8],Pe=v_(o);let Ke=!0;if(3&c.type||x){const Qt=xe(c,o),hn=x?x(Qt):Qt,At=Pe.length,Dn=x?Ei=>x(B(Ei[c.index])):c.index;if(Hn(a)){let Ei=null;if(!x&&k&&(Ei=function kb(s,o,a,c){const h=s.cleanup;if(null!=h)for(let _=0;_<h.length-1;_+=2){const T=h[_];if(T===a&&h[_+1]===c){const x=o[7],k=h[_+2];return x.length>k?x[k]:null}"string"==typeof T&&(_+=2)}return null}(s,o,h,c.index)),null!==Ei)(Ei.__ngLastListenerFn__||Ei).__ngNextListenerFn__=_,Ei.__ngLastListenerFn__=_,Ke=!1;else{_=$g(c,o,ge,_,!1);const Xi=a.listen(hn,h,_);Pe.push(_,Xi),ie&&ie.push(h,Dn,At,At+1)}}else _=$g(c,o,ge,_,!0),hn.addEventListener(h,_,T),Pe.push(_),ie&&ie.push(h,Dn,At,T)}else _=$g(c,o,ge,_,!1);const bt=c.outputs;let Ut;if(Ke&&null!==bt&&(Ut=bt[h])){const Qt=Ut.length;if(Qt)for(let hn=0;hn<Qt;hn+=2){const Rl=o[Ut[hn]][Ut[hn+1]].subscribe(_),yh=Pe.length;Pe.push(_,Rl),ie&&ie.push(h,c.index,yh,-(yh+1))}}}(_,h,h[11],T,s,o,!!a,c),tf}function ih(s,o,a,c){try{return!1!==a(c)}catch(h){return eb(s,h),!1}}function $g(s,o,a,c,h){return function _(T){if(T===Function)return c;const x=2&s.flags?U(s.index,o):o;0==(32&o[2])&&$h(x);let k=ih(o,0,c,T),W=_.__ngNextListenerFn__;for(;W;)k=ih(o,0,W,T)&&k,W=W.__ngNextListenerFn__;return h&&!1===k&&(T.preventDefault(),T.returnValue=!1),k}}function pd(s=1){return function dl(s){return(Kt.lFrame.contextLView=function hl(s,o){for(;s>0;)o=o[15],s--;return o}(s,Kt.lFrame.contextLView))[8]}(s)}function TC(s,o){let a=null;const c=function j0(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(s);for(let h=0;h<o.length;h++){const _=o[h];if("*"!==_){if(null===c?Ov(s,_,!0):xT(c,_))return h}else a=h}return a}function rh(s){const o=St()[16][6];if(!o.projection){const c=o.projection=bl(s?s.length:1,null),h=c.slice();let _=o.child;for(;null!==_;){const T=s?TC(_,s):0;null!==T&&(h[T]?h[T].projectionNext=_:c[T]=_,h[T]=_),_=_.next}}}function q_(s,o=0,a){const c=St(),h=qn(),_=uc(h,20+s,16,null,a||null);null===_.projection&&(_.projection=o),Js(),64!=(64&_.flags)&&function Vt(s,o,a){rs(o[11],0,o,a,Rt(s,a,o),Mh(a.parent||o[6],a,o))}(h,c,_)}function Pu(s,o,a){return Zg(s,"",o,"",a),Pu}function Zg(s,o,a,c,h){const _=St(),T=tu(_,o,a,c);return T!==Yn&&Ma(qn(),Li(),_,s,T,_[11],h,!1),Zg}function nf(s,o,a,c,h){const _=s[a+1],T=null===o;let x=c?Ql(_):Jl(_),k=!1;for(;0!==x&&(!1===k||T);){const ie=s[x+1];Bb(s[x],o)&&(k=!0,s[x+1]=c?Nh(ie):Ph(ie)),x=c?Ql(ie):Jl(ie)}k&&(s[a+1]=c?Ph(_):Nh(_))}function Bb(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&_o(s,o)>=0}const ks={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ub(s){return s.substring(ks.key,ks.keyEnd)}function jb(s,o){const a=ks.textEnd;return a===o?-1:(o=ks.keyEnd=function SC(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,ks.key=o,a),rf(s,o,a))}function rf(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Gg(s,o,a){return nl(s,o,a,!1),Gg}function Op(s,o){return nl(s,o,null,!0),Op}function Rp(s){!function Ol(s,o,a,c){const h=qn(),_=Is(2);h.firstUpdatePass&&X_(h,null,_,c);const T=St();if(a!==Yn&&To(T,_,a)){const x=h.data[cr()];if(ny(x,c)&&!$b(h,_)){let k=c?x.classesWithoutHost:x.stylesWithoutHost;null!==k&&(a=de(k,a||"")),jg(h,x,T,a,c)}else!function of(s,o,a,c,h,_,T,x){h===Yn&&(h=Cn);let k=0,W=0,ie=0<h.length?h[0]:null,ge=0<_.length?_[0]:null;for(;null!==ie||null!==ge;){const Pe=k<h.length?h[k+1]:void 0,Ke=W<_.length?_[W+1]:void 0;let Ut,bt=null;ie===ge?(k+=2,W+=2,Pe!==Ke&&(bt=ge,Ut=Ke)):null===ge||null!==ie&&ie<ge?(k+=2,bt=ie):(W+=2,bt=ge,Ut=Ke),null!==bt&&Wg(s,o,a,c,bt,Ut,T,x),ie=k<h.length?h[k]:null,ge=W<_.length?_[W]:null}}(h,x,T,T[11],T[_+1],T[_+1]=function MC(s,o,a){if(null==a||""===a)return Cn;const c=[],h=Tl(a);if(Array.isArray(h))for(let _=0;_<h.length;_++)s(c,h[_],!0);else if("object"==typeof h)for(const _ in h)h.hasOwnProperty(_)&&s(c,_,h[_]);else"string"==typeof h&&o(c,h);return c}(s,o,a),c,_)}}(ts,Ml,s,!0)}function Ml(s,o){for(let a=function IC(s){return function zb(s){ks.key=0,ks.keyEnd=0,ks.value=0,ks.valueEnd=0,ks.textEnd=s.length}(s),jb(s,rf(s,0,ks.textEnd))}(o);a>=0;a=jb(o,a))ts(s,Ub(o),!0)}function nl(s,o,a,c){const h=St(),_=qn(),T=Is(2);_.firstUpdatePass&&X_(_,s,T,c),o!==Yn&&To(h,T,o)&&Wg(_,_.data[cr()],h,h[11],s,h[T+1]=function Wb(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(Tl(s)))),s}(o,a),c,T)}function $b(s,o){return o>=s.expandoStartIndex}function X_(s,o,a,c){const h=s.data;if(null===h[a+1]){const _=h[cr()],T=$b(s,a);ny(_,c)&&null===o&&!T&&(o=!1),o=function Zb(s,o,a,c){const h=function Fa(s){const o=Kt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let _=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(a=sf(a=ty(null,s,o,a,c),o.attrs,c),_=null);else{const T=o.directiveStylingLast;if(-1===T||s[T]!==h)if(a=ty(h,s,o,a,c),null===_){let k=function ey(s,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Jl(c))return s[Ql(c)]}(s,o,c);void 0!==k&&Array.isArray(k)&&(k=ty(null,s,o,k[1],c),k=sf(k,o.attrs,c),function AC(s,o,a,c){s[Ql(a?o.classBindings:o.styleBindings)]=c}(s,o,c,k))}else _=function Gb(s,o,a){let c;const h=o.directiveEnd;for(let _=1+o.directiveStylingLast;_<h;_++)c=sf(c,s[_].hostAttrs,a);return sf(c,o.attrs,a)}(s,o,c)}return void 0!==_&&(c?o.residualClasses=_:o.residualStyles=_),a}(h,_,o,c),function Vb(s,o,a,c,h,_){let T=_?o.classBindings:o.styleBindings,x=Ql(T),k=Jl(T);s[c]=a;let ie,W=!1;if(Array.isArray(a)){const ge=a;ie=ge[1],(null===ie||_o(ge,ie)>0)&&(W=!0)}else ie=a;if(h)if(0!==k){const Pe=Ql(s[x+1]);s[c+1]=Ci(Pe,x),0!==Pe&&(s[Pe+1]=ac(s[Pe+1],c)),s[x+1]=function Yt(s,o){return 131071&s|o<<17}(s[x+1],c)}else s[c+1]=Ci(x,0),0!==x&&(s[x+1]=ac(s[x+1],c)),x=c;else s[c+1]=Ci(k,0),0===x?x=c:s[k+1]=ac(s[k+1],c),k=c;W&&(s[c+1]=Ph(s[c+1])),nf(s,ie,c,!0),nf(s,ie,c,!1),function sh(s,o,a,c,h){const _=h?s.residualClasses:s.residualStyles;null!=_&&"string"==typeof o&&_o(_,o)>=0&&(a[c+1]=Nh(a[c+1]))}(o,ie,s,c,_),T=Ci(x,k),_?o.classBindings=T:o.styleBindings=T}(h,_,o,a,T,c)}}function ty(s,o,a,c,h){let _=null;const T=a.directiveEnd;let x=a.directiveStylingLast;for(-1===x?x=a.directiveStart:x++;x<T&&(_=o[x],c=sf(c,_.hostAttrs,h),_!==s);)x++;return null!==s&&(a.directiveStylingLast=x),c}function sf(s,o,a){const c=a?1:2;let h=-1;if(null!==o)for(let _=0;_<o.length;_++){const T=o[_];"number"==typeof T?h=T:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ts(s,T,!!a||o[++_]))}return void 0===s?null:s}function Wg(s,o,a,c,h,_,T,x){if(!(3&o.type))return;const k=s.data,W=k[x+1];Np(function Nv(s){return 1==(1&s)}(W)?Pp(k,o,a,h,Jl(W),T):void 0)||(Np(_)||function Zr(s){return 2==(2&s)}(W)&&(_=Pp(k,null,a,h,x,T)),function t_(s,o,a,c,h){const _=Hn(s);if(o)h?_?s.addClass(a,c):a.classList.add(c):_?s.removeClass(a,c):a.classList.remove(c);else{let T=-1===c.indexOf("-")?void 0:Ka.DashCase;if(null==h)_?s.removeStyle(a,c,T):a.style.removeProperty(c);else{const x="string"==typeof h&&h.endsWith("!important");x&&(h=h.slice(0,-10),T|=Ka.Important),_?s.setStyle(a,c,h,T):a.style.setProperty(c,h,x?"important":"")}}}(c,T,ue(cr(),a),h,_))}function Pp(s,o,a,c,h,_){const T=null===o;let x;for(;h>0;){const k=s[h],W=Array.isArray(k),ie=W?k[1]:k,ge=null===ie;let Pe=a[h+1];Pe===Yn&&(Pe=ge?Cn:void 0);let Ke=ge?Ia(Pe,c):ie===c?Pe:void 0;if(W&&!Np(Ke)&&(Ke=Ia(k,c)),Np(Ke)&&(x=Ke,T))return x;const bt=s[h+1];h=T?Ql(bt):Jl(bt)}if(null!==o){let k=_?o.residualClasses:o.residualStyles;null!=k&&(x=Ia(k,c))}return x}function Np(s){return void 0!==s}function ny(s,o){return 0!=(s.flags&(o?16:32))}function qb(s,o=""){const a=St(),c=qn(),h=s+20,_=c.firstCreatePass?uc(c,h,1,o,null):c.data[h],T=a[h]=function xh(s,o){return Hn(s)?s.createText(o):s.createTextNode(o)}(a[11],o);zd(c,a,T,_),hs(_,!1)}function Fp(s){return qg("",s,""),Fp}function qg(s,o,a){const c=St(),h=tu(c,s,o,a);return h!==Yn&&Oa(c,cr(),h),qg}function Lp(s,o,a,c,h){const _=St(),T=nu(_,s,o,a,c,h);return T!==Yn&&Oa(_,cr(),T),Lp}const gd=void 0;var uy=["en",[["a","p"],["AM","PM"],gd],[["AM","PM"],gd,gd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gd,"{1} 'at' {0}",gd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function UC(s){const a=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let cf={};function cy(s){const o=function dy(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=im(o);if(a)return a;const c=o.split("-")[0];if(a=im(c),a)return a;if("en"===c)return uy;throw new Error(`Missing locale data for the locale "${s}".`)}function jp(s){return cy(s)[wn.PluralCase]}function im(s){return s in cf||(cf[s]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[s]),cf[s]}var wn=(()=>((wn=wn||{})[wn.LocaleId=0]="LocaleId",wn[wn.DayPeriodsFormat=1]="DayPeriodsFormat",wn[wn.DayPeriodsStandalone=2]="DayPeriodsStandalone",wn[wn.DaysFormat=3]="DaysFormat",wn[wn.DaysStandalone=4]="DaysStandalone",wn[wn.MonthsFormat=5]="MonthsFormat",wn[wn.MonthsStandalone=6]="MonthsStandalone",wn[wn.Eras=7]="Eras",wn[wn.FirstDayOfWeek=8]="FirstDayOfWeek",wn[wn.WeekendRange=9]="WeekendRange",wn[wn.DateFormat=10]="DateFormat",wn[wn.TimeFormat=11]="TimeFormat",wn[wn.DateTimeFormat=12]="DateTimeFormat",wn[wn.NumberSymbols=13]="NumberSymbols",wn[wn.NumberFormats=14]="NumberFormats",wn[wn.CurrencyCode=15]="CurrencyCode",wn[wn.CurrencySymbol=16]="CurrencySymbol",wn[wn.CurrencyName=17]="CurrencyName",wn[wn.Currencies=18]="Currencies",wn[wn.Directionality=19]="Directionality",wn[wn.PluralCase=20]="PluralCase",wn[wn.ExtraData=21]="ExtraData",wn))();const zp="en-US";let iw=zp;function Zp(s,o,a,c,h){if(s=te(s),Array.isArray(s))for(let _=0;_<s.length;_++)Zp(s[_],o,a,c,h);else{const _=qn(),T=St();let x=Yd(s)?s:te(s.provide),k=T_(s);const W=Ai(),ie=1048575&W.providerIndexes,ge=W.directiveStart,Pe=W.providerIndexes>>20;if(Yd(s)||!s.multi){const Ke=new Us(k,h,mc),bt=_m(x,o,h?ie:ie+Pe,ge);-1===bt?(D(Ca(W,T),_,x),Py(_,s,o.length),o.push(x),W.directiveStart++,W.directiveEnd++,h&&(W.providerIndexes+=1048576),a.push(Ke),T.push(Ke)):(a[bt]=Ke,T[bt]=Ke)}else{const Ke=_m(x,o,ie+Pe,ge),bt=_m(x,o,ie,ie+Pe),Ut=Ke>=0&&a[Ke],Qt=bt>=0&&a[bt];if(h&&!Qt||!h&&!Ut){D(Ca(W,T),_,x);const hn=function vm(s,o,a,c,h){const _=new Us(s,a,mc);return _.multi=[],_.index=o,_.componentProviders=0,Ny(_,h,c&&!a),_}(h?Fy:aE,a.length,h,c,k);!h&&Qt&&(a[bt].providerFactory=hn),Py(_,s,o.length,0),o.push(x),W.directiveStart++,W.directiveEnd++,h&&(W.providerIndexes+=1048576),a.push(hn),T.push(hn)}else Py(_,s,Ke>-1?Ke:bt,Ny(a[h?bt:Ke],k,!h&&c));!h&&c&&Qt&&a[bt].componentProviders++}}}function Py(s,o,a,c){const h=Yd(o),_=function Zh(s){return!!s.useClass}(o);if(h||_){const k=(_?te(o.useClass):o).prototype.ngOnDestroy;if(k){const W=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const ie=W.indexOf(a);-1===ie?W.push(a,[c,k]):W[ie+1].push(c,k)}else W.push(a,k)}}}function Ny(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function _m(s,o,a,c){for(let h=a;h<c;h++)if(o[h]===s)return h;return-1}function aE(s,o,a,c){return ym(this.multi,[])}function Fy(s,o,a,c){const h=this.multi;let _;if(this.providerFactory){const T=this.providerFactory.componentProviders,x=Vn(a,a[1],this.providerFactory.index,c);_=x.slice(0,T),ym(h,_);for(let k=T;k<x.length;k++)_.push(x[k])}else _=[],ym(h,_);return _}function ym(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function yw(s,o=[]){return a=>{a.providersResolver=(c,h)=>function Ry(s,o,a){const c=qn();if(c.firstCreatePass){const h=Er(s);Zp(a,c.data,c.blueprint,h,!0),Zp(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class vw{}class ww{resolveComponentFactory(o){throw function uE(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let hh=(()=>{class s{}return s.NULL=new ww,s})();function Vy(){return yd(Ai(),St())}function yd(s,o){return new vd(xe(s,o))}let vd=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Vy,s})();function By(s){return s instanceof vd?s.nativeElement:s}class Gp{}let Cw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function _f(){const s=St(),a=U(Ai().index,s);return function Uy(s){return s[11]}(gr(a)?a:s)}(),s})(),Hy=(()=>{class s{}return s.\u0275prov=qe({token:s,providedIn:"root",factory:()=>null}),s})();class Ew{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Tw=new Ew("13.0.3"),jy={};function Wp(s,o,a,c,h=!1){for(;null!==a;){const _=o[a.index];if(null!==_&&c.push(B(_)),Pr(_))for(let x=10;x<_.length;x++){const k=_[x],W=k[1].firstChild;null!==W&&Wp(k[1],k,W,c)}const T=a.type;if(8&T)Wp(s,o,a.child,c);else if(32&T){const x=Vd(a,o);let k;for(;k=x();)c.push(k)}else if(16&T){const x=is(o,a);if(Array.isArray(x))c.push(...x);else{const k=Qc(o[16]);Wp(k[1],k,x,c,!0)}}a=h?a.projectionNext:a.next}return c}class qp{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Wp(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Pr(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(E(o,c),mo(a,c))}this._attachedToViewContainer=!1}$(this._lView[1],this._lView)}onDestroy(o){Uv(this._lView[1],this._lView,null,o)}markForCheck(){$h(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){cp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Yv(s,o,a){ho(!0);try{cp(s,o,a)}finally{ho(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jf(s,o){ep(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class Iw extends qp{constructor(o){super(o),this._view=o}detectChanges(){kg(this._view)}checkNoChanges(){!function Qv(s){ho(!0);try{kg(s)}finally{ho(!1)}}(this._view)}get context(){return null}}class Sw extends hh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=di(o);return new Kp(a,this.ngModule)}}function Dw(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}const hE=new Si("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Iu});class Kp extends vw{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Kn(s){return s.map(Pv).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Dw(this.componentDef.inputs)}get outputs(){return Dw(this.componentDef.outputs)}create(o,a,c,h){const _=(h=h||this.ngModule)?function xw(s,o){return{get:(a,c,h)=>{const _=s.get(a,jy,h);return _!==jy||c===jy?_:o.get(a,c,h)}}}(o,h.injector):o,T=_.get(Gp,Ts),x=_.get(Hy,null),k=T.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",ie=c?function c_(s,o,a){if(Hn(s))return s.selectRootElement(o,a===Pt.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(k,c,this.componentDef.encapsulation):Xc(T.createRenderer(null,this.componentDef),W,function dE(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(W)),ge=this.componentDef.onPush?576:528,Pe=function cb(s,o){return{components:[],scheduler:s||Iu,clean:Jv,playerHandler:o||null,flags:0}}(),Ke=op(0,null,null,1,0,null,null,null,null,null),bt=Dl(null,Ke,Pe,ge,null,null,T,k,x,_);let Ut,Qt;Zo(bt);try{const hn=function M_(s,o,a,c,h,_){const T=a[1];a[20]=s;const k=uc(T,20,2,"#host",null),W=k.mergedAttrs=o.hostAttrs;null!==W&&(Au(k,W,!0),null!==s&&(Fl(h,s,W),null!==k.classes&&Fn(h,s,k.classes),null!==k.styles&&dn(h,s,k.styles)));const ie=c.createRenderer(s,o),ge=Dl(a,Bh(o),null,o.onPush?64:16,a[20],k,c,ie,_||null,null);return T.firstCreatePass&&(D(Ca(k,a),T,o.type),f_(T,k),Zv(k,a.length,1)),Eo(a,ge),a[20]=ge}(ie,this.componentDef,bt,T,k);if(ie)if(c)Fl(k,ie,["ng-version",Tw.full]);else{const{attrs:At,classes:Dn}=function kh(s){const o=[],a=[];let c=1,h=2;for(;c<s.length;){let _=s[c];if("string"==typeof _)2===h?""!==_&&o.push(_,s[++c]):8===h&&a.push(_);else{if(!Yl(h))break;h=_}c++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);At&&Fl(k,ie,At),Dn&&Dn.length>0&&Fn(k,ie,Dn.join(" "))}if(Qt=It(Ke,20),void 0!==a){const At=Qt.projection=[];for(let Dn=0;Dn<this.ngContentSelectors.length;Dn++){const Ei=a[Dn];At.push(null!=Ei?Array.from(Ei):null)}}Ut=function ub(s,o,a,c,h){const _=a[1],T=function Mg(s,o,a){const c=Ai();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Gv(s,c,o,sa(s,o,1,null),a));const h=Vn(o,s,c.directiveStart,c);io(h,o);const _=xe(c,o);return _&&io(_,o),h}(_,a,o);if(c.components.push(T),s[8]=T,h&&h.forEach(k=>k(T,o)),o.contentQueries){const k=Ai();o.contentQueries(1,T,k.directiveStart)}const x=Ai();return!_.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Bs(x.index),h_(a[1],x,0,x.directiveStart,x.directiveEnd,o),$v(o,T)),T}(hn,this.componentDef,bt,Pe,[cC]),dc(Ke,bt,null)}finally{Go()}return new Mw(this.componentType,Ut,yd(Qt,bt),bt,Qt)}}class Mw extends class lE{}{constructor(o,a,c,h,_){super(),this.location=c,this._rootLView=h,this._tNode=_,this.instance=a,this.hostView=this.changeDetectorRef=new Iw(h),this.componentType=o}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class fi{}class zy{}const fh=new Map;class kw extends fi{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Sw(this);const c=Qi(o);this._bootstrapComponents=Sl(c.bootstrap),this._r3Injector=fp(o,a,[{provide:fi,useValue:this},{provide:hh,useValue:this.componentFactoryResolver}],ce(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Qn.THROW_IF_NOT_FOUND,c=ln.Default){return o===Qn||o===fi||o===ad?this:this._r3Injector.get(o,a,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class yf extends zy{constructor(o){super(),this.moduleType=o,null!==Qi(o)&&function xr(s){const o=new Set;!function a(c){const h=Qi(c,!0),_=h.id;null!==_&&(function Ow(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${ce(o)} vs ${ce(o.name)}`)}(_,fh.get(_),c),fh.set(_,c));const T=Sl(h.imports);for(const x of T)o.has(x)||(o.add(x),a(x))}(s)}(o)}create(o){return new kw(this.moduleType,o)}}function $y(s,o,a){const c=sr()+s,h=St();return h[c]===Yn?Ru(h,c,a?o.call(a):o()):Gh(h,c)}function Zy(s,o,a,c){return Fw(St(),sr(),s,o,a,c)}function Rw(s,o,a,c,h){return Lw(St(),sr(),s,o,a,c,h)}function Cm(s,o,a,c,h,_){return function Gy(s,o,a,c,h,_,T,x){const k=o+a;return Lg(s,k,h,_,T)?Ru(s,k+3,x?c.call(x,h,_,T):c(h,_,T)):vf(s,k+3)}(St(),sr(),s,o,a,c,h,_)}function Pw(s,o,a,c,h,_,T){return function Vw(s,o,a,c,h,_,T,x,k){const W=o+a;return tl(s,W,h,_,T,x)?Ru(s,W+4,k?c.call(k,h,_,T,x):c(h,_,T,x)):vf(s,W+4)}(St(),sr(),s,o,a,c,h,_,T)}function Nw(s,o,a,c,h,_,T,x){const k=sr()+s,W=St(),ie=tl(W,k,a,c,h,_);return To(W,k+4,T)||ie?Ru(W,k+5,x?o.call(x,a,c,h,_,T):o(a,c,h,_,T)):Gh(W,k+5)}function Ar(s,o,a,c,h,_,T,x,k){const W=sr()+s,ie=St(),ge=tl(ie,W,a,c,h,_);return ld(ie,W+4,T,x)||ge?Ru(ie,W+6,k?o.call(k,a,c,h,_,T,x):o(a,c,h,_,T,x)):Gh(ie,W+6)}function gE(s,o,a,c,h,_,T,x,k,W){const ie=sr()+s,ge=St();let Pe=tl(ge,ie,a,c,h,_);return Lg(ge,ie+4,T,x,k)||Pe?Ru(ge,ie+7,W?o.call(W,a,c,h,_,T,x,k):o(a,c,h,_,T,x,k)):Gh(ge,ie+7)}function ms(s,o,a,c){return function Bw(s,o,a,c,h,_){let T=o+a,x=!1;for(let k=0;k<h.length;k++)To(s,T++,h[k])&&(x=!0);return x?Ru(s,T,c.apply(_,h)):vf(s,T)}(St(),sr(),s,o,a,c)}function vf(s,o){const a=s[o];return a===Yn?void 0:a}function Fw(s,o,a,c,h,_){const T=o+a;return To(s,T,h)?Ru(s,T+1,_?c.call(_,h):c(h)):vf(s,T+1)}function Lw(s,o,a,c,h,_,T){const x=o+a;return ld(s,x,h,_)?Ru(s,x+2,T?c.call(T,h,_):c(h,_)):vf(s,x+2)}function Uw(s,o){const a=qn();let c;const h=s+20;a.firstCreatePass?(c=function mE(s,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(s===c.name)return c}}(o,a.pipeRegistry),a.data[h]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,c.onDestroy)):c=a.data[h];const _=c.factory||(c.factory=us(c.type)),T=Zi(mc);try{const x=gl(!1),k=_();return gl(x),function fC(s,o,a,c){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=c}(a,St(),h,k),k}finally{Zi(T)}}function _E(s,o,a){const c=s+20,h=St(),_=nn(h,c);return Em(h,c)?Fw(h,sr(),o,_.transform,a,_):_.transform(a)}function Hw(s,o,a,c){const h=s+20,_=St(),T=nn(_,h);return Em(_,h)?Lw(_,sr(),o,T.transform,a,c,T):T.transform(a,c)}function Em(s,o){return s[1].data[o].pure}function Ec(s){return o=>{setTimeout(s,void 0,o)}}const il=class Nu extends i.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){var h,_,T;let x=o,k=a||(()=>null),W=c;if(o&&"object"==typeof o){const ge=o;x=null===(h=ge.next)||void 0===h?void 0:h.bind(ge),k=null===(_=ge.error)||void 0===_?void 0:_.bind(ge),W=null===(T=ge.complete)||void 0===T?void 0:T.bind(ge)}this.__isAsync&&(k=Ec(k),x&&(x=Ec(x)),W&&(W=Ec(W)));const ie=super.subscribe({next:x,error:k,complete:W});return o instanceof v.w0&&o.add(ie),ie}};function vE(){return this._results[Jd()]()}class Wy{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Jd(),c=Wy.prototype;c[a]||(c[a]=vE)}get changes(){return this._changes||(this._changes=new il)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const h=ki(o);(this._changesDetected=!function kc(s,o,a){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],_=o[c];if(a&&(h=a(h),_=a(_)),_!==h)return!1}return!0}(c._results,h,a))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let bf=(()=>{class s{}return s.__NG_ELEMENT_ID__=bE,s})();const zw=bf,Tm=class extends zw{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o){const a=this._declarationTContainer.tViews,c=Dl(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(c[19]=_.createEmbeddedView(a)),dc(a,c,o),new qp(c)}};function bE(){return Fu(Ai(),St())}function Fu(s,o){return 4&s.type?new Tm(o,s,yd(s,o)):null}let ph=(()=>{class s{}return s.__NG_ELEMENT_ID__=Yp,s})();function Yp(){return Gw(Ai(),St())}const $w=ph,Im=class extends $w{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return yd(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){const o=M(this._hostTNode,this._hostLView);if(Hu(o)){const a=Ua(o,this._hostLView),c=qo(o);return new _i(a[1].data[c+8],a)}return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Zw(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){const h=o.createEmbeddedView(a||{});return this.insert(h,c),h}createComponent(o,a,c,h,_){const T=o&&!function $u(s){return"function"==typeof s}(o);let x;if(T)x=a;else{const ge=a||{};x=ge.index,c=ge.injector,h=ge.projectableNodes,_=ge.ngModuleRef}const k=T?o:new Kp(di(o)),W=c||this.parentInjector;if(!_&&null==k.ngModule&&W){const ge=W.get(fi,null);ge&&(_=ge)}const ie=k.create(W,h,void 0,_);return this.insert(ie.hostView,x),ie}insert(o,a){const c=o._lView,h=c[1];if(function ne(s){return Pr(s[3])}(c)){const ie=this.indexOf(o);if(-1!==ie)this.detach(ie);else{const ge=c[3],Pe=new Im(ge,ge[6],ge[3]);Pe.detach(Pe.indexOf(o))}}const _=this._adjustIndex(a),T=this._lContainer;!function b(s,o,a,c){const h=10+c,_=a.length;c>0&&(a[h-1][4]=o),c<_-10?(o[4]=a[h],vr(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const T=o[17];null!==T&&a!==T&&function p(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(T,o);const x=o[19];null!==x&&x.insertView(s),o[2]|=128}(h,c,T,_);const x=Du(_,T),k=c[11],W=Ya(k,T[7]);return null!==W&&function Qf(s,o,a,c,h,_){c[0]=h,c[6]=o,ep(s,c,a,1,h,_)}(h,T[6],k,c,W,x),o.attachToViewContainerRef(),vr(qy(T),_,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Zw(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=E(this._lContainer,a);c&&(mo(qy(this._lContainer),a),$(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=E(this._lContainer,a);return c&&null!=mo(qy(this._lContainer),a)?new qp(c):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Zw(s){return s[8]}function qy(s){return s[8]||(s[8]=[])}function Gw(s,o){let a;const c=o[s.index];if(Pr(c))a=c;else{let h;if(8&s.type)h=B(c);else{const _=o[11];h=_.createComment("");const T=xe(s,o);tn(_,Ya(_,T),h,function ed(s,o){return Hn(s)?s.nextSibling(o):o.nextSibling}(_,T),!1)}o[s.index]=a=g_(c,o,h,s),Eo(o,a)}return new Im(a,s,o)}class Tc{constructor(o){this.queryList=o,this.matches=null}clone(){return new Tc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let _=0;_<c;_++){const T=a.getByIndex(_);h.push(this.queries[T.indexInDeclarationView].clone())}return new Sm(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Ef(o,a).matches&&this.queries[a].setDirty()}}class Qy{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class Qp{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const h=null!==a?a.length:0,_=this.getByIndex(c).embeddedTView(o,h);_&&(_.indexInDeclarationView=c,null!==a?a.push(_):a=[_])}return null!==a?new Qp(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Jp{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Jp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const _=c[h];this.matchTNodeWithReadOption(o,a,CE(a,_)),this.matchTNodeWithReadOption(o,a,Bt(a,o,_,!1,!1))}else c===bf?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Bt(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===vd||h===ph||h===bf&&4&a.type)this.addMatch(a.index,-2);else{const _=Bt(a,o,h,!1,!1);null!==_&&this.addMatch(a.index,_)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function CE(s,o){const a=s.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function xm(s,o,a,c){return-1===a?function Dm(s,o){return 11&s.type?yd(s,o):4&s.type?Fu(s,o):null}(o,s):-2===a?function Ww(s,o,a){return a===vd?yd(o,s):a===bf?Fu(o,s):a===ph?Gw(o,s):void 0}(s,o,c):Vn(s,s[1],a,o)}function wf(s,o,a,c){const h=o[19].queries[c];if(null===h.matches){const _=s.data,T=a.matches,x=[];for(let k=0;k<T.length;k+=2){const W=T[k];x.push(W<0?null:xm(o,_[W],T[k+1],a.metadata.read))}h.matches=x}return h.matches}function Jy(s,o,a,c){const h=s.queries.getByIndex(a),_=h.matches;if(null!==_){const T=wf(s,o,h,a);for(let x=0;x<_.length;x+=2){const k=_[x];if(k>0)c.push(T[x/2]);else{const W=_[x+1],ie=o[-k];for(let ge=10;ge<ie.length;ge++){const Pe=ie[ge];Pe[17]===Pe[3]&&Jy(Pe[1],Pe,W,c)}if(null!==ie[9]){const ge=ie[9];for(let Pe=0;Pe<ge.length;Pe++){const Ke=ge[Pe];Jy(Ke[1],Ke,W,c)}}}}}return c}function Xp(s){const o=St(),a=qn(),c=eo();Vu(c+1);const h=Ef(a,c);if(s.dirty&&L(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const _=h.crossesNgTemplate?Jy(a,o,c,[]):wf(a,o,h,c);s.reset(_,By),s.notifyOnChanges()}return!0}return!1}function bd(s,o,a){const c=qn();c.firstCreatePass&&(Xy(c,new Qy(s,o,a),-1),2==(2&o)&&(c.staticViewQueries=!0)),qw(c,St(),o)}function Lu(s,o,a,c){const h=qn();if(h.firstCreatePass){const _=Ai();Xy(h,new Qy(o,a,c),_.index),function Kw(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}qw(h,St(),a)}function Cf(){return function wd(s,o){return s[19].queries[o].queryList}(St(),eo())}function qw(s,o,a){const c=new Wy(4==(4&a));Uv(s,o,c,c.destroy),null===o[19]&&(o[19]=new Sm),o[19].queries.push(new Tc(c))}function Xy(s,o,a){null===s.queries&&(s.queries=new Qp),s.queries.track(new Jp(o,a))}function Ef(s,o){return s.queries.getByIndex(o)}function Ic(s,o){return Fu(s,o)}function If(...s){}const ov=new Si("Application Initializer");let mh=(()=>{class s{constructor(a){this.appInits=a,this.resolve=If,this.reject=If,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const _=this.appInits[h]();if(zg(_))a.push(_);else if(W_(_)){const T=new Promise((x,k)=>{_.subscribe({complete:x,error:k})});a.push(T)}}Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(br(ov,8))},s.\u0275prov=qe({token:s,factory:s.\u0275fac}),s})();const ig=new Si("AppId"),c0={provide:ig,useFactory:function BE(){return`${Pm()}${Pm()}${Pm()}`},deps:[]};function Pm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Cd=new Si("Platform Initializer"),rl=new Si("Platform ID"),Uo=new Si("appBootstrapListener");let av=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=qe({token:s,factory:s.\u0275fac}),s})();const Ed=new Si("LocaleId"),Sf=new Si("DefaultCurrencyCode");class Df{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let xc=(()=>{class s{compileModuleSync(a){return new yf(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),_=Sl(Qi(a).declarations).reduce((T,x)=>{const k=di(x);return k&&T.push(new Kp(k)),T},[]);return new Df(c,_)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=qe({token:s,factory:s.\u0275fac}),s})();const HE=(()=>Promise.resolve(0))();function uv(s){"undefined"==typeof Zone?HE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ra{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new il(!1),this.onMicrotaskEmpty=new il(!1),this.onStable=new il(!1),this.onError=new il(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&a,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function jE(){let s=Xt.requestAnimationFrame,o=Xt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function h0(s){const o=()=>{!function Td(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Xt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,cv(s),s.isCheckStableRunning=!0,Af(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),cv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,h,_,T,x)=>{try{return f0(s),a.invokeTask(h,_,T,x)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||s.shouldCoalesceRunChangeDetection)&&o(),dv(s)}},onInvoke:(a,c,h,_,T,x,k)=>{try{return f0(s),a.invoke(h,_,T,x,k)}finally{s.shouldCoalesceRunChangeDetection&&o(),dv(s)}},onHasTask:(a,c,h,_)=>{a.hasTask(h,_),c===h&&("microTask"==_.change?(s._hasPendingMicrotasks=_.microTask,cv(s),Af(s)):"macroTask"==_.change&&(s.hasPendingMacrotasks=_.macroTask))},onHandleError:(a,c,h,_)=>(a.handleError(h,_),s.runOutsideAngular(()=>s.onError.emit(_)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ra.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ra.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,h){const _=this._inner,T=_.scheduleEventTask("NgZoneEvent: "+h,o,zE,If,If);try{return _.runTask(T,a,c)}finally{_.cancelTask(T)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const zE={};function Af(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function cv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function f0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function dv(s){s._nesting--,Af(s)}class hv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new il,this.onMicrotaskEmpty=new il,this.onStable=new il,this.onError=new il}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,h){return o.apply(a,c)}}let fv=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ra.assertNotInAngularZone(),uv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let _=-1;c&&c>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==_),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:_,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,c,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(br(Ra))},s.\u0275prov=qe({token:s,factory:s.\u0275fac}),s})(),rg=(()=>{class s{constructor(){this._applications=new Map,pv.addToWindow(this)}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return pv.findTestabilityInTree(this,a,c)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=qe({token:s,factory:s.\u0275fac}),s})();class $E{addToWindow(o){}findTestabilityInTree(o,a,c){return null}}function YT(s){pv=s}let sl,pv=new $E;const p0=new Si("AllowMultipleToken");class JT{constructor(o,a){this.name=o,this.token=a}}function GE(s,o,a=[]){const c=`Platform: ${o}`,h=new Si(c);return(_=[])=>{let T=WE();if(!T||T.injector.get(p0,!1))if(s)s(a.concat(_).concat({provide:h,useValue:!0}));else{const x=a.concat(_).concat({provide:h,useValue:!0},{provide:Rg,useValue:"platform"});!function XT(s){if(sl&&!sl.destroyed&&!sl.injector.get(p0,!1))throw new ot("400","");sl=s.get(qE);const o=s.get(Cd,null);o&&o.forEach(a=>a())}(Qn.create({providers:x,name:c}))}return function eI(s){const o=WE();if(!o)throw new ot("401","");return o}()}}function WE(){return sl&&!sl.destroyed?sl:null}let qE=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const x=function tI(s,o){let a;return a="noop"===s?new hv:("zone.js"===s?void 0:s)||new Ra({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),k=[{provide:Ra,useValue:x}];return x.run(()=>{const W=Qn.create({providers:k,parent:this.injector,name:a.moduleType.name}),ie=a.create(W),ge=ie.injector.get(qc,null);if(!ge)throw new ot("402","");return x.runOutsideAngular(()=>{const Pe=x.onError.subscribe({next:Ke=>{ge.handleError(Ke)}});ie.onDestroy(()=>{Rs(this._modules,ie),Pe.unsubscribe()})}),function g0(s,o,a){try{const c=a();return zg(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(ge,x,()=>{const Pe=ie.injector.get(mh);return Pe.runInitializers(),Pe.donePromise.then(()=>(function hy(s){Ye(s,"Expected localeId to be defined"),"string"==typeof s&&(iw=s.toLowerCase().replace(/_/g,"-"))}(ie.injector.get(Ed,zp)||zp),this._moduleDoBootstrap(ie),ie))})})}bootstrapModule(a,c=[]){const h=m0({},c);return function QT(s,o,a){const c=new yf(a);return Promise.resolve(c)}(0,0,a).then(_=>this.bootstrapModuleFactory(_,h))}_moduleDoBootstrap(a){const c=a.injector.get(sg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new ot("403","");a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ot("404","");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(br(Qn))},s.\u0275prov=qe({token:s,factory:s.\u0275fac}),s})();function m0(s,o){return Array.isArray(o)?o.reduce(m0,s):Object.assign(Object.assign({},s),o)}let sg=(()=>{class s{constructor(a,c,h,_,T){this._zone=a,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=_,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new z.y(W=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{W.next(this._stable),W.complete()})}),k=new z.y(W=>{let ie;this._zone.runOutsideAngular(()=>{ie=this._zone.onStable.subscribe(()=>{Ra.assertNotInAngularZone(),uv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,W.next(!0))})})});const ge=this._zone.onUnstable.subscribe(()=>{Ra.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{W.next(!1)}))});return()=>{ie.unsubscribe(),ge.unsubscribe()}});this.isStable=(0,fe.T)(x,k.pipe((0,q.B)()))}bootstrap(a,c){if(!this._initStatus.done)throw new ot("405","");let h;h=a instanceof vw?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const _=function ZE(s){return s.isBoundToModule}(h)?void 0:this._injector.get(fi),x=h.create(Qn.NULL,[],c||h.selector,_),k=x.location.nativeElement,W=x.injector.get(fv,null),ie=W&&x.injector.get(rg);return W&&ie&&ie.registerApplication(k,W),x.onDestroy(()=>{this.detachView(x.hostView),Rs(this.components,x),ie&&ie.unregisterApplication(k)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new ot("101","");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;Rs(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Uo,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(br(Ra),br(Qn),br(qc),br(hh),br(mh))},s.\u0275prov=qe({token:s,factory:s.\u0275fac}),s})();function Rs(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Fm=!0,_0=!1;function KE(){return _0=!0,Fm}function YE(){if(_0)throw new Error("Cannot enable prod mode after platform setup.");Fm=!1}let JE=(()=>{class s{}return s.__NG_ELEMENT_ID__=XE,s})();function XE(s){return function da(s,o,a){if(oi(s)&&!a){const c=U(s.index,o);return new qp(c,c)}return 47&s.type?new qp(o[16],o):null}(Ai(),St(),16==(16&s))}class Um{constructor(){}supports(o){return Cp(o)}create(o){return new oT(o)}}const D0=(s,o)=>o;class oT{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||D0}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,h=0,_=null;for(;a||c;){const T=!c||a&&a.currentIndex<Hm(c,h,_)?a:c,x=Hm(T,h,_),k=T.currentIndex;if(T===c)h--,c=c._nextRemoved;else if(a=a._next,null==T.previousIndex)h++;else{_||(_=[]);const W=x-h,ie=k-h;if(W!=ie){for(let Pe=0;Pe<W;Pe++){const Ke=Pe<_.length?_[Pe]:_[Pe]=0,bt=Ke+Pe;ie<=bt&&bt<W&&(_[Pe]=Ke+1)}_[T.previousIndex]=ie-W}}x!==k&&o(T,x,k)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Cp(o))throw new Error(`Error trying to diff '${ce(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,_,T,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let x=0;x<this.length;x++)_=o[x],T=this._trackByFn(x,_),null!==a&&Object.is(a.trackById,T)?(c&&(a=this._verifyReinsertion(a,_,T,x)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,T,x),c=!0),a=a._next}else h=0,function Ep(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Jd()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,x=>{T=this._trackByFn(h,x),null!==a&&Object.is(a.trackById,T)?(c&&(a=this._verifyReinsertion(a,x,T,h)),Object.is(a.item,x)||this._addIdentityChange(a,x)):(a=this._mismatch(a,x,T,h),c=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,h){let _;return null===o?_=this._itTail:(_=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,_,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,_,h)):o=this._addAfter(new bv(a,c),_,h),o}_verifyReinsertion(o,a,c,h){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==_?o=this._reinsertAfter(_,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,_=o._nextRemoved;return null===h?this._removalsHead=_:h._nextRemoved=_,null===_?this._removalsTail=h:_._prevRemoved=h,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new wv),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wv),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class bv{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class x0{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class wv{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new x0,this.map.set(a,c)),c.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hm(s,o,a){const c=s.previousIndex;if(null===c)return c;let h=0;return a&&c<a.length&&(h=a[c]),c+o+h}class A0{constructor(){}supports(o){return o instanceof Map||Tp(o)}create(){return new aT}}class aT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Tp(o)))throw new Error(`Error trying to diff '${ce(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const _=this._getOrCreateRecordForKey(h,c);a=this._insertBeforeOrAppend(a,_)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const _=h._prev,T=h._next;return _&&(_._next=T),T&&(T._prev=_),h._next=null,h._prev=null,h}const c=new lT(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class lT{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function og(){return new kf([new Um])}let kf=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||og()),deps:[[s,new An,new an]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function Cv(s){return s.name||typeof s}(a)}'`)}}return s.\u0275prov=qe({token:s,providedIn:"root",factory:og}),s})();function jm(){return new ag([new A0])}let ag=(()=>{class s{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:c=>s.create(a,c||jm()),deps:[[s,new An,new an]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return s.\u0275prov=qe({token:s,providedIn:"root",factory:jm}),s})();const uT=[new A0],zm=new kf([new Um]),cT=new ag(uT),dT=GE(null,"core",[{provide:rl,useValue:"unknown"},{provide:qE,deps:[Qn]},{provide:rg,deps:[]},{provide:av,deps:[]}]),mT=[{provide:sg,useClass:sg,deps:[Ra,Qn,qc,hh,mh]},{provide:hE,deps:[Ra],useFactory:function _T(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(a){o.push(a)}}},{provide:mh,useClass:mh,deps:[[new an,ov]]},{provide:xc,useClass:xc,deps:[]},c0,{provide:kf,useFactory:function hT(){return zm},deps:[]},{provide:ag,useFactory:function fT(){return cT},deps:[]},{provide:Ed,useFactory:function pT(s){return s||function gT(){return"undefined"!=typeof $localize&&$localize.locale||zp}()},deps:[[new $t(Ed),new an,new An]]},{provide:Sf,useValue:"USD"}];let yT=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(br(sg))},s.\u0275mod=Gi({type:s}),s.\u0275inj=Jt({providers:mT}),s})()},2382:(Dt,Ve,R)=>{R.d(Ve,{Fj:()=>ke,qu:()=>It,u:()=>ao,sg:()=>Wr,u5:()=>ue,JU:()=>ot,JJ:()=>Ne,JL:()=>it,On:()=>Gt,UX:()=>xe,kI:()=>Ee,_Y:()=>ei});var i=R(5e3),v=R(9808),z=R(8306),fe=R(4742),q=R(8421),Y=R(3269),J=R(5403),ce=R(3268),de=R(1810),ee=R(8996),te=R(4004);let We=(()=>{class U{constructor(O,ne){this._renderer=O,this._elementRef=ne,this.onChange=et=>{},this.onTouched=()=>{}}setProperty(O,ne){this._renderer.setProperty(this._elementRef.nativeElement,O,ne)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return U.\u0275fac=function(O){return new(O||U)(i.Y36(i.Qsj),i.Y36(i.SBq))},U.\u0275dir=i.lG2({type:U}),U})(),$e=(()=>{class U extends We{}return U.\u0275fac=function(){let L;return function(ne){return(L||(L=i.n5z(U)))(ne||U)}}(),U.\u0275dir=i.lG2({type:U,features:[i.qOj]}),U})();const ot=new i.OlP("NgValueAccessor"),re={provide:ot,useExisting:(0,i.Gpc)(()=>ke),multi:!0},Ie=new i.OlP("CompositionEventMode");let ke=(()=>{class U extends We{constructor(O,ne,et){super(O,ne),this._compositionMode=et,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ce(){const U=(0,v.q)()?(0,v.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(O){this.setProperty("value",null==O?"":O)}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return U.\u0275fac=function(O){return new(O||U)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(Ie,8))},U.\u0275dir=i.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,ne){1&O&&i.NdJ("input",function(Nt){return ne._handleInput(Nt.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(Nt){return ne._compositionEnd(Nt.target.value)})},features:[i._Bn([re]),i.qOj]}),U})();function Z(U){return null==U||0===U.length}function ve(U){return null!=U&&"number"==typeof U.length}const he=new i.OlP("NgValidators"),De=new i.OlP("NgAsyncValidators"),Be=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ee{static min(L){return function je(U){return L=>{if(Z(L.value)||Z(U))return null;const O=parseFloat(L.value);return!isNaN(O)&&O<U?{min:{min:U,actual:L.value}}:null}}(L)}static max(L){return function nt(U){return L=>{if(Z(L.value)||Z(U))return null;const O=parseFloat(L.value);return!isNaN(O)&&O>U?{max:{max:U,actual:L.value}}:null}}(L)}static required(L){return function rt(U){return Z(U.value)?{required:!0}:null}(L)}static requiredTrue(L){return function mt(U){return!0===U.value?null:{required:!0}}(L)}static email(L){return function Qe(U){return Z(U.value)||Be.test(U.value)?null:{email:!0}}(L)}static minLength(L){return function Ht(U){return L=>Z(L.value)||!ve(L.value)?null:L.value.length<U?{minlength:{requiredLength:U,actualLength:L.value.length}}:null}(L)}static maxLength(L){return function sn(U){return L=>ve(L.value)&&L.value.length>U?{maxlength:{requiredLength:U,actualLength:L.value.length}}:null}(L)}static pattern(L){return function Mt(U){if(!U)return Ot;let L,O;return"string"==typeof U?(O="","^"!==U.charAt(0)&&(O+="^"),O+=U,"$"!==U.charAt(U.length-1)&&(O+="$"),L=new RegExp(O)):(O=U.toString(),L=U),ne=>{if(Z(ne.value))return null;const et=ne.value;return L.test(et)?null:{pattern:{requiredPattern:O,actualValue:et}}}}(L)}static nullValidator(L){return null}static compose(L){return pt(L)}static composeAsync(L){return Jn(L)}}function Ot(U){return null}function Ye(U){return null!=U}function Le(U){const L=(0,i.QGY)(U)?(0,ee.D)(U):U;return(0,i.CqO)(L),L}function ct(U){let L={};return U.forEach(O=>{L=null!=O?Object.assign(Object.assign({},L),O):L}),0===Object.keys(L).length?null:L}function Se(U,L){return L.map(O=>O(U))}function qe(U){return U.map(L=>function ht(U){return!U.validate}(L)?L:O=>L.validate(O))}function pt(U){if(!U)return null;const L=U.filter(Ye);return 0==L.length?null:function(O){return ct(Se(O,L))}}function Jt(U){return null!=U?pt(qe(U)):null}function Jn(U){if(!U)return null;const L=U.filter(Ye);return 0==L.length?null:function(O){return function K(...U){const L=(0,Y.jO)(U),{args:O,keys:ne}=(0,fe.D)(U),et=new z.y(Nt=>{const{length:gn}=O;if(!gn)return void Nt.complete();const Kt=new Array(gn);let wi=gn,Nr=gn;for(let Jr=0;Jr<gn;Jr++){let Qs=!1;(0,q.Xf)(O[Jr]).subscribe(new J.Q(Nt,ds=>{Qs||(Qs=!0,Nr--),Kt[Jr]=ds},()=>wi--,void 0,()=>{(!wi||!Qs)&&(Nr||Nt.next(ne?(0,de.n)(ne,Kt):Kt),Nt.complete())}))}});return L?et.pipe((0,ce.Z)(L)):et}(Se(O,L).map(Le)).pipe((0,te.U)(ct))}}function Tn(U){return null!=U?Jn(qe(U)):null}function jn(U,L){return null===U?[L]:Array.isArray(U)?[...U,L]:[U,L]}function _s(U){return U._rawValidators}function or(U){return U._rawAsyncValidators}function er(U){return U?Array.isArray(U)?U:[U]:[]}function Ct(U,L){return Array.isArray(U)?U.includes(L):U===L}function $i(U,L){const O=er(L);return er(U).forEach(et=>{Ct(O,et)||O.push(et)}),O}function Mi(U,L){return er(L).filter(O=>!Ct(U,O))}class ln{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(L){this._rawValidators=L||[],this._composedValidatorFn=Jt(this._rawValidators)}_setAsyncValidators(L){this._rawAsyncValidators=L||[],this._composedAsyncValidatorFn=Tn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(L){this._onDestroyCallbacks.push(L)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(L=>L()),this._onDestroyCallbacks=[]}reset(L){this.control&&this.control.reset(L)}hasError(L,O){return!!this.control&&this.control.hasError(L,O)}getError(L,O){return this.control?this.control.getError(L,O):null}}class In extends ln{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ti extends ln{get formDirective(){return null}get path(){return null}}class Zi{constructor(L){this._cd=L}is(L){var O,ne,et;return"submitted"===L?!!(null===(O=this._cd)||void 0===O?void 0:O.submitted):!!(null===(et=null===(ne=this._cd)||void 0===ne?void 0:ne.control)||void 0===et?void 0:et[L])}}let Ne=(()=>{class U extends Zi{constructor(O){super(O)}}return U.\u0275fac=function(O){return new(O||U)(i.Y36(In,2))},U.\u0275dir=i.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,ne){2&O&&i.ekj("ng-untouched",ne.is("untouched"))("ng-touched",ne.is("touched"))("ng-pristine",ne.is("pristine"))("ng-dirty",ne.is("dirty"))("ng-valid",ne.is("valid"))("ng-invalid",ne.is("invalid"))("ng-pending",ne.is("pending"))},features:[i.qOj]}),U})(),it=(()=>{class U extends Zi{constructor(O){super(O)}}return U.\u0275fac=function(O){return new(O||U)(i.Y36(Ti,10))},U.\u0275dir=i.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(O,ne){2&O&&i.ekj("ng-untouched",ne.is("untouched"))("ng-touched",ne.is("touched"))("ng-pristine",ne.is("pristine"))("ng-dirty",ne.is("dirty"))("ng-valid",ne.is("valid"))("ng-invalid",ne.is("invalid"))("ng-pending",ne.is("pending"))("ng-submitted",ne.is("submitted"))},features:[i.qOj]}),U})();function be(U,L){return[...L.path,U]}function we(U,L){yt(U,L),L.valueAccessor.writeValue(U.value),function fn(U,L){L.valueAccessor.registerOnChange(O=>{U._pendingValue=O,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&ci(U,L)})}(U,L),function pr(U,L){const O=(ne,et)=>{L.valueAccessor.writeValue(ne),et&&L.viewToModelUpdate(ne)};U.registerOnChange(O),L._registerOnDestroy(()=>{U._unregisterOnChange(O)})}(U,L),function bi(U,L){L.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&ci(U,L),"submit"!==U.updateOn&&U.markAsTouched()})}(U,L),function Me(U,L){if(L.valueAccessor.setDisabledState){const O=ne=>{L.valueAccessor.setDisabledState(ne)};U.registerOnDisabledChange(O),L._registerOnDestroy(()=>{U._unregisterOnDisabledChange(O)})}}(U,L)}function ye(U,L,O=!0){const ne=()=>{};L.valueAccessor&&(L.valueAccessor.registerOnChange(ne),L.valueAccessor.registerOnTouched(ne)),Zt(U,L),U&&(L._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function Oe(U,L){U.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(L)})}function yt(U,L){const O=_s(U);null!==L.validator?U.setValidators(jn(O,L.validator)):"function"==typeof O&&U.setValidators([O]);const ne=or(U);null!==L.asyncValidator?U.setAsyncValidators(jn(ne,L.asyncValidator)):"function"==typeof ne&&U.setAsyncValidators([ne]);const et=()=>U.updateValueAndValidity();Oe(L._rawValidators,et),Oe(L._rawAsyncValidators,et)}function Zt(U,L){let O=!1;if(null!==U){if(null!==L.validator){const et=_s(U);if(Array.isArray(et)&&et.length>0){const Nt=et.filter(gn=>gn!==L.validator);Nt.length!==et.length&&(O=!0,U.setValidators(Nt))}}if(null!==L.asyncValidator){const et=or(U);if(Array.isArray(et)&&et.length>0){const Nt=et.filter(gn=>gn!==L.asyncValidator);Nt.length!==et.length&&(O=!0,U.setAsyncValidators(Nt))}}}const ne=()=>{};return Oe(L._rawValidators,ne),Oe(L._rawAsyncValidators,ne),O}function ci(U,L){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),L.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function Or(U,L){if(!U.hasOwnProperty("model"))return!1;const O=U.model;return!!O.isFirstChange()||!Object.is(L,O.currentValue)}function tr(U,L){if(!L)return null;let O,ne,et;return Array.isArray(L),L.forEach(Nt=>{Nt.constructor===ke?O=Nt:function ar(U){return Object.getPrototypeOf(U.constructor)===$e}(Nt)?ne=Nt:et=Nt}),et||ne||O||null}function Wi(U,L){const O=U.indexOf(L);O>-1&&U.splice(O,1)}const xi="VALID",Ji="INVALID",lr="PENDING",kr="DISABLED";function mi(U){return(_n(U)?U.validators:U)||null}function Zs(U){return Array.isArray(U)?Jt(U):U||null}function Oi(U,L){return(_n(L)?L.asyncValidators:U)||null}function jt(U){return Array.isArray(U)?Tn(U):U||null}function _n(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}class Wn{constructor(L,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=L,this._rawAsyncValidators=O,this._composedValidatorFn=Zs(this._rawValidators),this._composedAsyncValidatorFn=jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(L){this._rawValidators=this._composedValidatorFn=L}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(L){this._rawAsyncValidators=this._composedAsyncValidatorFn=L}get parent(){return this._parent}get valid(){return this.status===xi}get invalid(){return this.status===Ji}get pending(){return this.status==lr}get disabled(){return this.status===kr}get enabled(){return this.status!==kr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(L){this._rawValidators=L,this._composedValidatorFn=Zs(L)}setAsyncValidators(L){this._rawAsyncValidators=L,this._composedAsyncValidatorFn=jt(L)}addValidators(L){this.setValidators($i(L,this._rawValidators))}addAsyncValidators(L){this.setAsyncValidators($i(L,this._rawAsyncValidators))}removeValidators(L){this.setValidators(Mi(L,this._rawValidators))}removeAsyncValidators(L){this.setAsyncValidators(Mi(L,this._rawAsyncValidators))}hasValidator(L){return Ct(this._rawValidators,L)}hasAsyncValidator(L){return Ct(this._rawAsyncValidators,L)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(L={}){this.touched=!0,this._parent&&!L.onlySelf&&this._parent.markAsTouched(L)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(L=>L.markAllAsTouched())}markAsUntouched(L={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}markAsDirty(L={}){this.pristine=!1,this._parent&&!L.onlySelf&&this._parent.markAsDirty(L)}markAsPristine(L={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}markAsPending(L={}){this.status=lr,!1!==L.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!L.onlySelf&&this._parent.markAsPending(L)}disable(L={}){const O=this._parentMarkedDirty(L.onlySelf);this.status=kr,this.errors=null,this._forEachChild(ne=>{ne.disable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this._updateValue(),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:O})),this._onDisabledChange.forEach(ne=>ne(!0))}enable(L={}){const O=this._parentMarkedDirty(L.onlySelf);this.status=xi,this._forEachChild(ne=>{ne.enable(Object.assign(Object.assign({},L),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},L),{skipPristineCheck:O})),this._onDisabledChange.forEach(ne=>ne(!1))}_updateAncestors(L){this._parent&&!L.onlySelf&&(this._parent.updateValueAndValidity(L),L.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(L){this._parent=L}updateValueAndValidity(L={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xi||this.status===lr)&&this._runAsyncValidator(L.emitEvent)),!1!==L.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!L.onlySelf&&this._parent.updateValueAndValidity(L)}_updateTreeValidity(L={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(L)),this.updateValueAndValidity({onlySelf:!0,emitEvent:L.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kr:xi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(L){if(this.asyncValidator){this.status=lr,this._hasOwnPendingAsyncValidator=!0;const O=Le(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(ne=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ne,{emitEvent:L})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(L,O={}){this.errors=L,this._updateControlsErrors(!1!==O.emitEvent)}get(L){return function os(U,L,O){if(null==L||(Array.isArray(L)||(L=L.split(O)),Array.isArray(L)&&0===L.length))return null;let ne=U;return L.forEach(et=>{ne=ne instanceof nr?ne.controls.hasOwnProperty(et)?ne.controls[et]:null:ne instanceof si&&ne.at(et)||null}),ne}(this,L,".")}getError(L,O){const ne=O?this.get(O):this;return ne&&ne.errors?ne.errors[L]:null}hasError(L,O){return!!this.getError(L,O)}get root(){let L=this;for(;L._parent;)L=L._parent;return L}_updateControlsErrors(L){this.status=this._calculateStatus(),L&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(L)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?kr:this.errors?Ji:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lr)?lr:this._anyControlsHaveStatus(Ji)?Ji:xi}_anyControlsHaveStatus(L){return this._anyControls(O=>O.status===L)}_anyControlsDirty(){return this._anyControls(L=>L.dirty)}_anyControlsTouched(){return this._anyControls(L=>L.touched)}_updatePristine(L={}){this.pristine=!this._anyControlsDirty(),this._parent&&!L.onlySelf&&this._parent._updatePristine(L)}_updateTouched(L={}){this.touched=this._anyControlsTouched(),this._parent&&!L.onlySelf&&this._parent._updateTouched(L)}_isBoxedValue(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}_registerOnCollectionChange(L){this._onCollectionChange=L}_setUpdateStrategy(L){_n(L)&&null!=L.updateOn&&(this._updateOn=L.updateOn)}_parentMarkedDirty(L){return!L&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class hi extends Wn{constructor(L=null,O,ne){super(mi(O),Oi(ne,O)),this._onChange=[],this._applyFormState(L),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(L,O={}){this.value=this._pendingValue=L,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(ne=>ne(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(L,O={}){this.setValue(L,O)}reset(L=null,O={}){this._applyFormState(L),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(L){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(L){this._onChange.push(L)}_unregisterOnChange(L){Wi(this._onChange,L)}registerOnDisabledChange(L){this._onDisabledChange.push(L)}_unregisterOnDisabledChange(L){Wi(this._onDisabledChange,L)}_forEachChild(L){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(L){this._isBoxedValue(L)?(this.value=this._pendingValue=L.value,L.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=L}}class nr extends Wn{constructor(L,O,ne){super(mi(O),Oi(ne,O)),this.controls=L,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(L,O){return this.controls[L]?this.controls[L]:(this.controls[L]=O,O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange),O)}addControl(L,O,ne={}){this.registerControl(L,O),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}removeControl(L,O={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}setControl(L,O,ne={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),delete this.controls[L],O&&this.registerControl(L,O),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}contains(L){return this.controls.hasOwnProperty(L)&&this.controls[L].enabled}setValue(L,O={}){this._checkAllValuesPresent(L),Object.keys(L).forEach(ne=>{this._throwIfControlMissing(ne),this.controls[ne].setValue(L[ne],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(L,O={}){null!=L&&(Object.keys(L).forEach(ne=>{this.controls[ne]&&this.controls[ne].patchValue(L[ne],{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(L={},O={}){this._forEachChild((ne,et)=>{ne.reset(L[et],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this._reduceChildren({},(L,O,ne)=>(L[ne]=O instanceof hi?O.value:O.getRawValue(),L))}_syncPendingControls(){let L=this._reduceChildren(!1,(O,ne)=>!!ne._syncPendingControls()||O);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_throwIfControlMissing(L){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[L])throw new Error(`Cannot find form control with name: ${L}.`)}_forEachChild(L){Object.keys(this.controls).forEach(O=>{const ne=this.controls[O];ne&&L(ne,O)})}_setUpControls(){this._forEachChild(L=>{L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(L){for(const O of Object.keys(this.controls)){const ne=this.controls[O];if(this.contains(O)&&L(ne))return!0}return!1}_reduceValue(){return this._reduceChildren({},(L,O,ne)=>((O.enabled||this.disabled)&&(L[ne]=O.value),L))}_reduceChildren(L,O){let ne=L;return this._forEachChild((et,Nt)=>{ne=O(ne,et,Nt)}),ne}_allControlsDisabled(){for(const L of Object.keys(this.controls))if(this.controls[L].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(L){this._forEachChild((O,ne)=>{if(void 0===L[ne])throw new Error(`Must supply a value for form control with name: '${ne}'.`)})}}class si extends Wn{constructor(L,O,ne){super(mi(O),Oi(ne,O)),this.controls=L,this._initObservables(),this._setUpdateStrategy(O),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(L){return this.controls[L]}push(L,O={}){this.controls.push(L),this._registerControl(L),this.updateValueAndValidity({emitEvent:O.emitEvent}),this._onCollectionChange()}insert(L,O,ne={}){this.controls.splice(L,0,O),this._registerControl(O),this.updateValueAndValidity({emitEvent:ne.emitEvent})}removeAt(L,O={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),this.updateValueAndValidity({emitEvent:O.emitEvent})}setControl(L,O,ne={}){this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),O&&(this.controls.splice(L,0,O),this._registerControl(O)),this.updateValueAndValidity({emitEvent:ne.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(L,O={}){this._checkAllValuesPresent(L),L.forEach((ne,et)=>{this._throwIfControlMissing(et),this.at(et).setValue(ne,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O)}patchValue(L,O={}){null!=L&&(L.forEach((ne,et)=>{this.at(et)&&this.at(et).patchValue(ne,{onlySelf:!0,emitEvent:O.emitEvent})}),this.updateValueAndValidity(O))}reset(L=[],O={}){this._forEachChild((ne,et)=>{ne.reset(L[et],{onlySelf:!0,emitEvent:O.emitEvent})}),this._updatePristine(O),this._updateTouched(O),this.updateValueAndValidity(O)}getRawValue(){return this.controls.map(L=>L instanceof hi?L.value:L.getRawValue())}clear(L={}){this.controls.length<1||(this._forEachChild(O=>O._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:L.emitEvent}))}_syncPendingControls(){let L=this.controls.reduce((O,ne)=>!!ne._syncPendingControls()||O,!1);return L&&this.updateValueAndValidity({onlySelf:!0}),L}_throwIfControlMissing(L){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(L))throw new Error(`Cannot find form control at index ${L}`)}_forEachChild(L){this.controls.forEach((O,ne)=>{L(O,ne)})}_updateValue(){this.value=this.controls.filter(L=>L.enabled||this.disabled).map(L=>L.value)}_anyControls(L){return this.controls.some(O=>O.enabled&&L(O))}_setUpControls(){this._forEachChild(L=>this._registerControl(L))}_checkAllValuesPresent(L){this._forEachChild((O,ne)=>{if(void 0===L[ne])throw new Error(`Must supply a value for form control at index: ${ne}.`)})}_allControlsDisabled(){for(const L of this.controls)if(L.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(L){L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange)}}const Un={provide:In,useExisting:(0,i.Gpc)(()=>Gt)},wt=(()=>Promise.resolve(null))();let Gt=(()=>{class U extends In{constructor(O,ne,et,Nt){super(),this.control=new hi,this._registered=!1,this.update=new i.vpe,this._parent=O,this._setValidators(ne),this._setAsyncValidators(et),this.valueAccessor=tr(0,Nt)}ngOnChanges(O){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in O&&this._updateDisabled(O),Or(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?be(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){we(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){wt.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1})})}_updateDisabled(O){const ne=O.isDisabled.currentValue,et=""===ne||ne&&"false"!==ne;wt.then(()=>{et&&!this.control.disabled?this.control.disable():!et&&this.control.disabled&&this.control.enable()})}}return U.\u0275fac=function(O){return new(O||U)(i.Y36(Ti,9),i.Y36(he,10),i.Y36(De,10),i.Y36(ot,10))},U.\u0275dir=i.lG2({type:U,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([Un]),i.qOj,i.TTD]}),U})(),ei=(()=>{class U{}return U.\u0275fac=function(O){return new(O||U)},U.\u0275dir=i.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})(),vs=(()=>{class U{}return U.\u0275fac=function(O){return new(O||U)},U.\u0275mod=i.oAB({type:U}),U.\u0275inj=i.cJS({}),U})();const Gr=new i.OlP("NgModelWithFormControlWarning"),bs={provide:Ti,useExisting:(0,i.Gpc)(()=>Wr)};let Wr=(()=>{class U extends Ti{constructor(O,ne){super(),this.validators=O,this.asyncValidators=ne,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.vpe,this._setValidators(O),this._setAsyncValidators(ne)}ngOnChanges(O){this._checkFormPresent(),O.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(O){const ne=this.form.get(O.path);return we(ne,O),ne.updateValueAndValidity({emitEvent:!1}),this.directives.push(O),ne}getControl(O){return this.form.get(O.path)}removeControl(O){ye(O.control||null,O,!1),Wi(this.directives,O)}addFormGroup(O){this._setUpFormContainer(O)}removeFormGroup(O){this._cleanUpFormContainer(O)}getFormGroup(O){return this.form.get(O.path)}addFormArray(O){this._setUpFormContainer(O)}removeFormArray(O){this._cleanUpFormContainer(O)}getFormArray(O){return this.form.get(O.path)}updateModel(O,ne){this.form.get(O.path).setValue(ne)}onSubmit(O){return this.submitted=!0,function di(U,L){U._syncPendingControls(),L.forEach(O=>{const ne=O.control;"submit"===ne.updateOn&&ne._pendingChange&&(O.viewToModelUpdate(ne._pendingValue),ne._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(O),!1}onReset(){this.resetForm()}resetForm(O){this.form.reset(O),this.submitted=!1}_updateDomValue(){this.directives.forEach(O=>{const ne=O.control,et=this.form.get(O.path);ne!==et&&(ye(ne||null,O),et instanceof hi&&(we(et,O),O.control=et))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(O){const ne=this.form.get(O.path);(function $n(U,L){yt(U,L)})(ne,O),ne.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(O){if(this.form){const ne=this.form.get(O.path);ne&&function Gi(U,L){return Zt(U,L)}(ne,O)&&ne.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yt(this.form,this),this._oldForm&&Zt(this._oldForm,this)}_checkFormPresent(){}}return U.\u0275fac=function(O){return new(O||U)(i.Y36(he,10),i.Y36(De,10))},U.\u0275dir=i.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(O,ne){1&O&&i.NdJ("submit",function(Nt){return ne.onSubmit(Nt)})("reset",function(){return ne.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([bs]),i.qOj,i.TTD]}),U})();const al={provide:In,useExisting:(0,i.Gpc)(()=>ao)};let ao=(()=>{class U extends In{constructor(O,ne,et,Nt,gn){super(),this._ngModelWarningConfig=gn,this._added=!1,this.update=new i.vpe,this._ngModelWarningSent=!1,this._parent=O,this._setValidators(ne),this._setAsyncValidators(et),this.valueAccessor=tr(0,Nt)}set isDisabled(O){}ngOnChanges(O){this._added||this._setUpControl(),Or(O,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}get path(){return be(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return U._ngModelWarningSentOnce=!1,U.\u0275fac=function(O){return new(O||U)(i.Y36(Ti,13),i.Y36(he,10),i.Y36(De,10),i.Y36(ot,10),i.Y36(Gr,8))},U.\u0275dir=i.lG2({type:U,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([al]),i.qOj,i.TTD]}),U})(),H=(()=>{class U{}return U.\u0275fac=function(O){return new(O||U)},U.\u0275mod=i.oAB({type:U}),U.\u0275inj=i.cJS({imports:[[vs]]}),U})(),ue=(()=>{class U{}return U.\u0275fac=function(O){return new(O||U)},U.\u0275mod=i.oAB({type:U}),U.\u0275inj=i.cJS({imports:[H]}),U})(),xe=(()=>{class U{static withConfig(O){return{ngModule:U,providers:[{provide:Gr,useValue:O.warnOnNgModelWithFormControl}]}}}return U.\u0275fac=function(O){return new(O||U)},U.\u0275mod=i.oAB({type:U}),U.\u0275inj=i.cJS({imports:[H]}),U})(),It=(()=>{class U{group(O,ne=null){const et=this._reduceControls(O);let Kt,Nt=null,gn=null;return null!=ne&&(function lt(U){return void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn}(ne)?(Nt=null!=ne.validators?ne.validators:null,gn=null!=ne.asyncValidators?ne.asyncValidators:null,Kt=null!=ne.updateOn?ne.updateOn:void 0):(Nt=null!=ne.validator?ne.validator:null,gn=null!=ne.asyncValidator?ne.asyncValidator:null)),new nr(et,{asyncValidators:gn,updateOn:Kt,validators:Nt})}control(O,ne,et){return new hi(O,ne,et)}array(O,ne,et){const Nt=O.map(gn=>this._createControl(gn));return new si(Nt,ne,et)}_reduceControls(O){const ne={};return Object.keys(O).forEach(et=>{ne[et]=this._createControl(O[et])}),ne}_createControl(O){return O instanceof hi||O instanceof nr||O instanceof si?O:Array.isArray(O)?this.control(O[0],O.length>1?O[1]:null,O.length>2?O[2]:null):this.control(O)}}return U.\u0275fac=function(O){return new(O||U)},U.\u0275prov=i.Yz7({token:U,factory:U.\u0275fac,providedIn:xe}),U})()},5335:(Dt,Ve,R)=>{R.d(Ve,{gz:()=>Gt,F0:()=>dr,rH:()=>Ii,Od:()=>Nl,yS:()=>Us,Bz:()=>Hu,lC:()=>Ys});var i=R(5e3),v=R(7579);class z extends v.x{constructor(D){super(),this._value=D}get value(){return this.getValue()}_subscribe(D){const I=super._subscribe(D);return!I.closed&&D.next(this._value),I}getValue(){const{hasError:D,thrownError:I,_value:V}=this;if(D)throw I;return this._throwIfClosed(),V}next(D){super.next(this._value=D)}}var fe=R(8306),q=R(4742),Y=R(8996),J=R(4671),ce=R(3268),de=R(3269),K=R(1810),ee=R(5403),te=R(9672);function ot(M,D,I){M?(0,te.f)(I,M,D):D()}var Ze=R(8421);function ze(M){return new fe.y(D=>{(0,Ze.Xf)(M()).subscribe(D)})}var re=R(727),Ce=R(4482);function Ie(){return(0,Ce.e)((M,D)=>{let I=null;M._refCount++;const V=new ee.Q(D,void 0,void 0,void 0,()=>{if(!M||M._refCount<=0||0<--M._refCount)return void(I=null);const G=M._connection,ae=I;I=null,G&&(!ae||G===ae)&&G.unsubscribe(),D.unsubscribe()});M.subscribe(V),V.closed||(I=M.connect())})}class ke extends fe.y{constructor(D,I){super(),this.source=D,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,Ce.A)(D)&&(this.lift=D.lift)}_subscribe(D){return this.getSubject().subscribe(D)}getSubject(){const D=this._subject;return(!D||D.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:D}=this;this._subject=this._connection=null,null==D||D.unsubscribe()}connect(){let D=this._connection;if(!D){D=this._connection=new re.w0;const I=this.getSubject();D.add(this.source.subscribe(new ee.Q(I,void 0,()=>{this._teardown(),I.complete()},V=>{this._teardown(),I.error(V)},()=>this._teardown()))),D.closed&&(this._connection=null,D=re.w0.EMPTY)}return D}refCount(){return Ie()(this)}}var Z=R(9646),ve=R(6805),he=R(7272),De=R(515);function Be(M){return(0,Ce.e)((D,I)=>{let ae,V=null,G=!1;V=D.subscribe(new ee.Q(I,void 0,void 0,me=>{ae=(0,Ze.Xf)(M(me,Be(M)(D))),V?(V.unsubscribe(),V=null,ae.subscribe(I)):G=!0})),G&&(V.unsubscribe(),V=null,ae.subscribe(I))})}var Ee=R(9300);function je(M){return M<=0?()=>De.E:(0,Ce.e)((D,I)=>{let V=[];D.subscribe(new ee.Q(I,G=>{V.push(G),M<V.length&&V.shift()},()=>{for(const G of V)I.next(G);I.complete()},void 0,()=>{V=null}))})}var nt=R(8068),rt=R(6590),Ht=R(4004),sn=R(3900),Mt=R(5698),Ot=R(8675),Ye=R(5026),Le=R(4351),ct=R(590),Se=R(5577),ht=R(8505),qe=R(8189),pt=R(9808);class Jt{constructor(D,I){this.id=D,this.url=I}}class Jn extends Jt{constructor(D,I,V="imperative",G=null){super(D,I),this.navigationTrigger=V,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Tn extends Jt{constructor(D,I,V){super(D,I),this.urlAfterRedirects=V}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jn extends Jt{constructor(D,I,V){super(D,I),this.reason=V}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _s extends Jt{constructor(D,I,V){super(D,I),this.error=V}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class or extends Jt{constructor(D,I,V,G){super(D,I),this.urlAfterRedirects=V,this.state=G}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class er extends Jt{constructor(D,I,V,G){super(D,I),this.urlAfterRedirects=V,this.state=G}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ct extends Jt{constructor(D,I,V,G,ae){super(D,I),this.urlAfterRedirects=V,this.state=G,this.shouldActivate=ae}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $i extends Jt{constructor(D,I,V,G){super(D,I),this.urlAfterRedirects=V,this.state=G}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends Jt{constructor(D,I,V,G){super(D,I),this.urlAfterRedirects=V,this.state=G}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln{constructor(D){this.route=D}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class In{constructor(D){this.route=D}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ti{constructor(D){this.snapshot=D}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(D){this.snapshot=D}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gt{constructor(D){this.snapshot=D}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(D){this.snapshot=D}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ne{constructor(D,I,V){this.routerEvent=D,this.position=I,this.anchor=V}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const it="primary";class Et{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const I=this.params[D];return Array.isArray(I)?I[0]:I}return null}getAll(D){if(this.has(D)){const I=this.params[D];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function zt(M){return new Et(M)}const Pt="ngNavigationCancelingError";function Wt(M){const D=Error("NavigationCancelingError: "+M);return D[Pt]=!0,D}function gi(M,D,I){const V=I.path.split("/");if(V.length>M.length||"full"===I.pathMatch&&(D.hasChildren()||V.length<M.length))return null;const G={};for(let ae=0;ae<V.length;ae++){const me=V[ae],Re=M[ae];if(me.startsWith(":"))G[me.substring(1)]=Re;else if(me!==Re.path)return null}return{consumed:M.slice(0,V.length),posParams:G}}function Xt(M,D){const I=M?Object.keys(M):void 0,V=D?Object.keys(D):void 0;if(!I||!V||I.length!=V.length)return!1;let G;for(let ae=0;ae<I.length;ae++)if(G=I[ae],!vi(M[G],D[G]))return!1;return!0}function vi(M,D){if(Array.isArray(M)&&Array.isArray(D)){if(M.length!==D.length)return!1;const I=[...M].sort(),V=[...D].sort();return I.every((G,ae)=>V[ae]===G)}return M===D}function zn(M){return Array.prototype.concat.apply([],M)}function on(M){return M.length>0?M[M.length-1]:null}function be(M,D){for(const I in M)M.hasOwnProperty(I)&&D(M[I],I)}function we(M){return(0,i.CqO)(M)?M:(0,i.QGY)(M)?(0,Y.D)(Promise.resolve(M)):(0,Z.of)(M)}const Oe={exact:function fn(M,D,I){if(!ar(M.segments,D.segments)||!$n(M.segments,D.segments,I)||M.numberOfChildren!==D.numberOfChildren)return!1;for(const V in D.children)if(!M.children[V]||!fn(M.children[V],D.children[V],I))return!1;return!0},subset:ci},Me={exact:function Zt(M,D){return Xt(M,D)},subset:function bi(M,D){return Object.keys(D).length<=Object.keys(M).length&&Object.keys(D).every(I=>vi(M[I],D[I]))},ignored:()=>!0};function yt(M,D,I){return Oe[I.paths](M.root,D.root,I.matrixParams)&&Me[I.queryParams](M.queryParams,D.queryParams)&&!("exact"===I.fragment&&M.fragment!==D.fragment)}function ci(M,D,I){return pr(M,D,D.segments,I)}function pr(M,D,I,V){if(M.segments.length>I.length){const G=M.segments.slice(0,I.length);return!(!ar(G,I)||D.hasChildren()||!$n(G,I,V))}if(M.segments.length===I.length){if(!ar(M.segments,I)||!$n(M.segments,I,V))return!1;for(const G in D.children)if(!M.children[G]||!ci(M.children[G],D.children[G],V))return!1;return!0}{const G=I.slice(0,M.segments.length),ae=I.slice(M.segments.length);return!!(ar(M.segments,G)&&$n(M.segments,G,V)&&M.children[it])&&pr(M.children[it],D,ae,V)}}function $n(M,D,I){return D.every((V,G)=>Me[I](M[G].parameters,V.parameters))}class Gi{constructor(D,I,V){this.root=D,this.queryParams=I,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zt(this.queryParams)),this._queryParamMap}toString(){return Qi.serialize(this)}}class qt{constructor(D,I){this.segments=D,this.children=I,this.parent=null,be(I,(V,G)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xi(this)}}class Br{constructor(D,I){this.path=D,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=zt(this.parameters)),this._parameterMap}toString(){return jt(this)}}function ar(M,D){return M.length===D.length&&M.every((I,V)=>I.path===D[V].path)}class tr{}class Wi{parse(D){const I=new Ns(D);return new Gi(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(D){const I=`/${Ji(D.root,!0)}`,V=function Wn(M){const D=Object.keys(M).map(I=>{const V=M[I];return Array.isArray(V)?V.map(G=>`${kr(I)}=${kr(G)}`).join("&"):`${kr(I)}=${kr(V)}`}).filter(I=>!!I);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${I}${V}${"string"==typeof D.fragment?`#${function os(M){return encodeURI(M)}(D.fragment)}`:""}`}}const Qi=new Wi;function xi(M){return M.segments.map(D=>jt(D)).join("/")}function Ji(M,D){if(!M.hasChildren())return xi(M);if(D){const I=M.children[it]?Ji(M.children[it],!1):"",V=[];return be(M.children,(G,ae)=>{ae!==it&&V.push(`${ae}:${Ji(G,!1)}`)}),V.length>0?`${I}(${V.join("//")})`:I}{const I=function di(M,D){let I=[];return be(M.children,(V,G)=>{G===it&&(I=I.concat(D(V,G)))}),be(M.children,(V,G)=>{G!==it&&(I=I.concat(D(V,G)))}),I}(M,(V,G)=>G===it?[Ji(M.children[it],!1)]:[`${G}:${Ji(V,!1)}`]);return 1===Object.keys(M.children).length&&null!=M.children[it]?`${xi(M)}/${I[0]}`:`${xi(M)}/(${I.join("//")})`}}function lr(M){return encodeURIComponent(M).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kr(M){return lr(M).replace(/%3B/gi,";")}function mi(M){return lr(M).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zs(M){return decodeURIComponent(M)}function Oi(M){return Zs(M.replace(/\+/g,"%20"))}function jt(M){return`${mi(M.path)}${function _n(M){return Object.keys(M).map(D=>`;${mi(D)}=${mi(M[D])}`).join("")}(M.parameters)}`}const hi=/^[^\/()?;=#]+/;function nr(M){const D=M.match(hi);return D?D[0]:""}const si=/^[^=?&#]+/,Xn=/^[^&#]+/;class Ns{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qt([],{}):new qt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(D.length>0||Object.keys(I).length>0)&&(V[it]=new qt(D,I)),V}parseSegment(){const D=nr(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new Br(Zs(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const I=nr(this.remaining);if(!I)return;this.capture(I);let V="";if(this.consumeOptional("=")){const G=nr(this.remaining);G&&(V=G,this.capture(V))}D[Zs(I)]=Zs(V)}parseQueryParam(D){const I=function Bi(M){const D=M.match(si);return D?D[0]:""}(this.remaining);if(!I)return;this.capture(I);let V="";if(this.consumeOptional("=")){const me=function Di(M){const D=M.match(Xn);return D?D[0]:""}(this.remaining);me&&(V=me,this.capture(V))}const G=Oi(I),ae=Oi(V);if(D.hasOwnProperty(G)){let me=D[G];Array.isArray(me)||(me=[me],D[G]=me),me.push(ae)}else D[G]=ae}parseParens(D){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=nr(this.remaining),G=this.remaining[V.length];if("/"!==G&&")"!==G&&";"!==G)throw new Error(`Cannot parse url '${this.url}'`);let ae;V.indexOf(":")>-1?(ae=V.substr(0,V.indexOf(":")),this.capture(ae),this.capture(":")):D&&(ae=it);const me=this.parseChildren();I[ae]=1===Object.keys(me).length?me[it]:new qt([],me),this.consumeOptional("//")}return I}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class En{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const I=this.pathFromRoot(D);return I.length>1?I[I.length-2]:null}children(D){const I=Ur(D,this._root);return I?I.children.map(V=>V.value):[]}firstChild(D){const I=Ur(D,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(D){const I=Rr(D,this._root);return I.length<2?[]:I[I.length-2].children.map(G=>G.value).filter(G=>G!==D)}pathFromRoot(D){return Rr(D,this._root).map(I=>I.value)}}function Ur(M,D){if(M===D.value)return D;for(const I of D.children){const V=Ur(M,I);if(V)return V}return null}function Rr(M,D){if(M===D.value)return[D];for(const I of D.children){const V=Rr(M,I);if(V.length)return V.unshift(D),V}return[]}class qi{constructor(D,I){this.value=D,this.children=I}toString(){return`TreeNode(${this.value})`}}function ur(M){const D={};return M&&M.children.forEach(I=>D[I.value.outlet]=I),D}class Ui extends En{constructor(D,I){super(D),this.snapshot=I,Pr(this,D)}toString(){return this.snapshot.toString()}}function Un(M,D){const I=function wt(M,D){const me=new ys([],{},{},"",{},it,D,null,M.root,-1,{});return new gr("",new qi(me,[]))}(M,D),V=new z([new Br("",{})]),G=new z({}),ae=new z({}),me=new z({}),Re=new z(""),ft=new Gt(V,G,me,Re,ae,it,D,I.root);return ft.snapshot=I.root,new Ui(new qi(ft,[]),I)}class Gt{constructor(D,I,V,G,ae,me,Re,ft){this.url=D,this.params=I,this.queryParams=V,this.fragment=G,this.data=ae,this.outlet=me,this.component=Re,this._futureSnapshot=ft}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ht.U)(D=>zt(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ht.U)(D=>zt(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ei(M,D="emptyOnly"){const I=M.pathFromRoot;let V=0;if("always"!==D)for(V=I.length-1;V>=1;){const G=I[V],ae=I[V-1];if(G.routeConfig&&""===G.routeConfig.path)V--;else{if(ae.component)break;V--}}return function Hi(M){return M.reduce((D,I)=>({params:Object.assign(Object.assign({},D.params),I.params),data:Object.assign(Object.assign({},D.data),I.data),resolve:Object.assign(Object.assign({},D.resolve),I._resolvedData)}),{params:{},data:{},resolve:{}})}(I.slice(V))}class ys{constructor(D,I,V,G,ae,me,Re,ft,Bt,Vn,rn){this.url=D,this.params=I,this.queryParams=V,this.fragment=G,this.data=ae,this.outlet=me,this.component=Re,this.routeConfig=ft,this._urlSegment=Bt,this._lastPathIndex=Vn,this._resolve=rn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(V=>V.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gr extends En{constructor(D,I){super(I),this.url=D,Pr(this,I)}toString(){return vs(this._root)}}function Pr(M,D){D.value._routerState=M,D.children.forEach(I=>Pr(M,I))}function vs(M){const D=M.children.length>0?` { ${M.children.map(vs).join(", ")} } `:"";return`${M.value}${D}`}function oi(M){if(M.snapshot){const D=M.snapshot,I=M._futureSnapshot;M.snapshot=I,Xt(D.queryParams,I.queryParams)||M.queryParams.next(I.queryParams),D.fragment!==I.fragment&&M.fragment.next(I.fragment),Xt(D.params,I.params)||M.params.next(I.params),function Ln(M,D){if(M.length!==D.length)return!1;for(let I=0;I<M.length;++I)if(!Xt(M[I],D[I]))return!1;return!0}(D.url,I.url)||M.url.next(I.url),Xt(D.data,I.data)||M.data.next(I.data)}else M.snapshot=M._futureSnapshot,M.data.next(M._futureSnapshot.data)}function mr(M,D){const I=Xt(M.params,D.params)&&function Or(M,D){return ar(M,D)&&M.every((I,V)=>Xt(I.parameters,D[V].parameters))}(M.url,D.url);return I&&!(!M.parent!=!D.parent)&&(!M.parent||mr(M.parent,D.parent))}function as(M,D,I){if(I&&M.shouldReuseRoute(D.value,I.value.snapshot)){const V=I.value;V._futureSnapshot=D.value;const G=function Gr(M,D,I){return D.children.map(V=>{for(const G of I.children)if(M.shouldReuseRoute(V.value,G.value.snapshot))return as(M,V,G);return as(M,V)})}(M,D,I);return new qi(V,G)}{if(M.shouldAttach(D.value)){const ae=M.retrieve(D.value);if(null!==ae){const me=ae.route;return me.value._futureSnapshot=D.value,me.children=D.children.map(Re=>as(M,Re)),me}}const V=function Ki(M){return new Gt(new z(M.url),new z(M.params),new z(M.queryParams),new z(M.fragment),new z(M.data),M.outlet,M.component,M)}(D.value),G=D.children.map(ae=>as(M,ae));return new qi(V,G)}}function bs(M){return"object"==typeof M&&null!=M&&!M.outlets&&!M.segmentPath}function Wr(M){return"object"==typeof M&&null!=M&&M.outlets}function so(M,D,I,V,G){let ae={};return V&&be(V,(me,Re)=>{ae[Re]=Array.isArray(me)?me.map(ft=>`${ft}`):`${me}`}),new Gi(I.root===M?D:Fs(I.root,M,D),ae,G)}function Fs(M,D,I){const V={};return be(M.children,(G,ae)=>{V[ae]=G===D?I:Fs(G,D,I)}),new qt(M.segments,V)}class Ws{constructor(D,I,V){if(this.isAbsolute=D,this.numberOfDoubleDots=I,this.commands=V,D&&V.length>0&&bs(V[0]))throw new Error("Root segment cannot have matrix parameters");const G=V.find(Wr);if(G&&G!==on(V))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _r{constructor(D,I,V){this.segmentGroup=D,this.processChildren=I,this.index=V}}function ir(M,D,I){if(M||(M=new qt([],{})),0===M.segments.length&&M.hasChildren())return qs(M,D,I);const V=function Ls(M,D,I){let V=0,G=D;const ae={match:!1,pathIndex:0,commandIndex:0};for(;G<M.segments.length;){if(V>=I.length)return ae;const me=M.segments[G],Re=I[V];if(Wr(Re))break;const ft=`${Re}`,Bt=V<I.length-1?I[V+1]:null;if(G>0&&void 0===ft)break;if(ft&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!ls(ft,Bt,me))return ae;V+=2}else{if(!ls(ft,{},me))return ae;V++}G++}return{match:!0,pathIndex:G,commandIndex:V}}(M,D,I),G=I.slice(V.commandIndex);if(V.match&&V.pathIndex<M.segments.length){const ae=new qt(M.segments.slice(0,V.pathIndex),{});return ae.children[it]=new qt(M.segments.slice(V.pathIndex),M.children),qs(ae,0,G)}return V.match&&0===G.length?new qt(M.segments,{}):V.match&&!M.hasChildren()?Pa(M,D,I):V.match?qs(M,0,G):Pa(M,D,I)}function qs(M,D,I){if(0===I.length)return new qt(M.segments,{});{const V=function So(M){return Wr(M[0])?M[0].outlets:{[it]:M}}(I),G={};return be(V,(ae,me)=>{"string"==typeof ae&&(ae=[ae]),null!==ae&&(G[me]=ir(M.children[me],D,ae))}),be(M.children,(ae,me)=>{void 0===V[me]&&(G[me]=ae)}),new qt(M.segments,G)}}function Pa(M,D,I){const V=M.segments.slice(0,D);let G=0;for(;G<I.length;){const ae=I[G];if(Wr(ae)){const ft=Ks(ae.outlets);return new qt(V,ft)}if(0===G&&bs(I[0])){V.push(new Br(M.segments[D].path,lo(I[0]))),G++;continue}const me=Wr(ae)?ae.outlets[it]:`${ae}`,Re=G<I.length-1?I[G+1]:null;me&&Re&&bs(Re)?(V.push(new Br(me,lo(Re))),G+=2):(V.push(new Br(me,{})),G++)}return new qt(V,{})}function Ks(M){const D={};return be(M,(I,V)=>{"string"==typeof I&&(I=[I]),null!==I&&(D[V]=Pa(new qt([],{}),0,I))}),D}function lo(M){const D={};return be(M,(I,V)=>D[V]=`${I}`),D}function ls(M,D,I){return M==I.path&&Xt(D,I.parameters)}class uo{constructor(D,I,V,G){this.routeReuseStrategy=D,this.futureState=I,this.currState=V,this.forwardEvent=G}activate(D){const I=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,V,D),oi(this.futureState.root),this.activateChildRoutes(I,V,D)}deactivateChildRoutes(D,I,V){const G=ur(I);D.children.forEach(ae=>{const me=ae.value.outlet;this.deactivateRoutes(ae,G[me],V),delete G[me]}),be(G,(ae,me)=>{this.deactivateRouteAndItsChildren(ae,V)})}deactivateRoutes(D,I,V){const G=D.value,ae=I?I.value:null;if(G===ae)if(G.component){const me=V.getContext(G.outlet);me&&this.deactivateChildRoutes(D,I,me.children)}else this.deactivateChildRoutes(D,I,V);else ae&&this.deactivateRouteAndItsChildren(I,V)}deactivateRouteAndItsChildren(D,I){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,I):this.deactivateRouteAndOutlet(D,I)}detachAndStoreRouteSubtree(D,I){const V=I.getContext(D.value.outlet),G=V&&D.value.component?V.children:I,ae=ur(D);for(const me of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[me],G);if(V&&V.outlet){const me=V.outlet.detach(),Re=V.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:me,route:D,contexts:Re})}}deactivateRouteAndOutlet(D,I){const V=I.getContext(D.value.outlet),G=V&&D.value.component?V.children:I,ae=ur(D);for(const me of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[me],G);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(D,I,V){const G=ur(I);D.children.forEach(ae=>{this.activateRoutes(ae,G[ae.value.outlet],V),this.forwardEvent(new Ue(ae.value.snapshot))}),D.children.length&&this.forwardEvent(new Zi(D.value.snapshot))}activateRoutes(D,I,V){const G=D.value,ae=I?I.value:null;if(oi(G),G===ae)if(G.component){const me=V.getOrCreateContext(G.outlet);this.activateChildRoutes(D,I,me.children)}else this.activateChildRoutes(D,I,V);else if(G.component){const me=V.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Re=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),me.children.onOutletReAttached(Re.contexts),me.attachRef=Re.componentRef,me.route=Re.route.value,me.outlet&&me.outlet.attach(Re.componentRef,Re.route.value),oi(Re.route.value),this.activateChildRoutes(D,null,me.children)}else{const Re=function us(M){for(let D=M.parent;D;D=D.parent){const I=D.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig;if(I&&I.component)return null}return null}(G.snapshot),ft=Re?Re.module.componentFactoryResolver:null;me.attachRef=null,me.route=G,me.resolver=ft,me.outlet&&me.outlet.activateWith(G,ft),this.activateChildRoutes(D,null,me.children)}}else this.activateChildRoutes(D,null,V)}}class ws{constructor(D,I){this.routes=D,this.module=I}}function rr(M){return"function"==typeof M}function qr(M){return M instanceof Gi}const Yr=Symbol("INITIAL_VALUE");function Hr(){return(0,sn.w)(M=>function We(...M){const D=(0,de.yG)(M),I=(0,de.jO)(M),{args:V,keys:G}=(0,q.D)(M);if(0===V.length)return(0,Y.D)([],D);const ae=new fe.y(function $e(M,D,I=J.y){return V=>{ot(D,()=>{const{length:G}=M,ae=new Array(G);let me=G,Re=G;for(let ft=0;ft<G;ft++)ot(D,()=>{const Bt=(0,Y.D)(M[ft],D);let Vn=!1;Bt.subscribe(new ee.Q(V,rn=>{ae[ft]=rn,Vn||(Vn=!0,Re--),Re||V.next(I(ae.slice()))},()=>{--me||V.complete()}))},V)},V)}}(V,D,G?me=>(0,K.n)(G,me):J.y));return I?ae.pipe((0,ce.Z)(I)):ae}(M.map(D=>D.pipe((0,Mt.q)(1),(0,Ot.O)(Yr)))).pipe((0,Ye.R)((D,I)=>{let V=!1;return I.reduce((G,ae,me)=>G!==Yr?G:(ae===Yr&&(V=!0),V||!1!==ae&&me!==I.length-1&&!qr(ae)?G:ae),D)},Yr),(0,Ee.h)(D=>D!==Yr),(0,Ht.U)(D=>qr(D)?D:!0===D),(0,Mt.q)(1)))}class ji{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qr,this.attachRef=null}}class Qr{constructor(){this.contexts=new Map}onChildOutletCreated(D,I){const V=this.getOrCreateContext(D);V.outlet=I,this.contexts.set(D,V)}onChildOutletDestroyed(D){const I=this.getContext(D);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let I=this.getContext(D);return I||(I=new ji,this.contexts.set(D,I)),I}getContext(D){return this.contexts.get(D)||null}}let Ys=(()=>{class M{constructor(I,V,G,ae,me){this.parentContexts=I,this.location=V,this.resolver=G,this.changeDetector=me,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=ae||it,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,V){this.activated=I,this._activatedRoute=V,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,V){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;const me=(V=V||this.resolver).resolveComponentFactory(I._futureSnapshot.routeConfig.component),Re=this.parentContexts.getOrCreateContext(this.name).children,ft=new cs(I,Re,this.location.injector);this.activated=this.location.createComponent(me,this.location.length,ft),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return M.\u0275fac=function(I){return new(I||M)(i.Y36(Qr),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},M.\u0275dir=i.lG2({type:M,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),M})();class cs{constructor(D,I,V){this.route=D,this.childContexts=I,this.parent=V}get(D,I){return D===Gt?this.route:D===Qr?this.childContexts:this.parent.get(D,I)}}let zo=(()=>{class M{}return M.\u0275fac=function(I){return new(I||M)},M.\u0275cmp=i.Xpm({type:M,selectors:[["ng-component"]],decls:1,vars:0,template:function(I,V){1&I&&i._UZ(0,"router-outlet")},directives:[Ys],encapsulation:2}),M})();function xo(M,D=""){for(let I=0;I<M.length;I++){const V=M[I];co(V,Hn(D,V))}}function co(M,D){M.children&&xo(M.children,D)}function Hn(M,D){return D?M||D.path?M&&!D.path?`${M}/`:!M&&D.path?D.path:`${M}/${D.path}`:"":M}function Ts(M){const D=M.children&&M.children.map(Ts),I=D?Object.assign(Object.assign({},M),{children:D}):Object.assign({},M);return!I.component&&(D||I.loadChildren)&&I.outlet&&I.outlet!==it&&(I.component=zo),I}function Fi(M){return M.outlet||it}function B(M,D){const I=M.filter(V=>Fi(V)===D);return I.push(...M.filter(V=>Fi(V)!==D)),I}const oe={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function H(M,D,I){var V;if(""===D.path)return"full"===D.pathMatch&&(M.hasChildren()||I.length>0)?Object.assign({},oe):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ae=(D.matcher||gi)(I,M,D);if(!ae)return Object.assign({},oe);const me={};be(ae.posParams,(ft,Bt)=>{me[Bt]=ft.path});const Re=ae.consumed.length>0?Object.assign(Object.assign({},me),ae.consumed[ae.consumed.length-1].parameters):me;return{matched:!0,consumedSegments:ae.consumed,lastChild:ae.consumed.length,parameters:Re,positionalParamSegments:null!==(V=ae.posParams)&&void 0!==V?V:{}}}function ue(M,D,I,V,G="corrected"){if(I.length>0&&function It(M,D,I){return I.some(V=>U(M,D,V)&&Fi(V)!==it)}(M,I,V)){const me=new qt(D,function lt(M,D,I,V){const G={};G[it]=V,V._sourceSegment=M,V._segmentIndexShift=D.length;for(const ae of I)if(""===ae.path&&Fi(ae)!==it){const me=new qt([],{});me._sourceSegment=M,me._segmentIndexShift=D.length,G[Fi(ae)]=me}return G}(M,D,V,new qt(I,M.children)));return me._sourceSegment=M,me._segmentIndexShift=D.length,{segmentGroup:me,slicedSegments:[]}}if(0===I.length&&function nn(M,D,I){return I.some(V=>U(M,D,V))}(M,I,V)){const me=new qt(M.segments,function xe(M,D,I,V,G,ae){const me={};for(const Re of V)if(U(M,I,Re)&&!G[Fi(Re)]){const ft=new qt([],{});ft._sourceSegment=M,ft._segmentIndexShift="legacy"===ae?M.segments.length:D.length,me[Fi(Re)]=ft}return Object.assign(Object.assign({},G),me)}(M,D,I,V,M.children,G));return me._sourceSegment=M,me._segmentIndexShift=D.length,{segmentGroup:me,slicedSegments:I}}const ae=new qt(M.segments,M.children);return ae._sourceSegment=M,ae._segmentIndexShift=D.length,{segmentGroup:ae,slicedSegments:I}}function U(M,D,I){return(!(M.hasChildren()||D.length>0)||"full"!==I.pathMatch)&&""===I.path}function L(M,D,I,V){return!!(Fi(M)===V||V!==it&&U(D,I,M))&&("**"===M.path||H(D,M,I).matched)}function O(M,D,I){return 0===D.length&&!M.children[I]}class ne{constructor(D){this.segmentGroup=D||null}}class et{constructor(D){this.urlTree=D}}function Nt(M){return new fe.y(D=>D.error(new ne(M)))}function gn(M){return new fe.y(D=>D.error(new et(M)))}function Kt(M){return new fe.y(D=>D.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${M}'`)))}class Jr{constructor(D,I,V,G,ae){this.configLoader=I,this.urlSerializer=V,this.urlTree=G,this.config=ae,this.allowRedirects=!0,this.ngModule=D.get(i.h0i)}apply(){const D=ue(this.urlTree.root,[],[],this.config).segmentGroup,I=new qt(D.segments,D.children);return this.expandSegmentGroup(this.ngModule,this.config,I,it).pipe((0,Ht.U)(ae=>this.createUrlTree(ds(ae),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Be(ae=>{if(ae instanceof et)return this.allowRedirects=!1,this.match(ae.urlTree);throw ae instanceof ne?this.noMatchError(ae):ae}))}match(D){return this.expandSegmentGroup(this.ngModule,this.config,D.root,it).pipe((0,Ht.U)(G=>this.createUrlTree(ds(G),D.queryParams,D.fragment))).pipe(Be(G=>{throw G instanceof ne?this.noMatchError(G):G}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,I,V){const G=D.segments.length>0?new qt([],{[it]:D}):D;return new Gi(G,I,V)}expandSegmentGroup(D,I,V,G){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(D,I,V).pipe((0,Ht.U)(ae=>new qt([],ae))):this.expandSegment(D,V,I,V.segments,G,!0)}expandChildren(D,I,V){const G=[];for(const ae of Object.keys(V.children))"primary"===ae?G.unshift(ae):G.push(ae);return(0,Y.D)(G).pipe((0,Le.b)(ae=>{const me=V.children[ae],Re=B(I,ae);return this.expandSegmentGroup(D,Re,me,ae).pipe((0,Ht.U)(ft=>({segment:ft,outlet:ae})))}),(0,Ye.R)((ae,me)=>(ae[me.outlet]=me.segment,ae),{}),function mt(M,D){const I=arguments.length>=2;return V=>V.pipe(M?(0,Ee.h)((G,ae)=>M(G,ae,V)):J.y,je(1),I?(0,rt.d)(D):(0,nt.T)(()=>new ve.K))}())}expandSegment(D,I,V,G,ae,me){return(0,Y.D)(V).pipe((0,Le.b)(Re=>this.expandSegmentAgainstRoute(D,I,V,Re,G,ae,me).pipe(Be(Bt=>{if(Bt instanceof ne)return(0,Z.of)(null);throw Bt}))),(0,ct.P)(Re=>!!Re),Be((Re,ft)=>{if(Re instanceof ve.K||"EmptyError"===Re.name){if(O(I,G,ae))return(0,Z.of)(new qt([],{}));throw new ne(I)}throw Re}))}expandSegmentAgainstRoute(D,I,V,G,ae,me,Re){return L(G,I,ae,me)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(D,I,G,ae,me):Re&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,I,V,G,ae,me):Nt(I):Nt(I)}expandSegmentAgainstRouteUsingRedirect(D,I,V,G,ae,me){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,V,G,me):this.expandRegularSegmentAgainstRouteUsingRedirect(D,I,V,G,ae,me)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,I,V,G){const ae=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?gn(ae):this.lineralizeSegments(V,ae).pipe((0,Se.z)(me=>{const Re=new qt(me,{});return this.expandSegment(D,Re,I,me,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,I,V,G,ae,me){const{matched:Re,consumedSegments:ft,lastChild:Bt,positionalParamSegments:Vn}=H(I,G,ae);if(!Re)return Nt(I);const rn=this.applyRedirectCommands(ft,G.redirectTo,Vn);return G.redirectTo.startsWith("/")?gn(rn):this.lineralizeSegments(G,rn).pipe((0,Se.z)(ii=>this.expandSegment(D,I,V,ii.concat(ae.slice(Bt)),me,!1)))}matchSegmentAgainstRoute(D,I,V,G,ae){if("**"===V.path)return V.loadChildren?(V._loadedConfig?(0,Z.of)(V._loadedConfig):this.configLoader.load(D.injector,V)).pipe((0,Ht.U)(ii=>(V._loadedConfig=ii,new qt(G,{})))):(0,Z.of)(new qt(G,{}));const{matched:me,consumedSegments:Re,lastChild:ft}=H(I,V,G);if(!me)return Nt(I);const Bt=G.slice(ft);return this.getChildConfig(D,V,G).pipe((0,Se.z)(rn=>{const ii=rn.module,kn=rn.routes,{segmentGroup:_i,slicedSegments:Xr}=ue(I,Re,Bt,kn),pi=new qt(_i.segments,_i.children);if(0===Xr.length&&pi.hasChildren())return this.expandChildren(ii,kn,pi).pipe((0,Ht.U)(yr=>new qt(Re,yr)));if(0===kn.length&&0===Xr.length)return(0,Z.of)(new qt(Re,{}));const yi=Fi(V)===ae;return this.expandSegment(ii,pi,kn,Xr,yi?it:ae,!0).pipe((0,Ht.U)($r=>new qt(Re.concat($r.segments),$r.children)))}))}getChildConfig(D,I,V){return I.children?(0,Z.of)(new ws(I.children,D)):I.loadChildren?void 0!==I._loadedConfig?(0,Z.of)(I._loadedConfig):this.runCanLoadGuards(D.injector,I,V).pipe((0,Se.z)(G=>G?this.configLoader.load(D.injector,I).pipe((0,Ht.U)(ae=>(I._loadedConfig=ae,ae))):function wi(M){return new fe.y(D=>D.error(Wt(`Cannot load children because the guard of the route "path: '${M.path}'" returned false`)))}(I))):(0,Z.of)(new ws([],D))}runCanLoadGuards(D,I,V){const G=I.canLoad;if(!G||0===G.length)return(0,Z.of)(!0);const ae=G.map(me=>{const Re=D.get(me);let ft;if(function Kr(M){return M&&rr(M.canLoad)}(Re))ft=Re.canLoad(I,V);else{if(!rr(Re))throw new Error("Invalid CanLoad guard");ft=Re(I,V)}return we(ft)});return(0,Z.of)(ae).pipe(Hr(),(0,ht.b)(me=>{if(!qr(me))return;const Re=Wt(`Redirecting to "${this.urlSerializer.serialize(me)}"`);throw Re.url=me,Re}),(0,Ht.U)(me=>!0===me))}lineralizeSegments(D,I){let V=[],G=I.root;for(;;){if(V=V.concat(G.segments),0===G.numberOfChildren)return(0,Z.of)(V);if(G.numberOfChildren>1||!G.children[it])return Kt(D.redirectTo);G=G.children[it]}}applyRedirectCommands(D,I,V){return this.applyRedirectCreatreUrlTree(I,this.urlSerializer.parse(I),D,V)}applyRedirectCreatreUrlTree(D,I,V,G){const ae=this.createSegmentGroup(D,I.root,V,G);return new Gi(ae,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(D,I){const V={};return be(D,(G,ae)=>{if("string"==typeof G&&G.startsWith(":")){const Re=G.substring(1);V[ae]=I[Re]}else V[ae]=G}),V}createSegmentGroup(D,I,V,G){const ae=this.createSegments(D,I.segments,V,G);let me={};return be(I.children,(Re,ft)=>{me[ft]=this.createSegmentGroup(D,Re,V,G)}),new qt(ae,me)}createSegments(D,I,V,G){return I.map(ae=>ae.path.startsWith(":")?this.findPosParam(D,ae,G):this.findOrReturn(ae,V))}findPosParam(D,I,V){const G=V[I.path.substring(1)];if(!G)throw new Error(`Cannot redirect to '${D}'. Cannot find '${I.path}'.`);return G}findOrReturn(D,I){let V=0;for(const G of I){if(G.path===D.path)return I.splice(V),G;V++}return D}}function ds(M){const D={};for(const V of Object.keys(M.children)){const ae=ds(M.children[V]);(ae.segments.length>0||ae.hasChildren())&&(D[V]=ae)}return function Qs(M){if(1===M.numberOfChildren&&M.children[it]){const D=M.children[it];return new qt(M.segments.concat(D.segments),D.children)}return M}(new qt(M.segments,D))}class ll{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class St{constructor(D,I){this.component=D,this.route=I}}function qn(M,D,I){const V=M._root;return Vs(V,D?D._root:null,I,[V.value])}function Ai(M,D,I){const V=function Mo(M){if(!M)return null;for(let D=M.parent;D;D=D.parent){const I=D.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig}return null}(D);return(V?V.module.injector:I).get(M)}function Vs(M,D,I,V,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=ur(D);return M.children.forEach(me=>{(function hs(M,D,I,V,G={canDeactivateChecks:[],canActivateChecks:[]}){const ae=M.value,me=D?D.value:null,Re=I?I.getContext(M.value.outlet):null;if(me&&ae.routeConfig===me.routeConfig){const ft=function Na(M,D,I){if("function"==typeof I)return I(M,D);switch(I){case"pathParamsChange":return!ar(M.url,D.url);case"pathParamsOrQueryParamsChange":return!ar(M.url,D.url)||!Xt(M.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mr(M,D)||!Xt(M.queryParams,D.queryParams);default:return!mr(M,D)}}(me,ae,ae.routeConfig.runGuardsAndResolvers);ft?G.canActivateChecks.push(new ll(V)):(ae.data=me.data,ae._resolvedData=me._resolvedData),Vs(M,D,ae.component?Re?Re.children:null:I,V,G),ft&&Re&&Re.outlet&&Re.outlet.isActivated&&G.canDeactivateChecks.push(new St(Re.outlet.component,me))}else me&&Js(D,Re,G),G.canActivateChecks.push(new ll(V)),Vs(M,null,ae.component?Re?Re.children:null:I,V,G)})(me,ae[me.value.outlet],I,V.concat([me.value]),G),delete ae[me.value.outlet]}),be(ae,(me,Re)=>Js(me,I.getContext(Re),G)),G}function Js(M,D,I){const V=ur(M),G=M.value;be(V,(ae,me)=>{Js(ae,G.component?D?D.children.getContext(me):null:D,I)}),I.canDeactivateChecks.push(new St(G.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,G))}class Is{}function ul(M){return new fe.y(D=>D.error(M))}class pa{constructor(D,I,V,G,ae,me){this.rootComponentType=D,this.config=I,this.urlTree=V,this.url=G,this.paramsInheritanceStrategy=ae,this.relativeLinkResolution=me}recognize(){const D=ue(this.urlTree.root,[],[],this.config.filter(me=>void 0===me.redirectTo),this.relativeLinkResolution).segmentGroup,I=this.processSegmentGroup(this.config,D,it);if(null===I)return null;const V=new ys([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},it,this.rootComponentType,null,this.urlTree.root,-1,{}),G=new qi(V,I),ae=new gr(this.url,G);return this.inheritParamsAndData(ae._root),ae}inheritParamsAndData(D){const I=D.value,V=ei(I,this.paramsInheritanceStrategy);I.params=Object.freeze(V.params),I.data=Object.freeze(V.data),D.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(D,I,V){return 0===I.segments.length&&I.hasChildren()?this.processChildren(D,I):this.processSegment(D,I,I.segments,V)}processChildren(D,I){const V=[];for(const ae of Object.keys(I.children)){const me=I.children[ae],Re=B(D,ae),ft=this.processSegmentGroup(Re,me,ae);if(null===ft)return null;V.push(...ft)}const G=eo(V);return function cl(M){M.sort((D,I)=>D.value.outlet===it?-1:I.value.outlet===it?1:D.value.outlet.localeCompare(I.value.outlet))}(G),G}processSegment(D,I,V,G){for(const ae of D){const me=this.processSegmentAgainstRoute(ae,I,V,G);if(null!==me)return me}return O(I,V,G)?[]:null}processSegmentAgainstRoute(D,I,V,G){if(D.redirectTo||!L(D,I,V,G))return null;let ae,me=[],Re=[];if("**"===D.path){const kn=V.length>0?on(V).parameters:{};ae=new ys(V,kn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zo(D),Fi(D),D.component,D,Tr(I),Ro(I)+V.length,ga(D))}else{const kn=H(I,D,V);if(!kn.matched)return null;me=kn.consumedSegments,Re=V.slice(kn.lastChild),ae=new ys(me,kn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Zo(D),Fi(D),D.component,D,Tr(I),Ro(I)+me.length,ga(D))}const ft=function fo(M){return M.children?M.children:M.loadChildren?M._loadedConfig.routes:[]}(D),{segmentGroup:Bt,slicedSegments:Vn}=ue(I,me,Re,ft.filter(kn=>void 0===kn.redirectTo),this.relativeLinkResolution);if(0===Vn.length&&Bt.hasChildren()){const kn=this.processChildren(ft,Bt);return null===kn?null:[new qi(ae,kn)]}if(0===ft.length&&0===Vn.length)return[new qi(ae,[])];const rn=Fi(D)===G,ii=this.processSegment(ft,Bt,Vn,rn?it:G);return null===ii?null:[new qi(ae,ii)]}}function Fa(M){const D=M.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function eo(M){const D=[],I=new Set;for(const V of M){if(!Fa(V)){D.push(V);continue}const G=D.find(ae=>V.value.routeConfig===ae.value.routeConfig);void 0!==G?(G.children.push(...V.children),I.add(G)):D.push(V)}for(const V of I){const G=eo(V.children);D.push(new qi(V.value,G))}return D.filter(V=>!I.has(V))}function Tr(M){let D=M;for(;D._sourceSegment;)D=D._sourceSegment;return D}function Ro(M){let D=M,I=D._segmentIndexShift?D._segmentIndexShift:0;for(;D._sourceSegment;)D=D._sourceSegment,I+=D._segmentIndexShift?D._segmentIndexShift:0;return I-1}function Zo(M){return M.data||{}}function ga(M){return M.resolve||{}}function hl(M){return(0,sn.w)(D=>{const I=M(D);return I?(0,Y.D)(I).pipe((0,Ht.U)(()=>D)):(0,Z.of)(D)})}class Li extends class Bs{shouldDetach(D){return!1}store(D,I){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,I){return D.routeConfig===I.routeConfig}}{}const fl=new i.OlP("ROUTES");class pl{constructor(D,I,V,G){this.injector=D,this.compiler=I,this.onLoadStartListener=V,this.onLoadEndListener=G}load(D,I){if(I._loader$)return I._loader$;this.onLoadStartListener&&this.onLoadStartListener(I);const G=this.loadModuleFactory(I.loadChildren).pipe((0,Ht.U)(ae=>{this.onLoadEndListener&&this.onLoadEndListener(I);const me=ae.create(D);return new ws(zn(me.injector.get(fl,void 0,i.XFs.Self|i.XFs.Optional)).map(Ts),me)}),Be(ae=>{throw I._loader$=void 0,ae}));return I._loader$=new ke(G,()=>new v.x).pipe(Ie()),I._loader$}loadModuleFactory(D){return we(D()).pipe((0,Se.z)(I=>I instanceof i.YKP?(0,Z.of)(I):(0,Y.D)(this.compiler.compileModuleAsync(I))))}}class Va{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,I){return D}}function Bu(M){throw M}function lu(M,D,I){return D.parse("/")}function Po(M,D){return(0,Z.of)(null)}const Wo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_a={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let dr=(()=>{class M{constructor(I,V,G,ae,me,Re,ft){this.rootComponentType=I,this.urlSerializer=V,this.rootContexts=G,this.location=ae,this.config=ft,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new v.x,this.errorHandler=Bu,this.malformedUriErrorHandler=lu,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Po,afterPreactivation:Po},this.urlHandlingStrategy=new Va,this.routeReuseStrategy=new Li,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=me.get(i.h0i),this.console=me.get(i.c2e);const rn=me.get(i.R0b);this.isNgZoneEnabled=rn instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(ft),this.currentUrlTree=function ye(){return new Gi(new qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pl(me,Re,ii=>this.triggerEvent(new ln(ii)),ii=>this.triggerEvent(new In(ii))),this.routerState=Un(this.currentUrlTree,this.rootComponentType),this.transitions=new z({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}setupNavigations(I){const V=this.events;return I.pipe((0,Ee.h)(G=>0!==G.id),(0,Ht.U)(G=>Object.assign(Object.assign({},G),{extractedUrl:this.urlHandlingStrategy.extract(G.rawUrl)})),(0,sn.w)(G=>{let ae=!1,me=!1;return(0,Z.of)(G).pipe((0,ht.b)(Re=>{this.currentNavigation={id:Re.id,initialUrl:Re.currentRawUrl,extractedUrl:Re.extractedUrl,trigger:Re.source,extras:Re.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,sn.w)(Re=>{const ft=this.browserUrlTree.toString(),Bt=!this.navigated||Re.extractedUrl.toString()!==ft||ft!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Bt)&&this.urlHandlingStrategy.shouldProcessUrl(Re.rawUrl))return po(Re.source)&&(this.browserUrlTree=Re.extractedUrl),(0,Z.of)(Re).pipe((0,sn.w)(rn=>{const ii=this.transitions.getValue();return V.next(new Jn(rn.id,this.serializeUrl(rn.extractedUrl),rn.source,rn.restoredState)),ii!==this.transitions.getValue()?De.E:Promise.resolve(rn)}),function Ao(M,D,I,V){return(0,sn.w)(G=>function Nr(M,D,I,V,G){return new Jr(M,D,I,V,G).apply()}(M,D,I,G.extractedUrl,V).pipe((0,Ht.U)(ae=>Object.assign(Object.assign({},G),{urlAfterRedirects:ae}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ht.b)(rn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:rn.urlAfterRedirects})}),function ma(M,D,I,V,G){return(0,Se.z)(ae=>function $o(M,D,I,V,G="emptyOnly",ae="legacy"){try{const me=new pa(M,D,I,V,G,ae).recognize();return null===me?ul(new Is):(0,Z.of)(me)}catch(me){return ul(me)}}(M,D,ae.urlAfterRedirects,I(ae.urlAfterRedirects),V,G).pipe((0,Ht.U)(me=>Object.assign(Object.assign({},ae),{targetSnapshot:me}))))}(this.rootComponentType,this.config,rn=>this.serializeUrl(rn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ht.b)(rn=>{if("eager"===this.urlUpdateStrategy){if(!rn.extras.skipLocationChange){const kn=this.urlHandlingStrategy.merge(rn.urlAfterRedirects,rn.rawUrl);this.setBrowserUrl(kn,rn)}this.browserUrlTree=rn.urlAfterRedirects}const ii=new or(rn.id,this.serializeUrl(rn.extractedUrl),this.serializeUrl(rn.urlAfterRedirects),rn.targetSnapshot);V.next(ii)}));if(Bt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ii,extractedUrl:kn,source:_i,restoredState:Xr,extras:pi}=Re,yi=new Jn(ii,this.serializeUrl(kn),_i,Xr);V.next(yi);const es=Un(kn,this.rootComponentType).snapshot;return(0,Z.of)(Object.assign(Object.assign({},Re),{targetSnapshot:es,urlAfterRedirects:kn,extras:Object.assign(Object.assign({},pi),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Re.rawUrl,Re.resolve(null),De.E}),hl(Re=>{const{targetSnapshot:ft,id:Bt,extractedUrl:Vn,rawUrl:rn,extras:{skipLocationChange:ii,replaceUrl:kn}}=Re;return this.hooks.beforePreactivation(ft,{navigationId:Bt,appliedUrlTree:Vn,rawUrlTree:rn,skipLocationChange:!!ii,replaceUrl:!!kn})}),(0,ht.b)(Re=>{const ft=new er(Re.id,this.serializeUrl(Re.extractedUrl),this.serializeUrl(Re.urlAfterRedirects),Re.targetSnapshot);this.triggerEvent(ft)}),(0,Ht.U)(Re=>Object.assign(Object.assign({},Re),{guards:qn(Re.targetSnapshot,Re.currentSnapshot,this.rootContexts)})),function au(M,D){return(0,Se.z)(I=>{const{targetSnapshot:V,currentSnapshot:G,guards:{canActivateChecks:ae,canDeactivateChecks:me}}=I;return 0===me.length&&0===ae.length?(0,Z.of)(Object.assign(Object.assign({},I),{guardsResult:!0})):function jr(M,D,I,V){return(0,Y.D)(M).pipe((0,Se.z)(G=>function ko(M,D,I,V,G){const ae=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,Z.of)(!0);const me=ae.map(Re=>{const ft=Ai(Re,D,G);let Bt;if(function Yi(M){return M&&rr(M.canDeactivate)}(ft))Bt=we(ft.canDeactivate(M,D,I,V));else{if(!rr(ft))throw new Error("Invalid CanDeactivate guard");Bt=we(ft(M,D,I,V))}return Bt.pipe((0,ct.P)())});return(0,Z.of)(me).pipe(Hr())}(G.component,G.route,I,D,V)),(0,ct.P)(G=>!0!==G,!0))}(me,V,G,M).pipe((0,Se.z)(Re=>Re&&function Cs(M){return"boolean"==typeof M}(Re)?function Oo(M,D,I,V){return(0,Y.D)(D).pipe((0,Le.b)(G=>(0,he.z)(function sr(M,D){return null!==M&&D&&D(new Ti(M)),(0,Z.of)(!0)}(G.route.parent,V),function ho(M,D){return null!==M&&D&&D(new gt(M)),(0,Z.of)(!0)}(G.route,V),function fa(M,D,I){const V=D[D.length-1],ae=D.slice(0,D.length-1).reverse().map(me=>function ha(M){const D=M.routeConfig?M.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:M,guards:D}:null}(me)).filter(me=>null!==me).map(me=>ze(()=>{const Re=me.guards.map(ft=>{const Bt=Ai(ft,me.node,I);let Vn;if(function Es(M){return M&&rr(M.canActivateChild)}(Bt))Vn=we(Bt.canActivateChild(V,M));else{if(!rr(Bt))throw new Error("Invalid CanActivateChild guard");Vn=we(Bt(V,M))}return Vn.pipe((0,ct.P)())});return(0,Z.of)(Re).pipe(Hr())}));return(0,Z.of)(ae).pipe(Hr())}(M,G.path,I),function Xs(M,D,I){const V=D.routeConfig?D.routeConfig.canActivate:null;if(!V||0===V.length)return(0,Z.of)(!0);const G=V.map(ae=>ze(()=>{const me=Ai(ae,D,I);let Re;if(function Do(M){return M&&rr(M.canActivate)}(me))Re=we(me.canActivate(D,M));else{if(!rr(me))throw new Error("Invalid CanActivate guard");Re=we(me(D,M))}return Re.pipe((0,ct.P)())}));return(0,Z.of)(G).pipe(Hr())}(M,G.route,I))),(0,ct.P)(G=>!0!==G,!0))}(V,ae,M,D):(0,Z.of)(Re)),(0,Ht.U)(Re=>Object.assign(Object.assign({},I),{guardsResult:Re})))})}(this.ngModule.injector,Re=>this.triggerEvent(Re)),(0,ht.b)(Re=>{if(qr(Re.guardsResult)){const Bt=Wt(`Redirecting to "${this.serializeUrl(Re.guardsResult)}"`);throw Bt.url=Re.guardsResult,Bt}const ft=new Ct(Re.id,this.serializeUrl(Re.extractedUrl),this.serializeUrl(Re.urlAfterRedirects),Re.targetSnapshot,!!Re.guardsResult);this.triggerEvent(ft)}),(0,Ee.h)(Re=>!!Re.guardsResult||(this.restoreHistory(Re),this.cancelNavigationTransition(Re,""),!1)),hl(Re=>{if(Re.guards.canActivateChecks.length)return(0,Z.of)(Re).pipe((0,ht.b)(ft=>{const Bt=new $i(ft.id,this.serializeUrl(ft.extractedUrl),this.serializeUrl(ft.urlAfterRedirects),ft.targetSnapshot);this.triggerEvent(Bt)}),(0,sn.w)(ft=>{let Bt=!1;return(0,Z.of)(ft).pipe(function Pl(M,D){return(0,Se.z)(I=>{const{targetSnapshot:V,guards:{canActivateChecks:G}}=I;if(!G.length)return(0,Z.of)(I);let ae=0;return(0,Y.D)(G).pipe((0,Le.b)(me=>function La(M,D,I,V){return function Go(M,D,I,V){const G=Object.keys(M);if(0===G.length)return(0,Z.of)({});const ae={};return(0,Y.D)(G).pipe((0,Se.z)(me=>function dl(M,D,I,V){const G=Ai(M,D,V);return we(G.resolve?G.resolve(D,I):G(D,I))}(M[me],D,I,V).pipe((0,ht.b)(Re=>{ae[me]=Re}))),je(1),(0,Se.z)(()=>Object.keys(ae).length===G.length?(0,Z.of)(ae):De.E))}(M._resolve,M,D,V).pipe((0,Ht.U)(ae=>(M._resolvedData=ae,M.data=Object.assign(Object.assign({},M.data),ei(M,I).resolve),null)))}(me.route,V,M,D)),(0,ht.b)(()=>ae++),je(1),(0,Se.z)(me=>ae===G.length?(0,Z.of)(I):De.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ht.b)({next:()=>Bt=!0,complete:()=>{Bt||(this.restoreHistory(ft),this.cancelNavigationTransition(ft,"At least one route resolver didn't emit any value."))}}))}),(0,ht.b)(ft=>{const Bt=new Mi(ft.id,this.serializeUrl(ft.extractedUrl),this.serializeUrl(ft.urlAfterRedirects),ft.targetSnapshot);this.triggerEvent(Bt)}))}),hl(Re=>{const{targetSnapshot:ft,id:Bt,extractedUrl:Vn,rawUrl:rn,extras:{skipLocationChange:ii,replaceUrl:kn}}=Re;return this.hooks.afterPreactivation(ft,{navigationId:Bt,appliedUrlTree:Vn,rawUrlTree:rn,skipLocationChange:!!ii,replaceUrl:!!kn})}),(0,Ht.U)(Re=>{const ft=function Er(M,D,I){const V=as(M,D._root,I?I._root:void 0);return new Ui(V,D)}(this.routeReuseStrategy,Re.targetSnapshot,Re.currentRouterState);return Object.assign(Object.assign({},Re),{targetRouterState:ft})}),(0,ht.b)(Re=>{this.currentUrlTree=Re.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Re.urlAfterRedirects,Re.rawUrl),this.routerState=Re.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Re.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Re),this.browserUrlTree=Re.urlAfterRedirects)}),((M,D,I)=>(0,Ht.U)(V=>(new uo(D,V.targetRouterState,V.currentRouterState,I).activate(M),V)))(this.rootContexts,this.routeReuseStrategy,Re=>this.triggerEvent(Re)),(0,ht.b)({next(){ae=!0},complete(){ae=!0}}),function Qe(M){return(0,Ce.e)((D,I)=>{try{D.subscribe(I)}finally{I.add(M)}})}(()=>{var Re;ae||me||this.cancelNavigationTransition(G,`Navigation ID ${G.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Re=this.currentNavigation)||void 0===Re?void 0:Re.id)===G.id&&(this.currentNavigation=null)}),Be(Re=>{if(me=!0,function Sn(M){return M&&M[Pt]}(Re)){const ft=qr(Re.url);ft||(this.navigated=!0,this.restoreHistory(G,!0));const Bt=new jn(G.id,this.serializeUrl(G.extractedUrl),Re.message);V.next(Bt),ft?setTimeout(()=>{const Vn=this.urlHandlingStrategy.merge(Re.url,this.rawUrlTree),rn={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||po(G.source)};this.scheduleNavigation(Vn,"imperative",null,rn,{resolve:G.resolve,reject:G.reject,promise:G.promise})},0):G.resolve(!1)}else{this.restoreHistory(G,!0);const ft=new _s(G.id,this.serializeUrl(G.extractedUrl),Re);V.next(ft);try{G.resolve(this.errorHandler(Re))}catch(Bt){G.reject(Bt)}}return De.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),I))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const V="popstate"===I.type?"popstate":"hashchange";"popstate"===V&&setTimeout(()=>{var G;const ae={replaceUrl:!0},me=(null===(G=I.state)||void 0===G?void 0:G.navigationId)?I.state:null;if(me){const ft=Object.assign({},me);delete ft.navigationId,delete ft.\u0275routerPageId,0!==Object.keys(ft).length&&(ae.state=ft)}const Re=this.parseUrl(I.url);this.scheduleNavigation(Re,V,me,ae)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){xo(I),this.config=I.map(Ts),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,V={}){const{relativeTo:G,queryParams:ae,fragment:me,queryParamsHandling:Re,preserveFragment:ft}=V,Bt=G||this.routerState.root,Vn=ft?this.currentUrlTree.fragment:me;let rn=null;switch(Re){case"merge":rn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ae);break;case"preserve":rn=this.currentUrlTree.queryParams;break;default:rn=ae||null}return null!==rn&&(rn=this.removeEmptyProps(rn)),function Gs(M,D,I,V,G){if(0===I.length)return so(D.root,D.root,D,V,G);const ae=function oo(M){if("string"==typeof M[0]&&1===M.length&&"/"===M[0])return new Ws(!0,0,M);let D=0,I=!1;const V=M.reduce((G,ae,me)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const Re={};return be(ae.outlets,(ft,Bt)=>{Re[Bt]="string"==typeof ft?ft.split("/"):ft}),[...G,{outlets:Re}]}if(ae.segmentPath)return[...G,ae.segmentPath]}return"string"!=typeof ae?[...G,ae]:0===me?(ae.split("/").forEach((Re,ft)=>{0==ft&&"."===Re||(0==ft&&""===Re?I=!0:".."===Re?D++:""!=Re&&G.push(Re))}),G):[...G,ae]},[]);return new Ws(I,D,V)}(I);if(ae.toRoot())return so(D.root,new qt([],{}),D,V,G);const me=function al(M,D,I){if(M.isAbsolute)return new _r(D.root,!0,0);if(-1===I.snapshot._lastPathIndex){const ae=I.snapshot._urlSegment;return new _r(ae,ae===D.root,0)}const V=bs(M.commands[0])?0:1;return function ao(M,D,I){let V=M,G=D,ae=I;for(;ae>G;){if(ae-=G,V=V.parent,!V)throw new Error("Invalid number of '../'");G=V.segments.length}return new _r(V,!1,G-ae)}(I.snapshot._urlSegment,I.snapshot._lastPathIndex+V,M.numberOfDoubleDots)}(ae,D,M),Re=me.processChildren?qs(me.segmentGroup,me.index,ae.commands):ir(me.segmentGroup,me.index,ae.commands);return so(me.segmentGroup,Re,D,V,G)}(Bt,this.currentUrlTree,I,rn,null!=Vn?Vn:null)}navigateByUrl(I,V={skipLocationChange:!1}){const G=qr(I)?I:this.parseUrl(I),ae=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ae,"imperative",null,V)}navigate(I,V={skipLocationChange:!1}){return function Ba(M){for(let D=0;D<M.length;D++){const I=M[D];if(null==I)throw new Error(`The requested path contains ${I} segment at index ${D}`)}}(I),this.navigateByUrl(this.createUrlTree(I,V),V)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let V;try{V=this.urlSerializer.parse(I)}catch(G){V=this.malformedUriErrorHandler(G,this.urlSerializer,I)}return V}isActive(I,V){let G;if(G=!0===V?Object.assign({},Wo):!1===V?Object.assign({},_a):V,qr(I))return yt(this.currentUrlTree,I,G);const ae=this.parseUrl(I);return yt(this.currentUrlTree,ae,G)}removeEmptyProps(I){return Object.keys(I).reduce((V,G)=>{const ae=I[G];return null!=ae&&(V[G]=ae),V},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new Tn(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,V,G,ae,me){var Re,ft,Bt;if(this.disposed)return Promise.resolve(!1);const Vn=this.transitions.value,rn=po(V)&&Vn&&!po(Vn.source),ii=Vn.rawUrl.toString()===I.toString(),kn=Vn.id===(null===(Re=this.currentNavigation)||void 0===Re?void 0:Re.id);if(rn&&ii&&kn)return Promise.resolve(!0);let Xr,pi,yi;me?(Xr=me.resolve,pi=me.reject,yi=me.promise):yi=new Promise((yr,fu)=>{Xr=yr,pi=fu});const es=++this.navigationId;let $r;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(G=this.location.getState()),$r=G&&G.\u0275routerPageId?G.\u0275routerPageId:ae.replaceUrl||ae.skipLocationChange?null!==(ft=this.browserPageId)&&void 0!==ft?ft:0:(null!==(Bt=this.browserPageId)&&void 0!==Bt?Bt:0)+1):$r=0,this.setTransition({id:es,targetPageId:$r,source:V,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:ae,resolve:Xr,reject:pi,promise:yi,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yi.catch(yr=>Promise.reject(yr))}setBrowserUrl(I,V){const G=this.urlSerializer.serialize(I),ae=Object.assign(Object.assign({},V.extras.state),this.generateNgRouterState(V.id,V.targetPageId));this.location.isCurrentPathEqualTo(G)||V.extras.replaceUrl?this.location.replaceState(G,"",ae):this.location.go(G,"",ae)}restoreHistory(I,V=!1){var G,ae;if("computed"===this.canceledNavigationResolution){const me=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(G=this.currentNavigation)||void 0===G?void 0:G.finalUrl)||0===me?this.currentUrlTree===(null===(ae=this.currentNavigation)||void 0===ae?void 0:ae.finalUrl)&&0===me&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(me)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,V){const G=new jn(I.id,this.serializeUrl(I.extractedUrl),V);this.triggerEvent(G),I.resolve(!1)}generateNgRouterState(I,V){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:V}:{navigationId:I}}}return M.\u0275fac=function(I){i.$Z()},M.\u0275prov=i.Yz7({token:M,factory:M.\u0275fac}),M})();function po(M){return"imperative"!==M}let Ii=(()=>{class M{constructor(I,V,G,ae,me){this.router=I,this.route=V,this.tabIndexAttribute=G,this.renderer=ae,this.el=me,this.commands=null,this.onChanges=new v.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const V=this.renderer,G=this.el.nativeElement;null!==I?V.setAttribute(G,"tabindex",I):V.removeAttribute(G,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const I={skipLocationChange:ya(this.skipLocationChange),replaceUrl:ya(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,I),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ya(this.preserveFragment)})}}return M.\u0275fac=function(I){return new(I||M)(i.Y36(dr),i.Y36(Gt),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},M.\u0275dir=i.lG2({type:M,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,V){1&I&&i.NdJ("click",function(){return V.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[i.TTD]}),M})(),Us=(()=>{class M{constructor(I,V,G){this.router=I,this.route=V,this.locationStrategy=G,this.commands=null,this.href=null,this.onChanges=new v.x,this.subscription=I.events.subscribe(ae=>{ae instanceof Tn&&this.updateTargetUrlAndHref()})}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:null}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,V,G,ae,me){if(0!==I||V||G||ae||me||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Re={skipLocationChange:ya(this.skipLocationChange),replaceUrl:ya(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Re),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ya(this.preserveFragment)})}}return M.\u0275fac=function(I){return new(I||M)(i.Y36(dr),i.Y36(Gt),i.Y36(pt.S$))},M.\u0275dir=i.lG2({type:M,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,V){1&I&&i.NdJ("click",function(ae){return V.onClick(ae.button,ae.ctrlKey,ae.shiftKey,ae.altKey,ae.metaKey)}),2&I&&i.uIk("target",V.target)("href",V.href,i.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[i.TTD]}),M})();function ya(M){return""===M||!!M}let Nl=(()=>{class M{constructor(I,V,G,ae,me,Re){this.router=I,this.element=V,this.renderer=G,this.cdr=ae,this.link=me,this.linkWithHref=Re,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.vpe,this.routerEventsSubscription=I.events.subscribe(ft=>{ft instanceof Tn&&this.update()})}ngAfterContentInit(){(0,Z.of)(this.links.changes,this.linksWithHrefs.changes,(0,Z.of)(null)).pipe((0,qe.J)()).subscribe(I=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var I;null===(I=this.linkInputChangesSubscription)||void 0===I||I.unsubscribe();const V=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(G=>!!G).map(G=>G.onChanges);this.linkInputChangesSubscription=(0,Y.D)(V).pipe((0,qe.J)()).subscribe(G=>{this.isActive!==this.isLinkActive(this.router)(G)&&this.update()})}set routerLinkActive(I){const V=Array.isArray(I)?I:I.split(" ");this.classes=V.filter(G=>!!G)}ngOnChanges(I){this.update()}ngOnDestroy(){var I;this.routerEventsSubscription.unsubscribe(),null===(I=this.linkInputChangesSubscription)||void 0===I||I.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const I=this.hasActiveLinks();this.isActive!==I&&(this.isActive=I,this.cdr.markForCheck(),this.classes.forEach(V=>{I?this.renderer.addClass(this.element.nativeElement,V):this.renderer.removeClass(this.element.nativeElement,V)}),this.isActiveChange.emit(I))})}isLinkActive(I){const V=function va(M){return!!M.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return G=>!!G.urlTree&&I.isActive(G.urlTree,V)}hasActiveLinks(){const I=this.isLinkActive(this.router);return this.link&&I(this.link)||this.linkWithHref&&I(this.linkWithHref)||this.links.some(I)||this.linksWithHrefs.some(I)}}return M.\u0275fac=function(I){return new(I||M)(i.Y36(dr),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(Ii,8),i.Y36(Us,8))},M.\u0275dir=i.lG2({type:M,selectors:[["","routerLinkActive",""]],contentQueries:function(I,V,G){if(1&I&&(i.Suo(G,Ii,5),i.Suo(G,Us,5)),2&I){let ae;i.iGM(ae=i.CRH())&&(V.links=ae),i.iGM(ae=i.CRH())&&(V.linksWithHrefs=ae)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[i.TTD]}),M})();class No{}class to{preload(D,I){return(0,Z.of)(null)}}let cu=(()=>{class M{constructor(I,V,G,ae){this.router=I,this.injector=G,this.preloadingStrategy=ae,this.loader=new pl(G,V,ft=>I.triggerEvent(new ln(ft)),ft=>I.triggerEvent(new In(ft)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ee.h)(I=>I instanceof Tn),(0,Le.b)(()=>this.preload())).subscribe(()=>{})}preload(){const I=this.injector.get(i.h0i);return this.processRoutes(I,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,V){const G=[];for(const ae of V)if(ae.loadChildren&&!ae.canLoad&&ae._loadedConfig){const me=ae._loadedConfig;G.push(this.processRoutes(me.module,me.routes))}else ae.loadChildren&&!ae.canLoad?G.push(this.preloadConfig(I,ae)):ae.children&&G.push(this.processRoutes(I,ae.children));return(0,Y.D)(G).pipe((0,qe.J)(),(0,Ht.U)(ae=>{}))}preloadConfig(I,V){return this.preloadingStrategy.preload(V,()=>(V._loadedConfig?(0,Z.of)(V._loadedConfig):this.loader.load(I.injector,V)).pipe((0,Se.z)(ae=>(V._loadedConfig=ae,this.processRoutes(ae.module,ae.routes)))))}}return M.\u0275fac=function(I){return new(I||M)(i.LFG(dr),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(No))},M.\u0275prov=i.Yz7({token:M,factory:M.\u0275fac}),M})(),du=(()=>{class M{constructor(I,V,G={}){this.router=I,this.viewportScroller=V,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Jn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof Tn&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Ne&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,V){this.router.triggerEvent(new Ne(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return M.\u0275fac=function(I){i.$Z()},M.\u0275prov=i.Yz7({token:M,factory:M.\u0275fac}),M})();const go=new i.OlP("ROUTER_CONFIGURATION"),zr=new i.OlP("ROUTER_FORROOT_GUARD"),ba=[pt.Ye,{provide:tr,useClass:Wi},{provide:dr,useFactory:function gl(M,D,I,V,G,ae,me={},Re,ft){const Bt=new dr(null,M,D,I,V,G,zn(ae));return Re&&(Bt.urlHandlingStrategy=Re),ft&&(Bt.routeReuseStrategy=ft),function ml(M,D){M.errorHandler&&(D.errorHandler=M.errorHandler),M.malformedUriErrorHandler&&(D.malformedUriErrorHandler=M.malformedUriErrorHandler),M.onSameUrlNavigation&&(D.onSameUrlNavigation=M.onSameUrlNavigation),M.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=M.paramsInheritanceStrategy),M.relativeLinkResolution&&(D.relativeLinkResolution=M.relativeLinkResolution),M.urlUpdateStrategy&&(D.urlUpdateStrategy=M.urlUpdateStrategy),M.canceledNavigationResolution&&(D.canceledNavigationResolution=M.canceledNavigationResolution)}(me,Bt),me.enableTracing&&Bt.events.subscribe(Vn=>{var rn,ii;null===(rn=console.group)||void 0===rn||rn.call(console,`Router Event: ${Vn.constructor.name}`),console.log(Vn.toString()),console.log(Vn),null===(ii=console.groupEnd)||void 0===ii||ii.call(console)}),Bt},deps:[tr,Qr,pt.Ye,i.zs3,i.Sil,fl,go,[class Ac{},new i.FiY],[class cr{},new i.FiY]]},Qr,{provide:Gt,useFactory:function wa(M){return M.routerState.root},deps:[dr]},cu,to,class uu{preload(D,I){return I().pipe(Be(()=>(0,Z.of)(null)))}},{provide:go,useValue:{enableTracing:!1}}];function Uu(){return new i.PXZ("Router",dr)}let Hu=(()=>{class M{constructor(I,V){}static forRoot(I,V){return{ngModule:M,providers:[ba,Ha(I),{provide:zr,useFactory:Ua,deps:[[dr,new i.FiY,new i.tp0]]},{provide:go,useValue:V||{}},{provide:pt.S$,useFactory:ju,deps:[pt.lw,[new i.tBr(pt.mr),new i.FiY],go]},{provide:du,useFactory:qo,deps:[dr,pt.EM,go]},{provide:No,useExisting:V&&V.preloadingStrategy?V.preloadingStrategy:to},{provide:i.PXZ,multi:!0,useFactory:Uu},[Ss,{provide:i.ip1,multi:!0,useFactory:_l,deps:[Ss]},{provide:Ca,useFactory:zu,deps:[Ss]},{provide:i.tb,multi:!0,useExisting:Ca}]]}}static forChild(I){return{ngModule:M,providers:[Ha(I)]}}}return M.\u0275fac=function(I){return new(I||M)(i.LFG(zr,8),i.LFG(dr,8))},M.\u0275mod=i.oAB({type:M}),M.\u0275inj=i.cJS({}),M})();function qo(M,D,I){return I.scrollOffset&&D.setOffset(I.scrollOffset),new du(M,D,I)}function ju(M,D,I={}){return I.useHash?new pt.Do(M,D):new pt.b0(M,D)}function Ua(M){return"guarded"}function Ha(M){return[{provide:i.deG,multi:!0,useValue:M},{provide:fl,multi:!0,useValue:M}]}let Ss=(()=>{class M{constructor(I){this.injector=I,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new v.x}appInitializer(){return this.injector.get(pt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let V=null;const G=new Promise(Re=>V=Re),ae=this.injector.get(dr),me=this.injector.get(go);return"disabled"===me.initialNavigation?(ae.setUpLocationChangeListener(),V(!0)):"enabled"===me.initialNavigation||"enabledBlocking"===me.initialNavigation?(ae.hooks.afterPreactivation=()=>this.initNavigation?(0,Z.of)(null):(this.initNavigation=!0,V(!0),this.resultOfPreactivationDone),ae.initialNavigation()):V(!0),G})}bootstrapListener(I){const V=this.injector.get(go),G=this.injector.get(cu),ae=this.injector.get(du),me=this.injector.get(dr),Re=this.injector.get(i.z2F);I===Re.components[0]&&(("enabledNonBlocking"===V.initialNavigation||void 0===V.initialNavigation)&&me.initialNavigation(),G.setUpPreloading(),ae.init(),me.resetRootComponentType(Re.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return M.\u0275fac=function(I){return new(I||M)(i.LFG(i.zs3))},M.\u0275prov=i.Yz7({token:M,factory:M.\u0275fac}),M})();function _l(M){return M.appInitializer.bind(M)}function zu(M){return M.bootstrapListener.bind(M)}const Ca=new i.OlP("Router Initializer")},3942:(Dt,Ve,R)=>{R.d(Ve,{Z:()=>ot});var i=R(2090),v=R(4859),z=R(9681),fe=R(1877);class q{constructor(ze,re){this._delegate=ze,this.firebase=re,(0,z._addComponent)(ze,new v.wA("app-compat",()=>this,"PUBLIC")),this.container=ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ze){this._delegate.automaticDataCollectionEnabled=ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ze=>{this._delegate.checkDestroyed(),ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(ze,re=z._DEFAULT_ENTRY_NAME){var Ce;this._delegate.checkDestroyed();const Ie=this._delegate.container.getProvider(ze);return!Ie.isInitialized()&&"EXPLICIT"===(null===(Ce=Ie.getComponent())||void 0===Ce?void 0:Ce.instantiationMode)&&Ie.initialize(),Ie.getImmediate({identifier:re})}_removeServiceInstance(ze,re=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ze).clearInstance(re)}_addComponent(ze){(0,z._addComponent)(this._delegate,ze)}_addOrOverwriteComponent(ze){(0,z._addOrOverwriteComponent)(this._delegate,ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new i.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function de(){const Ze=function ce(Ze){const ze={},re={__esModule:!0,initializeApp:function ke(De,Be={}){const Ee=z.initializeApp(De,Be);if((0,i.r3)(ze,Ee.name))return ze[Ee.name];const je=new Ze(Ee,re);return ze[Ee.name]=je,je},app:Ie,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function ve(De){const Be=De.name,Ee=Be.replace("-compat","");if(z._registerComponent(De)&&"PUBLIC"===De.type){const je=(nt=Ie())=>{if("function"!=typeof nt[Ee])throw J.create("invalid-app-argument",{appName:Be});return nt[Ee]()};void 0!==De.serviceProps&&(0,i.ZB)(je,De.serviceProps),re[Ee]=je,Ze.prototype[Ee]=function(...nt){return this._getService.bind(this,Be).apply(this,De.multipleInstances?nt:[])}}return"PUBLIC"===De.type?re[Ee]:null},removeApp:function Ce(De){delete ze[De]},useAsService:function he(De,Be){return"serverAuth"===Be?null:Be},modularAPIs:z}};function Ie(De){if(!(0,i.r3)(ze,De=De||z._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:De});return ze[De]}return re.default=re,Object.defineProperty(re,"apps",{get:function Z(){return Object.keys(ze).map(De=>ze[De])}}),Ie.App=Ze,re}(q);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function ze(re){(0,i.ZB)(Ze,re)},createSubscribe:i.ne,ErrorFactory:i.LL,deepExtend:i.ZB}),Ze}(),ee=new fe.Yd("@firebase/app-compat");if((0,i.jU)()&&void 0!==self.firebase){ee.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&ee.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ot=K;!function $e(Ze){(0,z.registerVersion)("@firebase/app-compat","0.1.34",Ze)}()},9681:(Dt,Ve,R)=>{R.r(Ve),R.d(Ve,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>or,_DEFAULT_ENTRY_NAME:()=>Ot,_addComponent:()=>Se,_addOrOverwriteComponent:()=>ht,_apps:()=>Le,_clearComponents:()=>Jn,_components:()=>ct,_getProvider:()=>pt,_registerComponent:()=>qe,_removeServiceInstance:()=>Jt,deleteApp:()=>Mi,getApp:()=>Ct,getApps:()=>$i,initializeApp:()=>er,onLog:()=>Ti,registerVersion:()=>In,setLogLevel:()=>Zi});var i=R(5861),v=R(4859),z=R(1877),fe=R(2090),q=R(8766);class Y{constructor(Oe){this.container=Oe}getPlatformInfoString(){return this.container.getProviders().map(Me=>{if(function J(ye){const Oe=ye.getComponent();return"VERSION"===(null==Oe?void 0:Oe.type)}(Me)){const yt=Me.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Me=>Me).join(" ")}}const ce="@firebase/app",K=new z.Yd("@firebase/app"),Ot="[DEFAULT]",Ye={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Le=new Map,ct=new Map;function Se(ye,Oe){try{ye.container.addComponent(Oe)}catch(Me){K.debug(`Component ${Oe.name} failed to register with FirebaseApp ${ye.name}`,Me)}}function ht(ye,Oe){ye.container.addOrOverwriteComponent(Oe)}function qe(ye){const Oe=ye.name;if(ct.has(Oe))return K.debug(`There were multiple attempts to register component ${Oe}.`),!1;ct.set(Oe,ye);for(const Me of Le.values())Se(Me,ye);return!0}function pt(ye,Oe){const Me=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return Me&&Me.triggerHeartbeat(),ye.container.getProvider(Oe)}function Jt(ye,Oe,Me=Ot){pt(ye,Oe).clearInstance(Me)}function Jn(){ct.clear()}const jn=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class _s{constructor(Oe,Me,yt){this._isDeleted=!1,this._options=Object.assign({},Oe),this._config=Object.assign({},Me),this._name=Me.name,this._automaticDataCollectionEnabled=Me.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new v.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Oe){this._isDeleted=Oe}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const or="9.10.0";function er(ye,Oe={}){"object"!=typeof Oe&&(Oe={name:Oe});const Me=Object.assign({name:Ot,automaticDataCollectionEnabled:!1},Oe),yt=Me.name;if("string"!=typeof yt||!yt)throw jn.create("bad-app-name",{appName:String(yt)});const Zt=Le.get(yt);if(Zt){if((0,fe.vZ)(ye,Zt.options)&&(0,fe.vZ)(Me,Zt.config))return Zt;throw jn.create("duplicate-app",{appName:yt})}const fn=new v.H0(yt);for(const ci of ct.values())fn.addComponent(ci);const bi=new _s(ye,Me,fn);return Le.set(yt,bi),bi}function Ct(ye=Ot){const Oe=Le.get(ye);if(!Oe)throw jn.create("no-app",{appName:ye});return Oe}function $i(){return Array.from(Le.values())}function Mi(ye){return ln.apply(this,arguments)}function ln(){return(ln=(0,i.Z)(function*(ye){const Oe=ye.name;Le.has(Oe)&&(Le.delete(Oe),yield Promise.all(ye.container.getProviders().map(Me=>Me.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function In(ye,Oe,Me){var yt;let Zt=null!==(yt=Ye[ye])&&void 0!==yt?yt:ye;Me&&(Zt+=`-${Me}`);const fn=Zt.match(/\s|\//),bi=Oe.match(/\s|\//);if(fn||bi){const ci=[`Unable to register library "${Zt}" with version "${Oe}":`];return fn&&ci.push(`library name "${Zt}" contains illegal characters (whitespace or "/")`),fn&&bi&&ci.push("and"),bi&&ci.push(`version name "${Oe}" contains illegal characters (whitespace or "/")`),void K.warn(ci.join(" "))}qe(new v.wA(`${Zt}-version`,()=>({library:Zt,version:Oe}),"VERSION"))}function Ti(ye,Oe){if(null!==ye&&"function"!=typeof ye)throw jn.create("invalid-log-argument");(0,z.Am)(ye,Oe)}function Zi(ye){(0,z.Ub)(ye)}const Ne="firebase-heartbeat-store";let it=null;function Et(){return it||(it=(0,q.X3)("firebase-heartbeat-database",1,{upgrade:(ye,Oe)=>{0===Oe&&ye.createObjectStore(Ne)}}).catch(ye=>{throw jn.create("idb-open",{originalErrorMessage:ye.message})})),it}function Pt(){return(Pt=(0,i.Z)(function*(ye){var Oe;try{return(yield Et()).transaction(Ne).objectStore(Ne).get(gi(ye))}catch(Me){if(Me instanceof fe.ZR)K.warn(Me.message);else{const yt=jn.create("idb-get",{originalErrorMessage:null===(Oe=Me)||void 0===Oe?void 0:Oe.message});K.warn(yt.message)}}})).apply(this,arguments)}function Wt(ye,Oe){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,i.Z)(function*(ye,Oe){var Me;try{const Zt=(yield Et()).transaction(Ne,"readwrite");return yield Zt.objectStore(Ne).put(Oe,gi(ye)),Zt.done}catch(yt){if(yt instanceof fe.ZR)K.warn(yt.message);else{const Zt=jn.create("idb-set",{originalErrorMessage:null===(Me=yt)||void 0===Me?void 0:Me.message});K.warn(Zt.message)}}})).apply(this,arguments)}function gi(ye){return`${ye.name}!${ye.options.appId}`}class vi{constructor(Oe){this.container=Oe,this._heartbeatsCache=null;const Me=this.container.getProvider("app").getImmediate();this._storage=new Cn(Me),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var Oe=this;return(0,i.Z)(function*(){const yt=Oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zt=zn();if(null===Oe._heartbeatsCache&&(Oe._heartbeatsCache=yield Oe._heartbeatsCachePromise),Oe._heartbeatsCache.lastSentHeartbeatDate!==Zt&&!Oe._heartbeatsCache.heartbeats.some(fn=>fn.date===Zt))return Oe._heartbeatsCache.heartbeats.push({date:Zt,agent:yt}),Oe._heartbeatsCache.heartbeats=Oe._heartbeatsCache.heartbeats.filter(fn=>{const bi=new Date(fn.date).valueOf();return Date.now()-bi<=2592e6}),Oe._storage.overwrite(Oe._heartbeatsCache)})()}getHeartbeatsHeader(){var Oe=this;return(0,i.Z)(function*(){if(null===Oe._heartbeatsCache&&(yield Oe._heartbeatsCachePromise),null===Oe._heartbeatsCache||0===Oe._heartbeatsCache.heartbeats.length)return"";const Me=zn(),{heartbeatsToSend:yt,unsentEntries:Zt}=function on(ye,Oe=1024){const Me=[];let yt=ye.slice();for(const Zt of ye){const fn=Me.find(bi=>bi.agent===Zt.agent);if(fn){if(fn.dates.push(Zt.date),be(Me)>Oe){fn.dates.pop();break}}else if(Me.push({agent:Zt.agent,dates:[Zt.date]}),be(Me)>Oe){Me.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Me,unsentEntries:yt}}(Oe._heartbeatsCache.heartbeats),fn=(0,fe.L)(JSON.stringify({version:2,heartbeats:yt}));return Oe._heartbeatsCache.lastSentHeartbeatDate=Me,Zt.length>0?(Oe._heartbeatsCache.heartbeats=Zt,yield Oe._storage.overwrite(Oe._heartbeatsCache)):(Oe._heartbeatsCache.heartbeats=[],Oe._storage.overwrite(Oe._heartbeatsCache)),fn})()}}function zn(){return(new Date).toISOString().substring(0,10)}class Cn{constructor(Oe){this.app=Oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,i.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Oe=this;return(0,i.Z)(function*(){return(yield Oe._canUseIndexedDBPromise)&&(yield function zt(ye){return Pt.apply(this,arguments)}(Oe.app))||{heartbeats:[]}})()}overwrite(Oe){var Me=this;return(0,i.Z)(function*(){var yt;if(yield Me._canUseIndexedDBPromise){const fn=yield Me.read();return Wt(Me.app,{lastSentHeartbeatDate:null!==(yt=Oe.lastSentHeartbeatDate)&&void 0!==yt?yt:fn.lastSentHeartbeatDate,heartbeats:Oe.heartbeats})}})()}add(Oe){var Me=this;return(0,i.Z)(function*(){var yt;if(yield Me._canUseIndexedDBPromise){const fn=yield Me.read();return Wt(Me.app,{lastSentHeartbeatDate:null!==(yt=Oe.lastSentHeartbeatDate)&&void 0!==yt?yt:fn.lastSentHeartbeatDate,heartbeats:[...fn.heartbeats,...Oe.heartbeats]})}})()}}function be(ye){return(0,fe.L)(JSON.stringify({version:2,heartbeats:ye})).length}!function we(ye){qe(new v.wA("platform-logger",Oe=>new Y(Oe),"PRIVATE")),qe(new v.wA("heartbeat",Oe=>new vi(Oe),"PRIVATE")),In(ce,"0.7.33",ye),In(ce,"0.7.33","esm2017"),In("fire-js","")}("")},4859:(Dt,Ve,R)=>{R.d(Ve,{H0:()=>ce,wA:()=>z});var i=R(5861),v=R(2090);class z{constructor(K,ee,te){this.name=K,this.instanceFactory=ee,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const fe="[DEFAULT]";class q{constructor(K,ee){this.name=K,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const ee=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(ee)){const te=new v.BH;if(this.instancesDeferred.set(ee,te),this.isInitialized(ee)||this.shouldAutoInitialize())try{const We=this.getOrInitializeService({instanceIdentifier:ee});We&&te.resolve(We)}catch(We){}}return this.instancesDeferred.get(ee).promise}getImmediate(K){var ee;const te=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),We=null!==(ee=null==K?void 0:K.optional)&&void 0!==ee&&ee;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(We)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch($e){if(We)return null;throw $e}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function J(de){return"EAGER"===de.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:fe})}catch(ee){}for(const[ee,te]of this.instancesDeferred.entries()){const We=this.normalizeInstanceIdentifier(ee);try{const $e=this.getOrInitializeService({instanceIdentifier:We});te.resolve($e)}catch($e){}}}}clearInstance(K=fe){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,i.Z)(function*(){const ee=Array.from(K.instances.values());yield Promise.all([...ee.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...ee.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=fe){return this.instances.has(K)}getOptions(K=fe){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:ee={}}=K,te=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const We=this.getOrInitializeService({instanceIdentifier:te,options:ee});for(const[$e,ot]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier($e)&&ot.resolve(We);return We}onInit(K,ee){var te;const We=this.normalizeInstanceIdentifier(ee),$e=null!==(te=this.onInitCallbacks.get(We))&&void 0!==te?te:new Set;$e.add(K),this.onInitCallbacks.set(We,$e);const ot=this.instances.get(We);return ot&&K(ot,We),()=>{$e.delete(K)}}invokeOnInitCallbacks(K,ee){const te=this.onInitCallbacks.get(ee);if(te)for(const We of te)try{We(K,ee)}catch($e){}}getOrInitializeService({instanceIdentifier:K,options:ee={}}){let te=this.instances.get(K);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(de=K,de===fe?void 0:de),options:ee}),this.instances.set(K,te),this.instancesOptions.set(K,ee),this.invokeOnInitCallbacks(te,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,te)}catch(We){}var de;return te||null}normalizeInstanceIdentifier(K=fe){return this.component?this.component.multipleInstances?K:fe:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const ee=this.getProvider(K.name);if(ee.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);ee.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const ee=new q(K,this);return this.providers.set(K,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,Ve,R)=>{R.d(Ve,{Am:()=>de,Ub:()=>ce,Yd:()=>J,in:()=>v});const i=[];var v=(()=>{return(K=v||(v={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",v;var K})();const z={debug:v.DEBUG,verbose:v.VERBOSE,info:v.INFO,warn:v.WARN,error:v.ERROR,silent:v.SILENT},fe=v.INFO,q={[v.DEBUG]:"log",[v.VERBOSE]:"log",[v.INFO]:"info",[v.WARN]:"warn",[v.ERROR]:"error"},Y=(K,ee,...te)=>{if(ee<K.logLevel)return;const We=(new Date).toISOString(),$e=q[ee];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[$e](`[${We}]  ${K.name}:`,...te)};class J{constructor(ee){this.name=ee,this._logLevel=fe,this._logHandler=Y,this._userLogHandler=null,i.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in v))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?z[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,v.DEBUG,...ee),this._logHandler(this,v.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,v.VERBOSE,...ee),this._logHandler(this,v.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,v.INFO,...ee),this._logHandler(this,v.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,v.WARN,...ee),this._logHandler(this,v.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,v.ERROR,...ee),this._logHandler(this,v.ERROR,...ee)}}function ce(K){i.forEach(ee=>{ee.setLogLevel(K)})}function de(K,ee){for(const te of i){let We=null;ee&&ee.level&&(We=z[ee.level]),te.userLogHandler=null===K?null:($e,ot,...Ze)=>{const ze=Ze.map(re=>{if(null==re)return null;if("string"==typeof re)return re;if("number"==typeof re||"boolean"==typeof re)return re.toString();if(re instanceof Error)return re.message;try{return JSON.stringify(re)}catch(Ce){return null}}).filter(re=>re).join(" ");ot>=(null!=We?We:$e.logLevel)&&K({level:v[ot].toLowerCase(),message:ze,args:Ze,type:$e.name})}}}},8766:(Dt,Ve,R)=>{R.d(Ve,{Lj:()=>ke,X3:()=>Ie});var i=R(5861);let z,fe;const J=new WeakMap,ce=new WeakMap,de=new WeakMap,K=new WeakMap,ee=new WeakMap;let $e={get(Be,Ee,je){if(Be instanceof IDBTransaction){if("done"===Ee)return ce.get(Be);if("objectStoreNames"===Ee)return Be.objectStoreNames||de.get(Be);if("store"===Ee)return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return re(Be[Ee])},set:(Be,Ee,je)=>(Be[Ee]=je,!0),has:(Be,Ee)=>Be instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in Be};function ze(Be){return"function"==typeof Be?function Ze(Be){return Be!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Be)?function(...Ee){return Be.apply(Ce(this),Ee),re(J.get(this))}:function(...Ee){return re(Be.apply(Ce(this),Ee))}:function(Ee,...je){const nt=Be.call(Ce(this),Ee,...je);return de.set(nt,Ee.sort?Ee.sort():[Ee]),re(nt)}}(Be):(Be instanceof IDBTransaction&&function We(Be){if(ce.has(Be))return;const Ee=new Promise((je,nt)=>{const rt=()=>{Be.removeEventListener("complete",mt),Be.removeEventListener("error",Qe),Be.removeEventListener("abort",Qe)},mt=()=>{je(),rt()},Qe=()=>{nt(Be.error||new DOMException("AbortError","AbortError")),rt()};Be.addEventListener("complete",mt),Be.addEventListener("error",Qe),Be.addEventListener("abort",Qe)});ce.set(Be,Ee)}(Be),((Be,Ee)=>Ee.some(je=>Be instanceof je))(Be,function q(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Be,$e):Be)}function re(Be){if(Be instanceof IDBRequest)return function te(Be){const Ee=new Promise((je,nt)=>{const rt=()=>{Be.removeEventListener("success",mt),Be.removeEventListener("error",Qe)},mt=()=>{je(re(Be.result)),rt()},Qe=()=>{nt(Be.error),rt()};Be.addEventListener("success",mt),Be.addEventListener("error",Qe)});return Ee.then(je=>{je instanceof IDBCursor&&J.set(je,Be)}).catch(()=>{}),ee.set(Ee,Be),Ee}(Be);if(K.has(Be))return K.get(Be);const Ee=ze(Be);return Ee!==Be&&(K.set(Be,Ee),ee.set(Ee,Be)),Ee}const Ce=Be=>ee.get(Be);function Ie(Be,Ee,{blocked:je,upgrade:nt,blocking:rt,terminated:mt}={}){const Qe=indexedDB.open(Be,Ee),Ht=re(Qe);return nt&&Qe.addEventListener("upgradeneeded",sn=>{nt(re(Qe.result),sn.oldVersion,sn.newVersion,re(Qe.transaction))}),je&&Qe.addEventListener("blocked",()=>je()),Ht.then(sn=>{mt&&sn.addEventListener("close",()=>mt()),rt&&sn.addEventListener("versionchange",()=>rt())}).catch(()=>{}),Ht}function ke(Be,{blocked:Ee}={}){const je=indexedDB.deleteDatabase(Be);return Ee&&je.addEventListener("blocked",()=>Ee()),re(je).then(()=>{})}const Z=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],he=new Map;function De(Be,Ee){if(!(Be instanceof IDBDatabase)||Ee in Be||"string"!=typeof Ee)return;if(he.get(Ee))return he.get(Ee);const je=Ee.replace(/FromIndex$/,""),nt=Ee!==je,rt=ve.includes(je);if(!(je in(nt?IDBIndex:IDBObjectStore).prototype)||!rt&&!Z.includes(je))return;const mt=function(){var Qe=(0,i.Z)(function*(Ht,...sn){const Mt=this.transaction(Ht,rt?"readwrite":"readonly");let Ot=Mt.store;return nt&&(Ot=Ot.index(sn.shift())),(yield Promise.all([Ot[je](...sn),rt&&Mt.done]))[0]});return function(sn){return Qe.apply(this,arguments)}}();return he.set(Ee,mt),mt}!function ot(Be){$e=Be($e)}(Be=>PI(RI({},Be),{get:(Ee,je,nt)=>De(Ee,je)||Be.get(Ee,je,nt),has:(Ee,je)=>!!De(Ee,je)||Be.has(Ee,je)}))},9783:(Dt,Ve,R)=>{R.d(Ve,{$_:()=>re,F0:()=>$e,a6:()=>Y,b4:()=>J,ez:()=>We,h4:()=>ze,iZ:()=>ee,jx:()=>Ce,m8:()=>Ie,pg:()=>Ze,ws:()=>ce});var i=R(5e3),v=R(7579),z=R(5921),fe=R(9808);const q=["*"];let Y=(()=>{class Z{}return Z.STARTS_WITH="startsWith",Z.CONTAINS="contains",Z.NOT_CONTAINS="notContains",Z.ENDS_WITH="endsWith",Z.EQUALS="equals",Z.NOT_EQUALS="notEquals",Z.IN="in",Z.LESS_THAN="lt",Z.LESS_THAN_OR_EQUAL_TO="lte",Z.GREATER_THAN="gt",Z.GREATER_THAN_OR_EQUAL_TO="gte",Z.BETWEEN="between",Z.IS="is",Z.IS_NOT="isNot",Z.BEFORE="before",Z.AFTER="after",Z.DATE_IS="dateIs",Z.DATE_IS_NOT="dateIsNot",Z.DATE_BEFORE="dateBefore",Z.DATE_AFTER="dateAfter",Z})(),J=(()=>{class Z{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[Y.STARTS_WITH,Y.CONTAINS,Y.NOT_CONTAINS,Y.ENDS_WITH,Y.EQUALS,Y.NOT_EQUALS],numeric:[Y.EQUALS,Y.NOT_EQUALS,Y.LESS_THAN,Y.LESS_THAN_OR_EQUAL_TO,Y.GREATER_THAN,Y.GREATER_THAN_OR_EQUAL_TO],date:[Y.DATE_IS,Y.DATE_IS_NOT,Y.DATE_BEFORE,Y.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new v.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(he){return this.translation[he]}setTranslation(he){this.translation=Object.assign(Object.assign({},this.translation),he),this.translationSource.next(this.translation)}}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275prov=i.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})(),ce=(()=>{class Z{}return Z.STARTS_WITH="startsWith",Z.CONTAINS="contains",Z.NOT_CONTAINS="notContains",Z.ENDS_WITH="endsWith",Z.EQUALS="equals",Z.NOT_EQUALS="notEquals",Z.NO_FILTER="noFilter",Z.LT="lt",Z.LTE="lte",Z.GT="gt",Z.GTE="gte",Z.IS="is",Z.IS_NOT="isNot",Z.BEFORE="before",Z.AFTER="after",Z.CLEAR="clear",Z.APPLY="apply",Z.MATCH_ALL="matchAll",Z.MATCH_ANY="matchAny",Z.ADD_RULE="addRule",Z.REMOVE_RULE="removeRule",Z.ACCEPT="accept",Z.REJECT="reject",Z.CHOOSE="choose",Z.UPLOAD="upload",Z.CANCEL="cancel",Z.DAY_NAMES="dayNames",Z.DAY_NAMES_SHORT="dayNamesShort",Z.DAY_NAMES_MIN="dayNamesMin",Z.MONTH_NAMES="monthNames",Z.MONTH_NAMES_SHORT="monthNamesShort",Z.FIRST_DAY_OF_WEEK="firstDayOfWeek",Z.TODAY="today",Z.WEEK_HEADER="weekHeader",Z.WEAK="weak",Z.MEDIUM="medium",Z.STRONG="strong",Z.PASSWORD_PROMPT="passwordPrompt",Z.EMPTY_MESSAGE="emptyMessage",Z.EMPTY_FILTER_MESSAGE="emptyFilterMessage",Z})(),ee=(()=>{class Z{constructor(){this.filters={startsWith:(he,De,Be)=>{if(null==De||""===De.trim())return!0;if(null==he)return!1;let Ee=z.gb.removeAccents(De.toString()).toLocaleLowerCase(Be);return z.gb.removeAccents(he.toString()).toLocaleLowerCase(Be).slice(0,Ee.length)===Ee},contains:(he,De,Be)=>{if(null==De||"string"==typeof De&&""===De.trim())return!0;if(null==he)return!1;let Ee=z.gb.removeAccents(De.toString()).toLocaleLowerCase(Be);return-1!==z.gb.removeAccents(he.toString()).toLocaleLowerCase(Be).indexOf(Ee)},notContains:(he,De,Be)=>{if(null==De||"string"==typeof De&&""===De.trim())return!0;if(null==he)return!1;let Ee=z.gb.removeAccents(De.toString()).toLocaleLowerCase(Be);return-1===z.gb.removeAccents(he.toString()).toLocaleLowerCase(Be).indexOf(Ee)},endsWith:(he,De,Be)=>{if(null==De||""===De.trim())return!0;if(null==he)return!1;let Ee=z.gb.removeAccents(De.toString()).toLocaleLowerCase(Be),je=z.gb.removeAccents(he.toString()).toLocaleLowerCase(Be);return-1!==je.indexOf(Ee,je.length-Ee.length)},equals:(he,De,Be)=>null==De||"string"==typeof De&&""===De.trim()||null!=he&&(he.getTime&&De.getTime?he.getTime()===De.getTime():z.gb.removeAccents(he.toString()).toLocaleLowerCase(Be)==z.gb.removeAccents(De.toString()).toLocaleLowerCase(Be)),notEquals:(he,De,Be)=>!(null==De||"string"==typeof De&&""===De.trim()||null!=he&&(he.getTime&&De.getTime?he.getTime()===De.getTime():z.gb.removeAccents(he.toString()).toLocaleLowerCase(Be)==z.gb.removeAccents(De.toString()).toLocaleLowerCase(Be))),in:(he,De)=>{if(null==De||0===De.length)return!0;for(let Be=0;Be<De.length;Be++)if(z.gb.equals(he,De[Be]))return!0;return!1},between:(he,De)=>null==De||null==De[0]||null==De[1]||null!=he&&(he.getTime?De[0].getTime()<=he.getTime()&&he.getTime()<=De[1].getTime():De[0]<=he&&he<=De[1]),lt:(he,De,Be)=>null==De||null!=he&&(he.getTime&&De.getTime?he.getTime()<De.getTime():he<De),lte:(he,De,Be)=>null==De||null!=he&&(he.getTime&&De.getTime?he.getTime()<=De.getTime():he<=De),gt:(he,De,Be)=>null==De||null!=he&&(he.getTime&&De.getTime?he.getTime()>De.getTime():he>De),gte:(he,De,Be)=>null==De||null!=he&&(he.getTime&&De.getTime?he.getTime()>=De.getTime():he>=De),is:(he,De,Be)=>this.filters.equals(he,De,Be),isNot:(he,De,Be)=>this.filters.notEquals(he,De,Be),before:(he,De,Be)=>this.filters.lt(he,De,Be),after:(he,De,Be)=>this.filters.gt(he,De,Be),dateIs:(he,De)=>null==De||null!=he&&he.toDateString()===De.toDateString(),dateIsNot:(he,De)=>null==De||null!=he&&he.toDateString()!==De.toDateString(),dateBefore:(he,De)=>null==De||null!=he&&he.getTime()<De.getTime(),dateAfter:(he,De)=>null==De||null!=he&&he.getTime()>De.getTime()}}filter(he,De,Be,Ee,je){let nt=[];if(he)for(let rt of he)for(let mt of De){let Qe=z.gb.resolveFieldData(rt,mt);if(this.filters[Ee](Qe,Be,je)){nt.push(rt);break}}return nt}register(he,De){this.filters[he]=De}}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275prov=i.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})(),We=(()=>{class Z{constructor(){this.messageSource=new v.x,this.clearSource=new v.x,this.messageObserver=this.messageSource.asObservable(),this.clearObserver=this.clearSource.asObservable()}add(he){he&&this.messageSource.next(he)}addAll(he){he&&he.length&&this.messageSource.next(he)}clear(he){this.clearSource.next(he||null)}}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275prov=i.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),$e=(()=>{class Z{constructor(){this.clickSource=new v.x,this.clickObservable=this.clickSource.asObservable()}add(he){he&&this.clickSource.next(he)}}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275prov=i.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})(),Ze=(()=>{class Z{}return Z.AND="and",Z.OR="or",Z})(),ze=(()=>{class Z{}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275cmp=i.Xpm({type:Z,selectors:[["p-header"]],ngContentSelectors:q,decls:1,vars:0,template:function(he,De){1&he&&(i.F$t(),i.Hsn(0))},encapsulation:2}),Z})(),re=(()=>{class Z{}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275cmp=i.Xpm({type:Z,selectors:[["p-footer"]],ngContentSelectors:q,decls:1,vars:0,template:function(he,De){1&he&&(i.F$t(),i.Hsn(0))},encapsulation:2}),Z})(),Ce=(()=>{class Z{constructor(he){this.template=he}getType(){return this.name}}return Z.\u0275fac=function(he){return new(he||Z)(i.Y36(i.Rgc))},Z.\u0275dir=i.lG2({type:Z,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),Z})(),Ie=(()=>{class Z{}return Z.\u0275fac=function(he){return new(he||Z)},Z.\u0275mod=i.oAB({type:Z}),Z.\u0275inj=i.cJS({imports:[[fe.ez]]}),Z})()},2266:(Dt,Ve,R)=>{R.d(Ve,{F:()=>K,q:()=>de});var i=R(5e3),v=R(9808);function z(ee,te){if(1&ee&&(i.TgZ(0,"span",4),i._uU(1),i.qZA()),2&ee){const We=i.oxw();i.xp6(1),i.Oqu(We.label)}}function fe(ee,te){if(1&ee&&i._UZ(0,"span",6),2&ee){const We=i.oxw(2);i.Tol(We.icon),i.Q6J("ngClass","p-avatar-icon")}}function q(ee,te){if(1&ee&&i.YNc(0,fe,1,3,"span",5),2&ee){const We=i.oxw(),$e=i.MAs(6);i.Q6J("ngIf",We.icon)("ngIfElse",$e)}}function Y(ee,te){if(1&ee&&i._UZ(0,"img",8),2&ee){const We=i.oxw(2);i.Q6J("src",We.image,i.LSH)}}function J(ee,te){if(1&ee&&i.YNc(0,Y,1,1,"img",7),2&ee){const We=i.oxw();i.Q6J("ngIf",We.image)}}const ce=["*"];let de=(()=>{class ee{constructor(){this.size="normal",this.shape="square"}containerClass(){return{"p-avatar p-component":!0,"p-avatar-image":null!=this.image,"p-avatar-circle":"circle"===this.shape,"p-avatar-lg":"large"===this.size,"p-avatar-xl":"xlarge"===this.size}}}return ee.\u0275fac=function(We){return new(We||ee)},ee.\u0275cmp=i.Xpm({type:ee,selectors:[["p-avatar"]],hostAttrs:[1,"p-element"],inputs:{label:"label",icon:"icon",image:"image",size:"size",shape:"shape",style:"style",styleClass:"styleClass"},ngContentSelectors:ce,decls:7,vars:6,consts:[[3,"ngClass","ngStyle"],["class","p-avatar-text",4,"ngIf","ngIfElse"],["iconTemplate",""],["imageTemplate",""],[1,"p-avatar-text"],[3,"class","ngClass",4,"ngIf","ngIfElse"],[3,"ngClass"],[3,"src",4,"ngIf"],[3,"src"]],template:function(We,$e){if(1&We&&(i.F$t(),i.TgZ(0,"div",0),i.Hsn(1),i.YNc(2,z,2,1,"span",1),i.YNc(3,q,1,2,"ng-template",null,2,i.W1O),i.YNc(5,J,1,1,"ng-template",null,3,i.W1O),i.qZA()),2&We){const ot=i.MAs(4);i.Tol($e.styleClass),i.Q6J("ngClass",$e.containerClass())("ngStyle",$e.style),i.xp6(2),i.Q6J("ngIf",$e.label)("ngIfElse",ot)}},directives:[v.mk,v.PC,v.O5],styles:[".p-avatar{display:inline-flex;align-items:center;justify-content:center;width:2rem;height:2rem;font-size:1rem}.p-avatar.p-avatar-image{background-color:transparent}.p-avatar.p-avatar-circle{border-radius:50%;overflow:hidden}.p-avatar .p-avatar-icon{font-size:1rem}.p-avatar img{width:100%;height:100%}\n"],encapsulation:2,changeDetection:0}),ee})(),K=(()=>{class ee{}return ee.\u0275fac=function(We){return new(We||ee)},ee.\u0275mod=i.oAB({type:ee}),ee.\u0275inj=i.cJS({imports:[[v.ez]]}),ee})()},85:(Dt,Ve,R)=>{R.d(Ve,{TX:()=>ce,lM:()=>Y});var i=R(5e3),v=R(9808),z=R(9783),fe=R(5730),q=R(5921);let Y=(()=>{class de{constructor(ee){this.el=ee,this.iconPos="left"}ngAfterViewInit(){this.id=(0,q.Th)()+"_badge";let ee=-1!=this.el.nativeElement.nodeName.indexOf("-")?this.el.nativeElement.firstChild:this.el.nativeElement,te=document.createElement("span");te.id=this.id,te.className="p-badge p-component",this.severity&&fe.p.addClass(te,"p-badge-"+this.severity),null!=this.value?(te.appendChild(document.createTextNode(this.value)),1===String(this.value).length&&fe.p.addClass(te,"p-badge-no-gutter")):fe.p.addClass(te,"p-badge-dot"),fe.p.addClass(ee,"p-overlay-badge"),ee.appendChild(te),this.initialized=!0}get value(){return this._value}set value(ee){if(ee!==this._value&&(this._value=ee,this.initialized)){let te=document.getElementById(this.id);this._value?(fe.p.hasClass(te,"p-badge-dot")&&fe.p.removeClass(te,"p-badge-dot"),1===String(this._value).length?fe.p.addClass(te,"p-badge-no-gutter"):fe.p.removeClass(te,"p-badge-no-gutter")):!this._value&&!fe.p.hasClass(te,"p-badge-dot")&&fe.p.addClass(te,"p-badge-dot"),te.innerHTML="",te.appendChild(document.createTextNode(this._value))}}ngOnDestroy(){this.initialized=!1}}return de.\u0275fac=function(ee){return new(ee||de)(i.Y36(i.SBq))},de.\u0275dir=i.lG2({type:de,selectors:[["","pBadge",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",value:"value",severity:"severity"}}),de})(),ce=(()=>{class de{}return de.\u0275fac=function(ee){return new(ee||de)},de.\u0275mod=i.oAB({type:de}),de.\u0275inj=i.cJS({imports:[[v.ez],z.m8]}),de})()},845:(Dt,Ve,R)=>{R.d(Ve,{Hq:()=>We,hJ:()=>ot,zx:()=>$e});var i=R(5e3),v=R(5730),z=R(9808),fe=R(5787),q=R(9783);function Y(Ze,ze){1&Ze&&i.GkF(0)}const J=function(Ze,ze,re,Ce){return{"p-button-icon":!0,"p-button-icon-left":Ze,"p-button-icon-right":ze,"p-button-icon-top":re,"p-button-icon-bottom":Ce}};function ce(Ze,ze){if(1&Ze&&i._UZ(0,"span",4),2&Ze){const re=i.oxw();i.Tol(re.loading?"p-button-loading-icon "+re.loadingIcon:re.icon),i.Q6J("ngClass",i.l5B(4,J,"left"===re.iconPos&&re.label,"right"===re.iconPos&&re.label,"top"===re.iconPos&&re.label,"bottom"===re.iconPos&&re.label)),i.uIk("aria-hidden",!0)}}function de(Ze,ze){if(1&Ze&&(i.TgZ(0,"span",5),i._uU(1),i.qZA()),2&Ze){const re=i.oxw();i.uIk("aria-hidden",re.icon&&!re.label),i.xp6(1),i.Oqu(re.label||"\xa0")}}function K(Ze,ze){if(1&Ze&&(i.TgZ(0,"span",4),i._uU(1),i.qZA()),2&Ze){const re=i.oxw();i.Tol(re.badgeClass),i.Q6J("ngClass",re.badgeStyleClass()),i.xp6(1),i.Oqu(re.badge)}}const ee=function(Ze,ze,re,Ce,Ie){return{"p-button p-component":!0,"p-button-icon-only":Ze,"p-button-vertical":ze,"p-disabled":re,"p-button-loading":Ce,"p-button-loading-label-only":Ie}},te=["*"];let We=(()=>{class Ze{constructor(re){this.el=re,this.iconPos="left",this.loadingIcon="pi pi-spinner pi-spin",this._loading=!1}ngAfterViewInit(){this._initialStyleClass=this.el.nativeElement.className,v.p.addMultipleClasses(this.el.nativeElement,this.getStyleClass()),(this.icon||this.loading)&&this.createIconEl();let re=document.createElement("span");this.icon&&!this.label&&re.setAttribute("aria-hidden","true"),re.className="p-button-label",this.label?re.appendChild(document.createTextNode(this.label)):re.innerHTML="&nbsp;",this.el.nativeElement.appendChild(re),this.initialized=!0}getStyleClass(){let re="p-button p-component";return this.icon&&!this.label&&(re+=" p-button-icon-only"),this.loading&&(re+=" p-disabled p-button-loading",!this.icon&&this.label&&(re+=" p-button-loading-label-only")),re}setStyleClass(){let re=this.getStyleClass();this.el.nativeElement.className=re+" "+this._initialStyleClass}createIconEl(){let re=document.createElement("span");re.className="p-button-icon",re.setAttribute("aria-hidden","true");let Ce=this.label?"p-button-icon-"+this.iconPos:null;Ce&&v.p.addClass(re,Ce);let Ie=this.getIconClass();Ie&&v.p.addMultipleClasses(re,Ie);let ke=v.p.findSingle(this.el.nativeElement,".p-button-label");ke?this.el.nativeElement.insertBefore(re,ke):this.el.nativeElement.appendChild(re)}getIconClass(){return this.loading?"p-button-loading-icon "+this.loadingIcon:this._icon}setIconClass(){let re=v.p.findSingle(this.el.nativeElement,".p-button-icon");re?re.className=this.iconPos?"p-button-icon p-button-icon-"+this.iconPos+" "+this.getIconClass():"p-button-icon "+this.getIconClass():this.createIconEl()}removeIconElement(){let re=v.p.findSingle(this.el.nativeElement,".p-button-icon");this.el.nativeElement.removeChild(re)}get label(){return this._label}set label(re){this._label=re,this.initialized&&(v.p.findSingle(this.el.nativeElement,".p-button-label").textContent=this._label||"&nbsp;",(this.loading||this.icon)&&this.setIconClass(),this.setStyleClass())}get icon(){return this._icon}set icon(re){this._icon=re,this.initialized&&(this.setIconClass(),this.setStyleClass())}get loading(){return this._loading}set loading(re){this._loading=re,this.initialized&&(this.loading||this.icon?this.setIconClass():this.removeIconElement(),this.setStyleClass())}ngOnDestroy(){this.initialized=!1}}return Ze.\u0275fac=function(re){return new(re||Ze)(i.Y36(i.SBq))},Ze.\u0275dir=i.lG2({type:Ze,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading"}}),Ze})(),$e=(()=>{class Ze{constructor(){this.type="button",this.iconPos="left",this.loading=!1,this.loadingIcon="pi pi-spinner pi-spin",this.onClick=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe}ngAfterContentInit(){this.templates.forEach(re=>{re.getType(),this.contentTemplate=re.template})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&1===String(this.badge).length}}}return Ze.\u0275fac=function(re){return new(re||Ze)},Ze.\u0275cmp=i.Xpm({type:Ze,selectors:[["p-button"]],contentQueries:function(re,Ce,Ie){if(1&re&&i.Suo(Ie,q.jx,4),2&re){let ke;i.iGM(ke=i.CRH())&&(Ce.templates=ke)}},hostAttrs:[1,"p-element"],inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:"disabled",loading:"loading",loadingIcon:"loadingIcon",style:"style",styleClass:"styleClass",badgeClass:"badgeClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},ngContentSelectors:te,decls:6,vars:16,consts:[["pRipple","",3,"ngStyle","disabled","ngClass","click","focus","blur"],[4,"ngTemplateOutlet"],[3,"ngClass","class",4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass"],[1,"p-button-label"]],template:function(re,Ce){1&re&&(i.F$t(),i.TgZ(0,"button",0),i.NdJ("click",function(ke){return Ce.onClick.emit(ke)})("focus",function(ke){return Ce.onFocus.emit(ke)})("blur",function(ke){return Ce.onBlur.emit(ke)}),i.Hsn(1),i.YNc(2,Y,1,0,"ng-container",1),i.YNc(3,ce,1,9,"span",2),i.YNc(4,de,2,2,"span",3),i.YNc(5,K,2,4,"span",2),i.qZA()),2&re&&(i.Tol(Ce.styleClass),i.Q6J("ngStyle",Ce.style)("disabled",Ce.disabled||Ce.loading)("ngClass",i.qbA(10,ee,Ce.icon&&!Ce.label,("top"===Ce.iconPos||"bottom"===Ce.iconPos)&&Ce.label,Ce.disabled||Ce.loading,Ce.loading,Ce.loading&&!Ce.icon&&Ce.label)),i.uIk("type",Ce.type),i.xp6(2),i.Q6J("ngTemplateOutlet",Ce.contentTemplate),i.xp6(1),i.Q6J("ngIf",!Ce.contentTemplate&&(Ce.icon||Ce.loading)),i.xp6(1),i.Q6J("ngIf",!Ce.contentTemplate),i.xp6(1),i.Q6J("ngIf",!Ce.contentTemplate&&Ce.badge))},directives:[fe.H,z.PC,z.mk,z.tP,z.O5],encapsulation:2,changeDetection:0}),Ze})(),ot=(()=>{class Ze{}return Ze.\u0275fac=function(re){return new(re||Ze)},Ze.\u0275mod=i.oAB({type:Ze}),Ze.\u0275inj=i.cJS({imports:[[z.ez,fe.T]]}),Ze})()},4297:(Dt,Ve,R)=>{R.d(Ve,{Z:()=>ot,d:()=>Ze});var i=R(5e3),v=R(9808),z=R(9783);function fe(ze,re){1&ze&&i.GkF(0)}function q(ze,re){if(1&ze&&(i.TgZ(0,"div",8),i.Hsn(1,1),i.YNc(2,fe,1,0,"ng-container",6),i.qZA()),2&ze){const Ce=i.oxw();i.xp6(2),i.Q6J("ngTemplateOutlet",Ce.headerTemplate)}}function Y(ze,re){1&ze&&i.GkF(0)}function J(ze,re){if(1&ze&&(i.TgZ(0,"div",9),i._uU(1),i.YNc(2,Y,1,0,"ng-container",6),i.qZA()),2&ze){const Ce=i.oxw();i.xp6(1),i.hij(" ",Ce.header," "),i.xp6(1),i.Q6J("ngTemplateOutlet",Ce.titleTemplate)}}function ce(ze,re){1&ze&&i.GkF(0)}function de(ze,re){if(1&ze&&(i.TgZ(0,"div",10),i._uU(1),i.YNc(2,ce,1,0,"ng-container",6),i.qZA()),2&ze){const Ce=i.oxw();i.xp6(1),i.hij(" ",Ce.subheader," "),i.xp6(1),i.Q6J("ngTemplateOutlet",Ce.subtitleTemplate)}}function K(ze,re){1&ze&&i.GkF(0)}function ee(ze,re){1&ze&&i.GkF(0)}function te(ze,re){if(1&ze&&(i.TgZ(0,"div",11),i.Hsn(1,2),i.YNc(2,ee,1,0,"ng-container",6),i.qZA()),2&ze){const Ce=i.oxw();i.xp6(2),i.Q6J("ngTemplateOutlet",Ce.footerTemplate)}}const We=["*",[["p-header"]],[["p-footer"]]],$e=["*","p-header","p-footer"];let ot=(()=>{class ze{constructor(Ce){this.el=Ce}ngAfterContentInit(){this.templates.forEach(Ce=>{switch(Ce.getType()){case"header":this.headerTemplate=Ce.template;break;case"title":this.titleTemplate=Ce.template;break;case"subtitle":this.subtitleTemplate=Ce.template;break;case"content":default:this.contentTemplate=Ce.template;break;case"footer":this.footerTemplate=Ce.template}})}getBlockableElement(){return this.el.nativeElement.children[0]}}return ze.\u0275fac=function(Ce){return new(Ce||ze)(i.Y36(i.SBq))},ze.\u0275cmp=i.Xpm({type:ze,selectors:[["p-card"]],contentQueries:function(Ce,Ie,ke){if(1&Ce&&(i.Suo(ke,z.h4,5),i.Suo(ke,z.$_,5),i.Suo(ke,z.jx,4)),2&Ce){let Z;i.iGM(Z=i.CRH())&&(Ie.headerFacet=Z.first),i.iGM(Z=i.CRH())&&(Ie.footerFacet=Z.first),i.iGM(Z=i.CRH())&&(Ie.templates=Z)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:$e,decls:9,vars:9,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(Ce,Ie){1&Ce&&(i.F$t(We),i.TgZ(0,"div",0),i.YNc(1,q,3,1,"div",1),i.TgZ(2,"div",2),i.YNc(3,J,3,2,"div",3),i.YNc(4,de,3,2,"div",4),i.TgZ(5,"div",5),i.Hsn(6),i.YNc(7,K,1,0,"ng-container",6),i.qZA(),i.YNc(8,te,3,1,"div",7),i.qZA(),i.qZA()),2&Ce&&(i.Tol(Ie.styleClass),i.Q6J("ngClass","p-card p-component")("ngStyle",Ie.style),i.xp6(1),i.Q6J("ngIf",Ie.headerFacet||Ie.headerTemplate),i.xp6(2),i.Q6J("ngIf",Ie.header||Ie.titleTemplate),i.xp6(1),i.Q6J("ngIf",Ie.subheader||Ie.subtitleTemplate),i.xp6(3),i.Q6J("ngTemplateOutlet",Ie.contentTemplate),i.xp6(1),i.Q6J("ngIf",Ie.footerFacet||Ie.footerTemplate))},directives:[v.mk,v.PC,v.O5,v.tP],styles:[".p-card-header img{width:100%}\n"],encapsulation:2,changeDetection:0}),ze})(),Ze=(()=>{class ze{}return ze.\u0275fac=function(Ce){return new(Ce||ze)},ze.\u0275mod=i.oAB({type:ze}),ze.\u0275inj=i.cJS({imports:[[v.ez],z.m8]}),ze})()},8759:(Dt,Ve,R)=>{R.d(Ve,{b:()=>sn,l:()=>Ht});var i=R(5e3),v=R(9783),z=R(5787),fe=R(9808),q=R(5921);const Y=["itemsContainer"];function J(Mt,Ot){1&Mt&&i.GkF(0)}function ce(Mt,Ot){if(1&Mt&&(i.TgZ(0,"div",11),i.Hsn(1),i.YNc(2,J,1,0,"ng-container",12),i.qZA()),2&Mt){const Ye=i.oxw();i.xp6(2),i.Q6J("ngTemplateOutlet",Ye.headerTemplate)}}const de=function(Mt){return{"p-carousel-prev p-link":!0,"p-disabled":Mt}},K=function(Mt,Ot){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":Mt,"pi-chevron-up":Ot}};function ee(Mt,Ot){if(1&Mt){const Ye=i.EpF();i.TgZ(0,"button",13),i.NdJ("click",function(ct){return i.CHM(Ye),i.oxw().navBackward(ct)}),i._UZ(1,"span",2),i.qZA()}if(2&Mt){const Ye=i.oxw();i.Q6J("ngClass",i.VKq(3,de,Ye.isBackwardNavDisabled()))("disabled",Ye.isBackwardNavDisabled()),i.xp6(1),i.Q6J("ngClass",i.WLB(5,K,!Ye.isVertical(),Ye.isVertical()))}}function te(Mt,Ot){1&Mt&&i.GkF(0)}const We=function(Mt,Ot,Ye){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":Mt,"p-carousel-item-start":Ot,"p-carousel-item-end":Ye}},$e=function(Mt){return{$implicit:Mt}};function ot(Mt,Ot){if(1&Mt&&(i.TgZ(0,"div",2),i.YNc(1,te,1,0,"ng-container",14),i.qZA()),2&Mt){const Ye=Ot.$implicit,Le=Ot.index,ct=i.oxw();i.Q6J("ngClass",i.kEZ(3,We,-1*ct.totalShiftedItems===ct.value.length,0===Le,ct.clonedItemsForStarting.length-1===Le)),i.xp6(1),i.Q6J("ngTemplateOutlet",ct.itemTemplate)("ngTemplateOutletContext",i.VKq(7,$e,Ye))}}function Ze(Mt,Ot){1&Mt&&i.GkF(0)}const ze=function(Mt,Ot,Ye){return{"p-carousel-item":!0,"p-carousel-item-active":Mt,"p-carousel-item-start":Ot,"p-carousel-item-end":Ye}};function re(Mt,Ot){if(1&Mt&&(i.TgZ(0,"div",2),i.YNc(1,Ze,1,0,"ng-container",14),i.qZA()),2&Mt){const Ye=Ot.$implicit,Le=Ot.index,ct=i.oxw();i.Q6J("ngClass",i.kEZ(3,ze,ct.firstIndex()<=Le&&ct.lastIndex()>=Le,ct.firstIndex()===Le,ct.lastIndex()===Le)),i.xp6(1),i.Q6J("ngTemplateOutlet",ct.itemTemplate)("ngTemplateOutletContext",i.VKq(7,$e,Ye))}}function Ce(Mt,Ot){1&Mt&&i.GkF(0)}function Ie(Mt,Ot){if(1&Mt&&(i.TgZ(0,"div",2),i.YNc(1,Ce,1,0,"ng-container",14),i.qZA()),2&Mt){const Ye=Ot.$implicit,Le=Ot.index,ct=i.oxw();i.Q6J("ngClass",i.kEZ(3,We,-1*ct.totalShiftedItems===ct.numVisible,0===Le,ct.clonedItemsForFinishing.length-1===Le)),i.xp6(1),i.Q6J("ngTemplateOutlet",ct.itemTemplate)("ngTemplateOutletContext",i.VKq(7,$e,Ye))}}const ke=function(Mt){return{"p-carousel-next p-link":!0,"p-disabled":Mt}},Z=function(Mt,Ot){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":Mt,"pi-chevron-down":Ot}};function ve(Mt,Ot){if(1&Mt){const Ye=i.EpF();i.TgZ(0,"button",13),i.NdJ("click",function(ct){return i.CHM(Ye),i.oxw().navForward(ct)}),i._UZ(1,"span",2),i.qZA()}if(2&Mt){const Ye=i.oxw();i.Q6J("ngClass",i.VKq(3,ke,Ye.isForwardNavDisabled()))("disabled",Ye.isForwardNavDisabled()),i.xp6(1),i.Q6J("ngClass",i.WLB(5,Z,!Ye.isVertical(),Ye.isVertical()))}}const he=function(Mt){return{"p-carousel-indicator":!0,"p-highlight":Mt}};function De(Mt,Ot){if(1&Mt){const Ye=i.EpF();i.TgZ(0,"li",2),i.TgZ(1,"button",15),i.NdJ("click",function(ct){const ht=i.CHM(Ye).index;return i.oxw(2).onDotClick(ct,ht)}),i.qZA(),i.qZA()}if(2&Mt){const Ye=Ot.index,Le=i.oxw(2);i.Q6J("ngClass",i.VKq(5,he,Le._page===Ye)),i.xp6(1),i.Tol(Le.indicatorStyleClass),i.Q6J("ngClass","p-link")("ngStyle",Le.indicatorStyle)}}function Be(Mt,Ot){if(1&Mt&&(i.TgZ(0,"ul",0),i.YNc(1,De,2,7,"li",8),i.qZA()),2&Mt){const Ye=i.oxw();i.Tol(Ye.indicatorsContentClass),i.Q6J("ngClass","p-carousel-indicators p-reset")("ngStyle",Ye.indicatorsContentStyle),i.xp6(1),i.Q6J("ngForOf",Ye.totalDotsArray())}}function Ee(Mt,Ot){1&Mt&&i.GkF(0)}function je(Mt,Ot){if(1&Mt&&(i.TgZ(0,"div",16),i.Hsn(1,1),i.YNc(2,Ee,1,0,"ng-container",12),i.qZA()),2&Mt){const Ye=i.oxw();i.xp6(2),i.Q6J("ngTemplateOutlet",Ye.footerTemplate)}}const nt=[[["p-header"]],[["p-footer"]]],rt=function(Mt,Ot){return{"p-carousel p-component":!0,"p-carousel-vertical":Mt,"p-carousel-horizontal":Ot}},mt=function(Mt){return{height:Mt}},Qe=["p-header","p-footer"];let Ht=(()=>{class Mt{constructor(Ye,Le,ct){this.el=Ye,this.zone=Le,this.cd=ct,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new i.vpe,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(Ye){this.isCreated&&Ye!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),Ye>this._page&&Ye<=this.totalDots()-1?this.step(-1,Ye):Ye<this._page&&this.step(1,Ye)),this._page=Ye}get numVisible(){return this._numVisible}set numVisible(Ye){this._numVisible=Ye}get numScroll(){return this._numVisible}set numScroll(Ye){this._numScroll=Ye}get value(){return this._value}set value(Ye){this._value=Ye}ngOnChanges(Ye){Ye.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(Ye.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),Ye.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=(0,q.Th)(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(Ye=>{switch(Ye.getType()){case"item":default:this.itemTemplate=Ye.template;break;case"header":this.headerTemplate=Ye.template;break;case"footer":this.footerTemplate=Ye.template}})}ngAfterContentChecked(){const Ye=this.isCircular();let Le=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let ct=this._page;0!==this.totalDots()&&ct>=this.totalDots()&&(ct=this.totalDots()-1,this._page=ct,this.onPage.emit({page:this.page})),Le=ct*this._numScroll*-1,Ye&&(Le-=this._numVisible),ct===this.totalDots()-1&&this.remainingItems>0?(Le+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,Le!==this.totalShiftedItems&&(this.totalShiftedItems=Le),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${Le*(100/this._numVisible)}%, 0)`:`translate3d(${Le*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}Ye&&(0===this.page?Le=-1*this._numVisible:0===Le&&(Le=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),Le!==this.totalShiftedItems&&(this.totalShiftedItems=Le))}createStyle(){this.carouselStyle||(this.carouselStyle=document.createElement("style"),this.carouselStyle.type="text/css",document.body.appendChild(this.carouselStyle));let Ye=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((Le,ct)=>{const Se=Le.breakpoint,ht=ct.breakpoint;let qe=null;return qe=null==Se&&null!=ht?-1:null!=Se&&null==ht?1:null==Se&&null==ht?0:"string"==typeof Se&&"string"==typeof ht?Se.localeCompare(ht,void 0,{numeric:!0}):Se<ht?-1:Se>ht?1:0,-1*qe});for(let Le=0;Le<this.responsiveOptions.length;Le++){let ct=this.responsiveOptions[Le];Ye+=`\n                    @media screen and (max-width: ${ct.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/ct.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=Ye}calculatePosition(){if(this.responsiveOptions){let Ye=window.innerWidth,Le={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};for(let ct=0;ct<this.responsiveOptions.length;ct++){let Se=this.responsiveOptions[ct];parseInt(Se.breakpoint,10)>=Ye&&(Le=Se)}if(this._numScroll!==Le.numScroll){let ct=this._page;ct=Math.floor(ct*this._numScroll/Le.numScroll);let Se=Le.numScroll*this.page*-1;this.isCircular()&&(Se-=Le.numVisible),this.totalShiftedItems=Se,this._numScroll=Le.numScroll,this._page=ct,this.onPage.emit({page:this.page})}this._numVisible!==Le.numVisible&&(this._numVisible=Le.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const Ye=this.totalDots();return Ye<=0?[]:Array(Ye).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(Ye,Le){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,Le),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),Ye&&Ye.cancelable&&Ye.preventDefault()}navBackward(Ye,Le){(this.isCircular()||0!==this._page)&&this.step(1,Le),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),Ye&&Ye.cancelable&&Ye.preventDefault()}onDotClick(Ye,Le){let ct=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),Le>ct?this.navForward(Ye,Le):Le<ct&&this.navBackward(Ye,Le)}step(Ye,Le){let ct=this.totalShiftedItems;const Se=this.isCircular();null!=Le?(ct=this._numScroll*Le*-1,Se&&(ct-=this._numVisible),this.isRemainingItemsAdded=!1):(ct+=this._numScroll*Ye,this.isRemainingItemsAdded&&(ct+=this.remainingItems-this._numScroll*Ye,this.isRemainingItemsAdded=!1),Le=Math.abs(Math.floor((Se?ct+this._numVisible:ct)/this._numScroll))),Se&&this.page===this.totalDots()-1&&-1===Ye?(ct=-1*(this.value.length+this._numVisible),Le=0):Se&&0===this.page&&1===Ye?(ct=0,Le=this.totalDots()-1):Le===this.totalDots()-1&&this.remainingItems>0&&(ct+=-1*this.remainingItems-this._numScroll*Ye,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${ct*(100/this._numVisible)}%, 0)`:`translate3d(${ct*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=ct,this._page=Le,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(Ye){let Le=Ye.changedTouches[0];this.startPos={x:Le.pageX,y:Le.pageY}}onTouchMove(Ye){Ye.cancelable&&Ye.preventDefault()}onTouchEnd(Ye){let Le=Ye.changedTouches[0];this.isVertical()?this.changePageOnTouch(Ye,Le.pageY-this.startPos.y):this.changePageOnTouch(Ye,Le.pageX-this.startPos.x)}changePageOnTouch(Ye,Le){Math.abs(Le)>this.swipeThreshold&&(Le<0?this.navForward(Ye):this.navBackward(Ye))}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=Ye=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return Mt.\u0275fac=function(Ye){return new(Ye||Mt)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.sBO))},Mt.\u0275cmp=i.Xpm({type:Mt,selectors:[["p-carousel"]],contentQueries:function(Ye,Le,ct){if(1&Ye&&(i.Suo(ct,v.h4,5),i.Suo(ct,v.$_,5),i.Suo(ct,v.jx,4)),2&Ye){let Se;i.iGM(Se=i.CRH())&&(Le.headerFacet=Se.first),i.iGM(Se=i.CRH())&&(Le.footerFacet=Se.first),i.iGM(Se=i.CRH())&&(Le.templates=Se)}},viewQuery:function(Ye,Le){if(1&Ye&&i.Gf(Y,5),2&Ye){let ct;i.iGM(ct=i.CRH())&&(Le.itemsContainer=ct.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[i.TTD],ngContentSelectors:Qe,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(Ye,Le){1&Ye&&(i.F$t(nt),i.TgZ(0,"div",0),i.YNc(1,ce,3,1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.YNc(4,ee,2,8,"button",4),i.TgZ(5,"div",5),i.TgZ(6,"div",6,7),i.NdJ("transitionend",function(){return Le.onTransitionEnd()})("touchend",function(Se){return Le.onTouchEnd(Se)})("touchstart",function(Se){return Le.onTouchStart(Se)})("touchmove",function(Se){return Le.onTouchMove(Se)}),i.YNc(8,ot,2,9,"div",8),i.YNc(9,re,2,9,"div",8),i.YNc(10,Ie,2,9,"div",8),i.qZA(),i.qZA(),i.YNc(11,ve,2,8,"button",4),i.qZA(),i.YNc(12,Be,2,5,"ul",9),i.qZA(),i.YNc(13,je,3,1,"div",10),i.qZA()),2&Ye&&(i.Tol(Le.styleClass),i.Q6J("ngClass",i.WLB(17,rt,Le.isVertical(),!Le.isVertical()))("ngStyle",Le.style),i.uIk("id",Le.id),i.xp6(1),i.Q6J("ngIf",Le.headerFacet||Le.headerTemplate),i.xp6(1),i.Tol(Le.contentClass),i.Q6J("ngClass","p-carousel-content"),i.xp6(2),i.Q6J("ngIf",Le.showNavigators),i.xp6(1),i.Q6J("ngStyle",i.VKq(20,mt,Le.isVertical()?Le.verticalViewPortHeight:"auto")),i.xp6(3),i.Q6J("ngForOf",Le.clonedItemsForStarting),i.xp6(1),i.Q6J("ngForOf",Le.value),i.xp6(1),i.Q6J("ngForOf",Le.clonedItemsForFinishing),i.xp6(1),i.Q6J("ngIf",Le.showNavigators),i.xp6(1),i.Q6J("ngIf",Le.showIndicators),i.xp6(1),i.Q6J("ngIf",Le.footerFacet||Le.footerTemplate))},directives:[fe.mk,fe.PC,fe.O5,fe.sg,fe.tP,z.H],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),Mt})(),sn=(()=>{class Mt{}return Mt.\u0275fac=function(Ye){return new(Ye||Mt)},Mt.\u0275mod=i.oAB({type:Mt}),Mt.\u0275inj=i.cJS({imports:[[fe.ez,v.m8,z.T],fe.ez,v.m8]}),Mt})()},5730:(Dt,Ve,R)=>{R.d(Ve,{V:()=>v,p:()=>i});let i=(()=>{class z{static addClass(q,Y){q.classList?q.classList.add(Y):q.className+=" "+Y}static addMultipleClasses(q,Y){if(q.classList){let J=Y.trim().split(" ");for(let ce=0;ce<J.length;ce++)q.classList.add(J[ce])}else{let J=Y.split(" ");for(let ce=0;ce<J.length;ce++)q.className+=" "+J[ce]}}static removeClass(q,Y){q.classList?q.classList.remove(Y):q.className=q.className.replace(new RegExp("(^|\\b)"+Y.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(q,Y){return q.classList?q.classList.contains(Y):new RegExp("(^| )"+Y+"( |$)","gi").test(q.className)}static siblings(q){return Array.prototype.filter.call(q.parentNode.children,function(Y){return Y!==q})}static find(q,Y){return Array.from(q.querySelectorAll(Y))}static findSingle(q,Y){return q?q.querySelector(Y):null}static index(q){let Y=q.parentNode.childNodes,J=0;for(var ce=0;ce<Y.length;ce++){if(Y[ce]==q)return J;1==Y[ce].nodeType&&J++}return-1}static indexWithinGroup(q,Y){let J=q.parentNode?q.parentNode.childNodes:[],ce=0;for(var de=0;de<J.length;de++){if(J[de]==q)return ce;J[de].attributes&&J[de].attributes[Y]&&1==J[de].nodeType&&ce++}return-1}static relativePosition(q,Y){let J=q.offsetParent?{width:q.offsetWidth,height:q.offsetHeight}:this.getHiddenElementDimensions(q);const ce=Y.offsetHeight,de=Y.getBoundingClientRect(),K=this.getViewport();let ee,te;de.top+ce+J.height>K.height?(ee=-1*J.height,q.style.transformOrigin="bottom",de.top+ee<0&&(ee=-1*de.top)):(ee=ce,q.style.transformOrigin="top"),te=J.width>K.width?-1*de.left:de.left+J.width>K.width?-1*(de.left+J.width-K.width):0,q.style.top=ee+"px",q.style.left=te+"px"}static absolutePosition(q,Y){let Ze,ze,J=q.offsetParent?{width:q.offsetWidth,height:q.offsetHeight}:this.getHiddenElementDimensions(q),ce=J.height,de=J.width,K=Y.offsetHeight,ee=Y.offsetWidth,te=Y.getBoundingClientRect(),We=this.getWindowScrollTop(),$e=this.getWindowScrollLeft(),ot=this.getViewport();te.top+K+ce>ot.height?(Ze=te.top+We-ce,q.style.transformOrigin="bottom",Ze<0&&(Ze=We)):(Ze=K+te.top+We,q.style.transformOrigin="top"),ze=te.left+de>ot.width?Math.max(0,te.left+$e+ee-de):te.left+$e,q.style.top=Ze+"px",q.style.left=ze+"px"}static getParents(q,Y=[]){return null===q.parentNode?Y:this.getParents(q.parentNode,Y.concat([q.parentNode]))}static getScrollableParents(q){let Y=[];if(q){let J=this.getParents(q);const ce=/(auto|scroll)/,de=K=>{let ee=window.getComputedStyle(K,null);return ce.test(ee.getPropertyValue("overflow"))||ce.test(ee.getPropertyValue("overflowX"))||ce.test(ee.getPropertyValue("overflowY"))};for(let K of J){let ee=1===K.nodeType&&K.dataset.scrollselectors;if(ee){let te=ee.split(",");for(let We of te){let $e=this.findSingle(K,We);$e&&de($e)&&Y.push($e)}}9!==K.nodeType&&de(K)&&Y.push(K)}}return Y}static getHiddenElementOuterHeight(q){q.style.visibility="hidden",q.style.display="block";let Y=q.offsetHeight;return q.style.display="none",q.style.visibility="visible",Y}static getHiddenElementOuterWidth(q){q.style.visibility="hidden",q.style.display="block";let Y=q.offsetWidth;return q.style.display="none",q.style.visibility="visible",Y}static getHiddenElementDimensions(q){let Y={};return q.style.visibility="hidden",q.style.display="block",Y.width=q.offsetWidth,Y.height=q.offsetHeight,q.style.display="none",q.style.visibility="visible",Y}static scrollInView(q,Y){let J=getComputedStyle(q).getPropertyValue("borderTopWidth"),ce=J?parseFloat(J):0,de=getComputedStyle(q).getPropertyValue("paddingTop"),K=de?parseFloat(de):0,ee=q.getBoundingClientRect(),We=Y.getBoundingClientRect().top+document.body.scrollTop-(ee.top+document.body.scrollTop)-ce-K,$e=q.scrollTop,ot=q.clientHeight,Ze=this.getOuterHeight(Y);We<0?q.scrollTop=$e+We:We+Ze>ot&&(q.scrollTop=$e+We-ot+Ze)}static fadeIn(q,Y){q.style.opacity=0;let J=+new Date,ce=0,de=function(){ce=+q.style.opacity.replace(",",".")+((new Date).getTime()-J)/Y,q.style.opacity=ce,J=+new Date,+ce<1&&(window.requestAnimationFrame&&requestAnimationFrame(de)||setTimeout(de,16))};de()}static fadeOut(q,Y){var J=1,K=50/Y;let ee=setInterval(()=>{(J-=K)<=0&&(J=0,clearInterval(ee)),q.style.opacity=J},50)}static getWindowScrollTop(){let q=document.documentElement;return(window.pageYOffset||q.scrollTop)-(q.clientTop||0)}static getWindowScrollLeft(){let q=document.documentElement;return(window.pageXOffset||q.scrollLeft)-(q.clientLeft||0)}static matches(q,Y){var J=Element.prototype;return(J.matches||J.webkitMatchesSelector||J.mozMatchesSelector||J.msMatchesSelector||function(de){return-1!==[].indexOf.call(document.querySelectorAll(de),this)}).call(q,Y)}static getOuterWidth(q,Y){let J=q.offsetWidth;if(Y){let ce=getComputedStyle(q);J+=parseFloat(ce.marginLeft)+parseFloat(ce.marginRight)}return J}static getHorizontalPadding(q){let Y=getComputedStyle(q);return parseFloat(Y.paddingLeft)+parseFloat(Y.paddingRight)}static getHorizontalMargin(q){let Y=getComputedStyle(q);return parseFloat(Y.marginLeft)+parseFloat(Y.marginRight)}static innerWidth(q){let Y=q.offsetWidth,J=getComputedStyle(q);return Y+=parseFloat(J.paddingLeft)+parseFloat(J.paddingRight),Y}static width(q){let Y=q.offsetWidth,J=getComputedStyle(q);return Y-=parseFloat(J.paddingLeft)+parseFloat(J.paddingRight),Y}static getInnerHeight(q){let Y=q.offsetHeight,J=getComputedStyle(q);return Y+=parseFloat(J.paddingTop)+parseFloat(J.paddingBottom),Y}static getOuterHeight(q,Y){let J=q.offsetHeight;if(Y){let ce=getComputedStyle(q);J+=parseFloat(ce.marginTop)+parseFloat(ce.marginBottom)}return J}static getHeight(q){let Y=q.offsetHeight,J=getComputedStyle(q);return Y-=parseFloat(J.paddingTop)+parseFloat(J.paddingBottom)+parseFloat(J.borderTopWidth)+parseFloat(J.borderBottomWidth),Y}static getWidth(q){let Y=q.offsetWidth,J=getComputedStyle(q);return Y-=parseFloat(J.paddingLeft)+parseFloat(J.paddingRight)+parseFloat(J.borderLeftWidth)+parseFloat(J.borderRightWidth),Y}static getViewport(){let q=window,Y=document,J=Y.documentElement,ce=Y.getElementsByTagName("body")[0];return{width:q.innerWidth||J.clientWidth||ce.clientWidth,height:q.innerHeight||J.clientHeight||ce.clientHeight}}static getOffset(q){var Y=q.getBoundingClientRect();return{top:Y.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:Y.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(q,Y){let J=q.parentNode;if(!J)throw"Can't replace element";return J.replaceChild(Y,q)}static getUserAgent(){return navigator.userAgent}static isIE(){var q=window.navigator.userAgent;return q.indexOf("MSIE ")>0||(q.indexOf("Trident/")>0?(q.indexOf("rv:"),!0):q.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(q,Y){if(this.isElement(Y))Y.appendChild(q);else{if(!Y.el||!Y.el.nativeElement)throw"Cannot append "+Y+" to "+q;Y.el.nativeElement.appendChild(q)}}static removeChild(q,Y){if(this.isElement(Y))Y.removeChild(q);else{if(!Y.el||!Y.el.nativeElement)throw"Cannot remove "+q+" from "+Y;Y.el.nativeElement.removeChild(q)}}static removeElement(q){"remove"in Element.prototype?q.remove():q.parentNode.removeChild(q)}static isElement(q){return"object"==typeof HTMLElement?q instanceof HTMLElement:q&&"object"==typeof q&&null!==q&&1===q.nodeType&&"string"==typeof q.nodeName}static calculateScrollbarWidth(q){if(q){let Y=getComputedStyle(q);return q.offsetWidth-q.clientWidth-parseFloat(Y.borderLeftWidth)-parseFloat(Y.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let Y=document.createElement("div");Y.className="p-scrollbar-measure",document.body.appendChild(Y);let J=Y.offsetWidth-Y.clientWidth;return document.body.removeChild(Y),this.calculatedScrollbarWidth=J,J}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let q=document.createElement("div");q.className="p-scrollbar-measure",document.body.appendChild(q);let Y=q.offsetHeight-q.clientHeight;return document.body.removeChild(q),this.calculatedScrollbarWidth=Y,Y}static invokeElementMethod(q,Y,J){q[Y].apply(q,J)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(q){}}static getBrowser(){if(!this.browser){let q=this.resolveUserAgent();this.browser={},q.browser&&(this.browser[q.browser]=!0,this.browser.version=q.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let q=navigator.userAgent.toLowerCase(),Y=/(chrome)[ \/]([\w.]+)/.exec(q)||/(webkit)[ \/]([\w.]+)/.exec(q)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(q)||/(msie) ([\w.]+)/.exec(q)||q.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(q)||[];return{browser:Y[1]||"",version:Y[2]||"0"}}static isInteger(q){return Number.isInteger?Number.isInteger(q):"number"==typeof q&&isFinite(q)&&Math.floor(q)===q}static isHidden(q){return null===q.offsetParent}static getFocusableElements(q){let Y=z.find(q,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),J=[];for(let ce of Y)"none"!=getComputedStyle(ce).display&&"hidden"!=getComputedStyle(ce).visibility&&J.push(ce);return J}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return z.zindex=1e3,z.calculatedScrollbarWidth=null,z.calculatedScrollbarHeight=null,z})();class v{constructor(fe,q=(()=>{})){this.element=fe,this.listener=q}bindScrollListener(){this.scrollableParents=i.getScrollableParents(this.element);for(let fe=0;fe<this.scrollableParents.length;fe++)this.scrollableParents[fe].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let fe=0;fe<this.scrollableParents.length;fe++)this.scrollableParents[fe].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},8850:(Dt,Ve,R)=>{R.d(Ve,{$:()=>ze,E:()=>Ze});var i=R(5e3),v=R(9808),z=R(9783),fe=R(1777),q=R(5730),Y=R(5921);const J=["mask"];function ce(re,Ce){1&re&&i.GkF(0)}function de(re,Ce){if(1&re&&(i.ynx(0),i.YNc(1,ce,1,0,"ng-container",7),i.BQk()),2&re){const Ie=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",Ie.indicatorTemplate)}}function K(re,Ce){1&re&&i._UZ(0,"i",8)}function ee(re,Ce){if(1&re){const Ie=i.EpF();i.TgZ(0,"div",4),i.NdJ("click",function(){return i.CHM(Ie),i.oxw().onImageClick()}),i.YNc(1,de,2,1,"ng-container",5),i.YNc(2,K,1,0,"ng-template",null,6,i.W1O),i.qZA()}if(2&re){const Ie=i.MAs(3),ke=i.oxw();i.xp6(1),i.Q6J("ngIf",ke.indicatorTemplate)("ngIfElse",Ie)}}const te=function(re,Ce){return{showTransitionParams:re,hideTransitionParams:Ce}},We=function(re){return{value:"visible",params:re}};function $e(re,Ce){if(1&re){const Ie=i.EpF();i.TgZ(0,"div"),i.NdJ("@animation.start",function(Z){return i.CHM(Ie),i.oxw(2).onAnimationStart(Z)})("@animation.done",function(Z){return i.CHM(Ie),i.oxw(2).onAnimationEnd(Z)}),i.TgZ(1,"img",21),i.NdJ("click",function(){return i.CHM(Ie),i.oxw(2).onPreviewImageClick()}),i.qZA(),i.qZA()}if(2&re){const Ie=i.oxw(2);i.Q6J("@animation",i.VKq(6,We,i.WLB(3,te,Ie.showTransitionOptions,Ie.hideTransitionOptions))),i.xp6(1),i.Q6J("ngStyle",Ie.imagePreviewStyle()),i.uIk("src",Ie.src,i.LSH)}}function ot(re,Ce){if(1&re){const Ie=i.EpF();i.TgZ(0,"div",9,10),i.NdJ("click",function(){return i.CHM(Ie),i.oxw().onMaskClick()}),i.TgZ(2,"div",11),i.TgZ(3,"button",12),i.NdJ("click",function(){return i.CHM(Ie),i.oxw().rotateRight()}),i._UZ(4,"i",13),i.qZA(),i.TgZ(5,"button",12),i.NdJ("click",function(){return i.CHM(Ie),i.oxw().rotateLeft()}),i._UZ(6,"i",14),i.qZA(),i.TgZ(7,"button",15),i.NdJ("click",function(){return i.CHM(Ie),i.oxw().zoomOut()}),i._UZ(8,"i",16),i.qZA(),i.TgZ(9,"button",15),i.NdJ("click",function(){return i.CHM(Ie),i.oxw().zoomIn()}),i._UZ(10,"i",17),i.qZA(),i.TgZ(11,"button",18),i._UZ(12,"i",19),i.qZA(),i.qZA(),i.YNc(13,$e,2,8,"div",20),i.qZA()}if(2&re){const Ie=i.oxw();i.xp6(7),i.Q6J("disabled",Ie.zoomDisabled()),i.xp6(2),i.Q6J("disabled",Ie.zoomDisabled()),i.xp6(4),i.Q6J("ngIf",Ie.previewVisible)}}let Ze=(()=>{class re{constructor(Ie,ke){this.config=Ie,this.cd=ke,this.preview=!1,this.showTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)",this.onShow=new i.vpe,this.onHide=new i.vpe,this.maskVisible=!1,this.previewVisible=!1,this.rotate=0,this.scale=1,this.previewClick=!1}ngAfterContentInit(){this.templates.forEach(Ie=>{Ie.getType(),this.indicatorTemplate=Ie.template})}onImageClick(){this.preview&&(this.maskVisible=!0,this.previewVisible=!0)}onMaskClick(){this.previewClick||(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1}onPreviewImageClick(){this.previewClick=!0}rotateRight(){this.rotate+=90,this.previewClick=!0}rotateLeft(){this.rotate-=90,this.previewClick=!0}zoomIn(){this.scale=this.scale+.1,this.previewClick=!0}zoomOut(){this.scale=this.scale-.1,this.previewClick=!0}zoomDisabled(){return this.scale<=.5||this.scale>=1.5}onAnimationStart(Ie){switch(Ie.toState){case"visible":this.container=Ie.element,this.wrapper=this.container.parentElement,this.appendContainer(),this.moveOnTop();break;case"void":q.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(Ie){switch(Ie.toState){case"void":Y.P9.clear(this.container),this.maskVisible=!1,this.container=null,this.wrapper=null,this.cd.markForCheck(),this.onHide.emit({});break;case"visible":this.onShow.emit({})}}moveOnTop(){Y.P9.set("modal",this.container,this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.wrapper):q.p.appendChild(this.wrapper,this.appendTo))}imagePreviewStyle(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}}containerClass(){return{"p-image p-component":!0,"p-image-preview-container":this.preview}}}return re.\u0275fac=function(Ie){return new(Ie||re)(i.Y36(z.b4),i.Y36(i.sBO))},re.\u0275cmp=i.Xpm({type:re,selectors:[["p-image"]],contentQueries:function(Ie,ke,Z){if(1&Ie&&i.Suo(Z,z.jx,4),2&Ie){let ve;i.iGM(ve=i.CRH())&&(ke.templates=ve)}},viewQuery:function(Ie,ke){if(1&Ie&&i.Gf(J,5),2&Ie){let Z;i.iGM(Z=i.CRH())&&(ke.mask=Z.first)}},hostAttrs:[1,"p-element"],inputs:{imageClass:"imageClass",imageStyle:"imageStyle",styleClass:"styleClass",style:"style",src:"src",alt:"alt",width:"width",height:"height",appendTo:"appendTo",preview:"preview",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},decls:4,vars:13,consts:[[3,"ngClass","ngStyle"],[3,"ngStyle"],["class","p-image-preview-indicator",3,"click",4,"ngIf"],["class","p-image-mask p-component-overlay p-component-overlay-enter",3,"click",4,"ngIf"],[1,"p-image-preview-indicator",3,"click"],[4,"ngIf","ngIfElse"],["defaultTemplate",""],[4,"ngTemplateOutlet"],[1,"p-image-preview-icon","pi","pi-eye"],[1,"p-image-mask","p-component-overlay","p-component-overlay-enter",3,"click"],["mask",""],[1,"p-image-toolbar"],["type","button",1,"p-image-action","p-link",3,"click"],[1,"pi","pi-refresh"],[1,"pi","pi-undo"],["type","button",1,"p-image-action","p-link",3,"disabled","click"],[1,"pi","pi-search-minus"],[1,"pi","pi-search-plus"],["type","button",1,"p-image-action","p-link"],[1,"pi","pi-times"],[4,"ngIf"],[1,"p-image-preview",3,"ngStyle","click"]],template:function(Ie,ke){1&Ie&&(i.TgZ(0,"span",0),i._UZ(1,"img",1),i.YNc(2,ee,4,2,"div",2),i.YNc(3,ot,14,3,"div",3),i.qZA()),2&Ie&&(i.Tol(ke.styleClass),i.Q6J("ngClass",ke.containerClass())("ngStyle",ke.style),i.xp6(1),i.Tol(ke.imageClass),i.Q6J("ngStyle",ke.imageStyle),i.uIk("src",ke.src,i.LSH)("alt",ke.alt)("width",ke.width)("height",ke.height),i.xp6(1),i.Q6J("ngIf",ke.preview),i.xp6(1),i.Q6J("ngIf",ke.maskVisible))},directives:[v.mk,v.PC,v.O5,v.tP],styles:[".p-image-mask{display:flex;align-items:center;justify-content:center}.p-image-preview-container{position:relative;display:inline-block}.p-image-preview-indicator{position:absolute;left:0;top:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s}.p-image-preview-icon{font-size:1.5rem}.p-image-preview-container:hover>.p-image-preview-indicator{opacity:1;cursor:pointer}.p-image-preview-container>img{cursor:pointer}.p-image-toolbar{position:absolute;top:0;right:0;display:flex}.p-image-action.p-link{display:flex;justify-content:center;align-items:center}.p-image-preview{transition:transform .15s;max-width:100vw;max-height:100vh}\n"],encapsulation:2,data:{animation:[(0,fe.X$)("animation",[(0,fe.eR)("void => visible",[(0,fe.oB)({transform:"scale(0.7)",opacity:0}),(0,fe.jt)("{{showTransitionParams}}")]),(0,fe.eR)("visible => void",[(0,fe.jt)("{{hideTransitionParams}}",(0,fe.oB)({transform:"scale(0.7)",opacity:0}))])])]},changeDetection:0}),re})(),ze=(()=>{class re{}return re.\u0275fac=function(Ie){return new(Ie||re)},re.\u0275mod=i.oAB({type:re}),re.\u0275inj=i.cJS({imports:[[v.ez],z.m8]}),re})()},1424:(Dt,Ve,R)=>{R.d(Ve,{j:()=>q,o:()=>fe});var i=R(5e3),v=R(9808),z=R(2382);let fe=(()=>{class Y{constructor(ce,de,K){this.el=ce,this.ngModel=de,this.cd=K}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(ce){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}}return Y.\u0275fac=function(ce){return new(ce||Y)(i.Y36(i.SBq),i.Y36(z.On,8),i.Y36(i.sBO))},Y.\u0275dir=i.lG2({type:Y,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:2,hostBindings:function(ce,de){1&ce&&i.NdJ("input",function(ee){return de.onInput(ee)}),2&ce&&i.ekj("p-filled",de.filled)}}),Y})(),q=(()=>{class Y{}return Y.\u0275fac=function(ce){return new(ce||Y)},Y.\u0275mod=i.oAB({type:Y}),Y.\u0275inj=i.cJS({imports:[[v.ez]]}),Y})()},7172:(Dt,Ve,R)=>{R.d(Ve,{W6:()=>ct,nm:()=>Le});var i=R(5e3),v=R(9808),z=R(5921),fe=R(9783),q=R(5335),Y=R(5787),J=R(4119);const ce=function(Se){return{"p-hidden":Se}};function de(Se,ht){if(1&Se&&i._UZ(0,"li",4),2&Se){const qe=i.oxw().$implicit;i.Q6J("ngClass",i.VKq(1,ce,!1===qe.visible))}}function K(Se,ht){if(1&Se&&i._UZ(0,"span",15),2&Se){const qe=i.oxw(3).$implicit;i.Q6J("ngClass",qe.icon)}}function ee(Se,ht){if(1&Se&&(i.TgZ(0,"span",16),i._uU(1),i.qZA()),2&Se){const qe=i.oxw(3).$implicit;i.xp6(1),i.Oqu(qe.label)}}function te(Se,ht){if(1&Se&&i._UZ(0,"span",17),2&Se){const qe=i.oxw(3).$implicit;i.Q6J("innerHTML",qe.label,i.oJD)}}const We=function(Se,ht){return{"pi-angle-down":Se,"pi-angle-right":ht}};function $e(Se,ht){if(1&Se&&i._UZ(0,"span",18),2&Se){const qe=i.oxw(4);i.Q6J("ngClass",i.WLB(1,We,qe.root,!qe.root))}}const ot=function(Se){return{"p-menuitem-link":!0,"p-disabled":Se}};function Ze(Se,ht){if(1&Se){const qe=i.EpF();i.TgZ(0,"a",10),i.NdJ("click",function(Jt){i.CHM(qe);const Jn=i.oxw(2).$implicit;return i.oxw().onItemClick(Jt,Jn)})("mouseenter",function(Jt){i.CHM(qe);const Jn=i.oxw(2).$implicit;return i.oxw().onItemMouseEnter(Jt,Jn)}),i.YNc(1,K,1,1,"span",11),i.YNc(2,ee,2,1,"span",12),i.YNc(3,te,1,1,"ng-template",null,13,i.W1O),i.YNc(5,$e,1,4,"span",14),i.qZA()}if(2&Se){const qe=i.MAs(4),pt=i.oxw(2).$implicit,Jt=i.oxw();i.Q6J("ngClass",i.VKq(13,ot,pt.disabled)),i.uIk("href",pt.url,i.LSH)("data-automationid",pt.automationId)("target",pt.target)("title",pt.title)("id",pt.id)("tabindex",pt.disabled?null:"0")("aria-haspopup",null!=Jt.item.items)("aria-expanded",Jt.item===Jt.activeItem),i.xp6(1),i.Q6J("ngIf",pt.icon),i.xp6(1),i.Q6J("ngIf",!1!==pt.escape)("ngIfElse",qe),i.xp6(3),i.Q6J("ngIf",pt.items)}}function ze(Se,ht){if(1&Se&&i._UZ(0,"span",15),2&Se){const qe=i.oxw(3).$implicit;i.Q6J("ngClass",qe.icon)}}function re(Se,ht){if(1&Se&&(i.TgZ(0,"span",16),i._uU(1),i.qZA()),2&Se){const qe=i.oxw(3).$implicit;i.xp6(1),i.Oqu(qe.label)}}function Ce(Se,ht){if(1&Se&&i._UZ(0,"span",17),2&Se){const qe=i.oxw(3).$implicit;i.Q6J("innerHTML",qe.label,i.oJD)}}function Ie(Se,ht){if(1&Se&&i._UZ(0,"span",18),2&Se){const qe=i.oxw(4);i.Q6J("ngClass",i.WLB(1,We,qe.root,!qe.root))}}const ke=function(){return{exact:!1}};function Z(Se,ht){if(1&Se){const qe=i.EpF();i.TgZ(0,"a",19),i.NdJ("click",function(Jt){i.CHM(qe);const Jn=i.oxw(2).$implicit;return i.oxw().onItemClick(Jt,Jn)})("mouseenter",function(Jt){i.CHM(qe);const Jn=i.oxw(2).$implicit;return i.oxw().onItemMouseEnter(Jt,Jn)}),i.YNc(1,ze,1,1,"span",11),i.YNc(2,re,2,1,"span",12),i.YNc(3,Ce,1,1,"ng-template",null,20,i.W1O),i.YNc(5,Ie,1,4,"span",14),i.qZA()}if(2&Se){const qe=i.MAs(4),pt=i.oxw(2).$implicit;i.Q6J("routerLink",pt.routerLink)("queryParams",pt.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",pt.routerLinkActiveOptions||i.DdM(20,ke))("ngClass",i.VKq(21,ot,pt.disabled))("fragment",pt.fragment)("queryParamsHandling",pt.queryParamsHandling)("preserveFragment",pt.preserveFragment)("skipLocationChange",pt.skipLocationChange)("replaceUrl",pt.replaceUrl)("state",pt.state),i.uIk("data-automationid",pt.automationId)("target",pt.target)("title",pt.title)("id",pt.id)("tabindex",pt.disabled?null:"0"),i.xp6(1),i.Q6J("ngIf",pt.icon),i.xp6(1),i.Q6J("ngIf",!1!==pt.escape)("ngIfElse",qe),i.xp6(3),i.Q6J("ngIf",pt.items)}}function ve(Se,ht){if(1&Se){const qe=i.EpF();i.TgZ(0,"p-menubarSub",21),i.NdJ("leafClick",function(){return i.CHM(qe),i.oxw(3).onLeafClick()}),i.qZA()}if(2&Se){const qe=i.oxw(2).$implicit,pt=i.oxw();i.Q6J("parentActive",qe===pt.activeItem)("item",qe)("mobileActive",pt.mobileActive)("autoDisplay",pt.autoDisplay)}}const he=function(Se,ht){return{"p-menuitem":!0,"p-menuitem-active":Se,"p-hidden":ht}};function De(Se,ht){if(1&Se&&(i.TgZ(0,"li",5,6),i.YNc(2,Ze,6,15,"a",7),i.YNc(3,Z,6,23,"a",8),i.YNc(4,ve,1,4,"p-menubarSub",9),i.qZA()),2&Se){const qe=i.oxw().$implicit,pt=i.oxw();i.Tol(qe.styleClass),i.Q6J("ngClass",i.WLB(8,he,qe===pt.activeItem,!1===qe.visible))("ngStyle",qe.style)("tooltipOptions",qe.tooltipOptions),i.xp6(2),i.Q6J("ngIf",!qe.routerLink),i.xp6(1),i.Q6J("ngIf",qe.routerLink),i.xp6(1),i.Q6J("ngIf",qe.items)}}function Be(Se,ht){if(1&Se&&(i.YNc(0,de,1,3,"li",2),i.YNc(1,De,5,11,"li",3)),2&Se){const qe=ht.$implicit;i.Q6J("ngIf",qe.separator),i.xp6(1),i.Q6J("ngIf",!qe.separator)}}const Ee=function(Se,ht){return{"p-submenu-list":Se,"p-menubar-root-list":ht}},je=["menubutton"],nt=["rootmenu"];function rt(Se,ht){1&Se&&i.GkF(0)}function mt(Se,ht){if(1&Se&&(i.TgZ(0,"div",9),i.YNc(1,rt,1,0,"ng-container",10),i.qZA()),2&Se){const qe=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",qe.startTemplate)}}function Qe(Se,ht){1&Se&&i.GkF(0)}function Ht(Se,ht){if(1&Se&&(i.TgZ(0,"div",11),i.YNc(1,Qe,1,0,"ng-container",10),i.qZA()),2&Se){const qe=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",qe.endTemplate)}}function sn(Se,ht){1&Se&&(i.TgZ(0,"div",11),i.Hsn(1),i.qZA())}const Mt=function(Se){return{"p-menubar p-component":!0,"p-menubar-mobile-active":Se}},Ot=["*"];let Ye=(()=>{class Se{constructor(qe,pt,Jt){this.el=qe,this.renderer=pt,this.cd=Jt,this.autoZIndex=!0,this.baseZIndex=0,this.leafClick=new i.vpe,this.menuHoverActive=!1}get parentActive(){return this._parentActive}set parentActive(qe){this.root||(this._parentActive=qe,qe||(this.activeItem=null))}onItemClick(qe,pt){pt.disabled?qe.preventDefault():(!pt.url&&!pt.routerLink&&qe.preventDefault(),pt.command&&pt.command({originalEvent:qe,item:pt}),pt.items&&(this.activeItem&&pt===this.activeItem?(this.activeItem=null,this.unbindDocumentClickListener()):(this.activeItem=pt,this.root&&this.bindDocumentClickListener())),pt.items||this.onLeafClick())}onItemMouseEnter(qe,pt){pt.disabled||this.mobileActive?qe.preventDefault():this.root?(this.activeItem||this.autoDisplay)&&(this.activeItem=pt,this.bindDocumentClickListener()):(this.activeItem=pt,this.bindDocumentClickListener())}onLeafClick(){this.activeItem=null,this.root&&this.unbindDocumentClickListener(),this.leafClick.emit()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=qe=>{this.el&&!this.el.nativeElement.contains(qe.target)&&(this.activeItem=null,this.cd.markForCheck(),this.unbindDocumentClickListener())},document.addEventListener("click",this.documentClickListener))}unbindDocumentClickListener(){this.documentClickListener&&(document.removeEventListener("click",this.documentClickListener),this.documentClickListener=null)}ngOnDestroy(){this.unbindDocumentClickListener()}}return Se.\u0275fac=function(qe){return new(qe||Se)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO))},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["p-menubarSub"]],hostAttrs:[1,"p-element"],inputs:{item:"item",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",mobileActive:"mobileActive",autoDisplay:"autoDisplay",parentActive:"parentActive"},outputs:{leafClick:"leafClick"},decls:2,vars:6,consts:[[3,"ngClass"],["ngFor","",3,"ngForOf"],["class","p-menu-separator","role","separator",3,"ngClass",4,"ngIf"],["role","none","pTooltip","",3,"ngClass","ngStyle","class","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menu-separator",3,"ngClass"],["role","none","pTooltip","",3,"ngClass","ngStyle","tooltipOptions"],["listItem",""],["role","menuitem","pRipple","",3,"ngClass","click","mouseenter",4,"ngIf"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter",4,"ngIf"],[3,"parentActive","item","mobileActive","autoDisplay","leafClick",4,"ngIf"],["role","menuitem","pRipple","",3,"ngClass","click","mouseenter"],["class","p-menuitem-icon",3,"ngClass",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["htmlLabel",""],["class","p-submenu-icon pi",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-submenu-icon","pi",3,"ngClass"],["role","menuitem","pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","mouseenter"],["htmlRouteLabel",""],[3,"parentActive","item","mobileActive","autoDisplay","leafClick"]],template:function(qe,pt){1&qe&&(i.TgZ(0,"ul",0),i.YNc(1,Be,2,2,"ng-template",1),i.qZA()),2&qe&&(i.Q6J("ngClass",i.WLB(3,Ee,!pt.root,pt.root)),i.uIk("role",pt.root?"menubar":"menu"),i.xp6(1),i.Q6J("ngForOf",pt.root?pt.item:pt.item.items))},directives:[v.mk,v.sg,v.O5,J.u,v.PC,Y.H,q.yS,q.Od,Se],encapsulation:2}),Se})(),Le=(()=>{class Se{constructor(qe,pt,Jt,Jn){this.el=qe,this.renderer=pt,this.cd=Jt,this.config=Jn,this.autoZIndex=!0,this.baseZIndex=0}ngAfterContentInit(){this.templates.forEach(qe=>{switch(qe.getType()){case"start":this.startTemplate=qe.template;break;case"end":this.endTemplate=qe.template}})}toggle(qe){this.mobileActive?(this.hide(),z.P9.clear(this.rootmenu.el.nativeElement)):(this.mobileActive=!0,z.P9.set("menu",this.rootmenu.el.nativeElement,this.config.zIndex.menu)),this.bindOutsideClickListener(),qe.preventDefault()}bindOutsideClickListener(){this.outsideClickListener||(this.outsideClickListener=qe=>{this.mobileActive&&this.rootmenu.el.nativeElement!==qe.target&&!this.rootmenu.el.nativeElement.contains(qe.target)&&this.menubutton.nativeElement!==qe.target&&!this.menubutton.nativeElement.contains(qe.target)&&this.hide()},document.addEventListener("click",this.outsideClickListener))}hide(){this.mobileActive=!1,this.cd.markForCheck(),z.P9.clear(this.rootmenu.el.nativeElement),this.unbindOutsideClickListener()}onLeafClick(){this.hide()}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}ngOnDestroy(){this.unbindOutsideClickListener()}}return Se.\u0275fac=function(qe){return new(qe||Se)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(fe.b4))},Se.\u0275cmp=i.Xpm({type:Se,selectors:[["p-menubar"]],contentQueries:function(qe,pt,Jt){if(1&qe&&i.Suo(Jt,fe.jx,4),2&qe){let Jn;i.iGM(Jn=i.CRH())&&(pt.templates=Jn)}},viewQuery:function(qe,pt){if(1&qe&&(i.Gf(je,5),i.Gf(nt,5)),2&qe){let Jt;i.iGM(Jt=i.CRH())&&(pt.menubutton=Jt.first),i.iGM(Jt=i.CRH())&&(pt.rootmenu=Jt.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",style:"style",styleClass:"styleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay"},ngContentSelectors:Ot,decls:10,vars:14,consts:[[3,"ngClass","ngStyle"],["class","p-menubar-start",4,"ngIf"],["tabindex","0",1,"p-menubar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],["root","root",3,"item","baseZIndex","autoZIndex","mobileActive","autoDisplay","leafClick"],["rootmenu",""],["class","p-menubar-end",4,"ngIf","ngIfElse"],["legacy",""],[1,"p-menubar-start"],[4,"ngTemplateOutlet"],[1,"p-menubar-end"]],template:function(qe,pt){if(1&qe&&(i.F$t(),i.TgZ(0,"div",0),i.YNc(1,mt,2,1,"div",1),i.TgZ(2,"a",2,3),i.NdJ("click",function(Jn){return pt.toggle(Jn)}),i._UZ(4,"i",4),i.qZA(),i.TgZ(5,"p-menubarSub",5,6),i.NdJ("leafClick",function(){return pt.onLeafClick()}),i.qZA(),i.YNc(7,Ht,2,1,"div",7),i.YNc(8,sn,2,0,"ng-template",null,8,i.W1O),i.qZA()),2&qe){const Jt=i.MAs(9);i.Tol(pt.styleClass),i.Q6J("ngClass",i.VKq(12,Mt,pt.mobileActive))("ngStyle",pt.style),i.xp6(1),i.Q6J("ngIf",pt.startTemplate),i.xp6(4),i.Q6J("item",pt.model)("baseZIndex",pt.baseZIndex)("autoZIndex",pt.autoZIndex)("mobileActive",pt.mobileActive)("autoDisplay",pt.autoDisplay),i.xp6(2),i.Q6J("ngIf",pt.endTemplate)("ngIfElse",Jt)}},directives:[v.mk,v.PC,v.O5,Ye,v.tP],styles:[".p-menubar{display:flex;align-items:center}.p-menubar ul{margin:0;padding:0;list-style:none}.p-menubar .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menubar .p-menuitem-text{line-height:1}.p-menubar .p-menuitem{position:relative}.p-menubar-root-list{display:flex;align-items:center}.p-menubar-root-list>li ul{display:none;z-index:1}.p-menubar-root-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block}.p-menubar .p-submenu-list{display:none;position:absolute;z-index:1}.p-menubar .p-submenu-list>.p-menuitem-active>p-menubarsub>.p-submenu-list{display:block;left:100%;top:0}.p-menubar .p-submenu-list .p-menuitem-link .p-submenu-icon{margin-left:auto}.p-menubar .p-menubar-custom,.p-menubar .p-menubar-end{margin-left:auto;align-self:center}.p-menubar-button{display:none;cursor:pointer;align-items:center;justify-content:center}\n"],encapsulation:2,changeDetection:0}),Se})(),ct=(()=>{class Se{}return Se.\u0275fac=function(qe){return new(qe||Se)},Se.\u0275mod=i.oAB({type:Se}),Se.\u0275inj=i.cJS({imports:[[v.ez,q.Bz,Y.T,J.z],q.Bz,J.z]}),Se})()},3640:(Dt,Ve,R)=>{R.d(Ve,{T:()=>$e,y:()=>ot});var i=R(5e3),v=R(9808),z=R(5730),fe=R(9783),q=R(5787),Y=R(1777),J=R(5921);function ce(Ze,ze){1&Ze&&i.GkF(0)}function de(Ze,ze){if(1&Ze){const re=i.EpF();i.TgZ(0,"button",5),i.NdJ("click",function(Ie){return i.CHM(re),i.oxw(2).onCloseClick(Ie)})("keydown.enter",function(){return i.CHM(re),i.oxw(2).hide()}),i._UZ(1,"span",6),i.qZA()}if(2&Ze){const re=i.oxw(2);i.uIk("aria-label",re.ariaCloseLabel)}}const K=function(Ze,ze){return{showTransitionParams:Ze,hideTransitionParams:ze}},ee=function(Ze,ze){return{value:Ze,params:ze}};function te(Ze,ze){if(1&Ze){const re=i.EpF();i.TgZ(0,"div",1),i.NdJ("click",function(Ie){return i.CHM(re),i.oxw().onOverlayClick(Ie)})("@animation.start",function(Ie){return i.CHM(re),i.oxw().onAnimationStart(Ie)})("@animation.done",function(Ie){return i.CHM(re),i.oxw().onAnimationEnd(Ie)}),i.TgZ(1,"div",2),i.NdJ("click",function(){return i.CHM(re),i.oxw().onContentClick()})("mousedown",function(){return i.CHM(re),i.oxw().onContentClick()}),i.Hsn(2),i.YNc(3,ce,1,0,"ng-container",3),i.qZA(),i.YNc(4,de,2,1,"button",4),i.qZA()}if(2&Ze){const re=i.oxw();i.Tol(re.styleClass),i.Q6J("ngClass","p-overlaypanel p-component")("ngStyle",re.style)("@animation",i.WLB(10,ee,re.overlayVisible?"open":"close",i.WLB(7,K,re.showTransitionOptions,re.hideTransitionOptions))),i.xp6(3),i.Q6J("ngTemplateOutlet",re.contentTemplate),i.xp6(1),i.Q6J("ngIf",re.showCloseIcon)}}const We=["*"];let $e=(()=>{class Ze{constructor(re,Ce,Ie,ke,Z,ve){this.el=re,this.renderer=Ce,this.cd=Ie,this.zone=ke,this.config=Z,this.overlayService=ve,this.dismissable=!0,this.appendTo="body",this.autoZIndex=!0,this.baseZIndex=0,this.focusOnShow=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onShow=new i.vpe,this.onHide=new i.vpe,this.overlayVisible=!1,this.render=!1,this.selfClick=!1}ngAfterContentInit(){this.templates.forEach(re=>{re.getType(),this.contentTemplate=re.template,this.cd.markForCheck()})}bindDocumentClickListener(){!this.documentClickListener&&this.dismissable&&this.zone.runOutsideAngular(()=>{let re=z.p.isIOS()?"touchstart":"click";this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document",re,Ie=>{!this.container.contains(Ie.target)&&this.target!==Ie.target&&!this.target.contains(Ie.target)&&!this.selfClick&&this.zone.run(()=>{this.hide()}),this.selfClick=!1,this.cd.markForCheck()})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(re,Ce){this.overlayVisible?(this.hasTargetChanged(re,Ce)&&(this.destroyCallback=()=>{this.show(null,Ce||re.currentTarget||re.target)}),this.hide()):this.show(re,Ce)}show(re,Ce){this.target=Ce||re.currentTarget||re.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck()}onOverlayClick(re){this.overlayService.add({originalEvent:re,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(){this.selfClick=!0}hasTargetChanged(re,Ce){return null!=this.target&&this.target!==(Ce||re.currentTarget||re.target)}appendContainer(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.container):z.p.appendChild(this.container,this.appendTo))}restoreAppend(){this.container&&this.appendTo&&this.el.nativeElement.appendChild(this.container)}align(){this.autoZIndex&&J.P9.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),z.p.absolutePosition(this.container,this.target);const re=z.p.getOffset(this.container),Ce=z.p.getOffset(this.target);let Ie=0;re.left<Ce.left&&(Ie=Ce.left-re.left),this.container.style.setProperty("--overlayArrowLeft",`${Ie}px`),re.top<Ce.top&&z.p.addClass(this.container,"p-overlaypanel-flipped")}onAnimationStart(re){"open"===re.toState&&(this.container=re.element,this.onShow.emit(null),this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=Ce=>{this.container&&this.container.contains(Ce.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener))}onAnimationEnd(re){switch(re.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&J.P9.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1}}focus(){let re=z.p.findSingle(this.container,"[autofocus]");re&&this.zone.runOutsideAngular(()=>{setTimeout(()=>re.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(re){this.hide(),re.preventDefault()}onWindowResize(re){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new z.V(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&J.P9.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe()}}return Ze.\u0275fac=function(re){return new(re||Ze)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(fe.b4),i.Y36(fe.F0))},Ze.\u0275cmp=i.Xpm({type:Ze,selectors:[["p-overlayPanel"]],contentQueries:function(re,Ce,Ie){if(1&re&&i.Suo(Ie,fe.jx,4),2&re){let ke;i.iGM(ke=i.CRH())&&(Ce.templates=ke)}},hostAttrs:[1,"p-element"],inputs:{dismissable:"dismissable",showCloseIcon:"showCloseIcon",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",ariaCloseLabel:"ariaCloseLabel",baseZIndex:"baseZIndex",focusOnShow:"focusOnShow",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},ngContentSelectors:We,decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-overlaypanel-content",3,"click","mousedown"],[4,"ngTemplateOutlet"],["type","button","class","p-overlaypanel-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],["type","button","pRipple","",1,"p-overlaypanel-close","p-link",3,"click","keydown.enter"],[1,"p-overlaypanel-close-icon","pi","pi-times"]],template:function(re,Ce){1&re&&(i.F$t(),i.YNc(0,te,5,13,"div",0)),2&re&&i.Q6J("ngIf",Ce.render)},directives:[v.O5,v.mk,v.PC,v.tP,q.H],styles:['.p-overlaypanel{position:absolute;margin-top:10px;top:0;left:0}.p-overlaypanel-flipped{margin-top:0;margin-bottom:10px}.p-overlaypanel-close{display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-overlaypanel:after,.p-overlaypanel:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-overlaypanel:after{border-width:8px;margin-left:-8px}.p-overlaypanel:before{border-width:10px;margin-left:-10px}.p-overlaypanel-shifted:after,.p-overlaypanel-shifted:before{left:auto;right:1.25em;margin-left:auto}.p-overlaypanel-flipped:after,.p-overlaypanel-flipped:before{bottom:auto;top:100%}.p-overlaypanel.p-overlaypanel-flipped:after{border-bottom-color:transparent}.p-overlaypanel.p-overlaypanel-flipped:before{border-bottom-color:transparent}\n'],encapsulation:2,data:{animation:[(0,Y.X$)("animation",[(0,Y.SB)("void",(0,Y.oB)({transform:"scaleY(0.8)",opacity:0})),(0,Y.SB)("close",(0,Y.oB)({opacity:0})),(0,Y.SB)("open",(0,Y.oB)({transform:"translateY(0)",opacity:1})),(0,Y.eR)("void => open",(0,Y.jt)("{{showTransitionParams}}")),(0,Y.eR)("open => close",(0,Y.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),Ze})(),ot=(()=>{class Ze{}return Ze.\u0275fac=function(re){return new(re||Ze)},Ze.\u0275mod=i.oAB({type:Ze}),Ze.\u0275inj=i.cJS({imports:[[v.ez,q.T,fe.m8],fe.m8]}),Ze})()},8185:(Dt,Ve,R)=>{R.d(Ve,{k:()=>J,q:()=>ce});var i=R(5e3),v=R(9808);function z(de,K){if(1&de&&(i.TgZ(0,"div",5),i._uU(1),i.qZA()),2&de){const ee=i.oxw(2);i.Udp("display",null!=ee.value&&0!==ee.value?"flex":"none"),i.xp6(1),i.AsE("",ee.value,"",ee.unit,"")}}function fe(de,K){if(1&de&&(i.TgZ(0,"div",3),i.YNc(1,z,2,4,"div",4),i.qZA()),2&de){const ee=i.oxw();i.Udp("width",ee.value+"%"),i.xp6(1),i.Q6J("ngIf",ee.showValue)}}function q(de,K){1&de&&(i.TgZ(0,"div",6),i._UZ(1,"div",7),i.qZA())}const Y=function(de,K){return{"p-progressbar p-component":!0,"p-progressbar-determinate":de,"p-progressbar-indeterminate":K}};let J=(()=>{class de{constructor(){this.showValue=!0,this.unit="%",this.mode="determinate"}}return de.\u0275fac=function(ee){return new(ee||de)},de.\u0275cmp=i.Xpm({type:de,selectors:[["p-progressBar"]],hostAttrs:[1,"p-element"],inputs:{value:"value",showValue:"showValue",style:"style",styleClass:"styleClass",unit:"unit",mode:"mode"},decls:3,vars:10,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100",3,"ngStyle","ngClass"],["class","p-progressbar-value p-progressbar-value-animate","style","display:flex",3,"width",4,"ngIf"],["class","p-progressbar-indeterminate-container",4,"ngIf"],[1,"p-progressbar-value","p-progressbar-value-animate",2,"display","flex"],["class","p-progressbar-label",3,"display",4,"ngIf"],[1,"p-progressbar-label"],[1,"p-progressbar-indeterminate-container"],[1,"p-progressbar-value","p-progressbar-value-animate"]],template:function(ee,te){1&ee&&(i.TgZ(0,"div",0),i.YNc(1,fe,2,3,"div",1),i.YNc(2,q,2,0,"div",2),i.qZA()),2&ee&&(i.Tol(te.styleClass),i.Q6J("ngStyle",te.style)("ngClass",i.WLB(7,Y,"determinate"===te.mode,"indeterminate"===te.mode)),i.uIk("aria-valuenow",te.value),i.xp6(1),i.Q6J("ngIf","determinate"===te.mode),i.xp6(1),i.Q6J("ngIf","indeterminate"===te.mode))},directives:[v.PC,v.mk,v.O5],styles:['.p-progressbar{position:relative;overflow:hidden}.p-progressbar-determinate .p-progressbar-value{height:100%;width:0%;position:absolute;display:none;border:0 none;display:flex;align-items:center;justify-content:center;overflow:hidden}.p-progressbar-determinate .p-progressbar-label{display:inline-flex}.p-progressbar-determinate .p-progressbar-value-animate{transition:width 1s ease-in-out}.p-progressbar-indeterminate .p-progressbar-value:before{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim 2.1s cubic-bezier(.65,.815,.735,.395) infinite}.p-progressbar-indeterminate .p-progressbar-value:after{content:"";position:absolute;background-color:inherit;top:0;left:0;bottom:0;will-change:left,right;animation:p-progressbar-indeterminate-anim-short 2.1s cubic-bezier(.165,.84,.44,1) infinite;animation-delay:1.15s}@keyframes p-progressbar-indeterminate-anim{0%{left:-35%;right:100%}60%{left:100%;right:-90%}to{left:100%;right:-90%}}@keyframes p-progressbar-indeterminate-anim-short{0%{left:-200%;right:100%}60%{left:107%;right:-8%}to{left:107%;right:-8%}}\n'],encapsulation:2,changeDetection:0}),de})(),ce=(()=>{class de{}return de.\u0275fac=function(ee){return new(ee||de)},de.\u0275mod=i.oAB({type:de}),de.\u0275inj=i.cJS({imports:[[v.ez]]}),de})()},5787:(Dt,Ve,R)=>{R.d(Ve,{H:()=>q,T:()=>Y});var i=R(5e3),v=R(9808),z=R(5730),fe=R(9783);let q=(()=>{class J{constructor(de,K,ee){this.el=de,this.zone=K,this.config=ee}ngAfterViewInit(){this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener)})}onMouseDown(de){let K=this.getInk();if(!K||"none"===getComputedStyle(K,null).display)return;if(z.p.removeClass(K,"p-ink-active"),!z.p.getHeight(K)&&!z.p.getWidth(K)){let $e=Math.max(z.p.getOuterWidth(this.el.nativeElement),z.p.getOuterHeight(this.el.nativeElement));K.style.height=$e+"px",K.style.width=$e+"px"}let ee=z.p.getOffset(this.el.nativeElement),te=de.pageX-ee.left+document.body.scrollTop-z.p.getWidth(K)/2,We=de.pageY-ee.top+document.body.scrollLeft-z.p.getHeight(K)/2;K.style.top=We+"px",K.style.left=te+"px",z.p.addClass(K,"p-ink-active")}getInk(){for(let de=0;de<this.el.nativeElement.children.length;de++)if(-1!==this.el.nativeElement.children[de].className.indexOf("p-ink"))return this.el.nativeElement.children[de];return null}resetInk(){let de=this.getInk();de&&z.p.removeClass(de,"p-ink-active")}onAnimationEnd(de){z.p.removeClass(de.currentTarget,"p-ink-active")}create(){let de=document.createElement("span");de.className="p-ink",this.el.nativeElement.appendChild(de),this.animationListener=this.onAnimationEnd.bind(this),de.addEventListener("animationend",this.animationListener)}remove(){let de=this.getInk();de&&(this.el.nativeElement.removeEventListener("mousedown",this.mouseDownListener),de.removeEventListener("animationend",this.animationListener),z.p.removeElement(de))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return J.\u0275fac=function(de){return new(de||J)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(fe.b4,8))},J.\u0275dir=i.lG2({type:J,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]}),J})(),Y=(()=>{class J{}return J.\u0275fac=function(de){return new(de||J)},J.\u0275mod=i.oAB({type:J}),J.\u0275inj=i.cJS({imports:[[v.ez]]}),J})()},8631:(Dt,Ve,R)=>{R.d(Ve,{iA:()=>Qu,U$:()=>Vf});var i=R(5e3),v=R(9808),z=R(2382),fe=R(9783);function Y(C,N=0){return function J(C){return!isNaN(parseFloat(C))&&!isNaN(Number(C))}(C)?Number(C):N}var te=R(7579),We=R(9646),$e=R(8306),ot=R(8421),Ze=R(5577),ze=R(1144),re=R(576),Ce=R(3268);const Ie=["addListener","removeListener"],ke=["addEventListener","removeEventListener"],Z=["on","off"];function ve(C,N,l,f){if((0,re.m)(l)&&(f=l,l=void 0),f)return ve(C,N,l).pipe((0,Ce.Z)(f));const[y,S]=function Ee(C){return(0,re.m)(C.addEventListener)&&(0,re.m)(C.removeEventListener)}(C)?ke.map(le=>Te=>C[le](N,Te,l)):function De(C){return(0,re.m)(C.addListener)&&(0,re.m)(C.removeListener)}(C)?Ie.map(he(C,N)):function Be(C){return(0,re.m)(C.on)&&(0,re.m)(C.off)}(C)?Z.map(he(C,N)):[];if(!y&&(0,ze.z)(C))return(0,Ze.z)(le=>ve(le,N,l))((0,ot.Xf)(C));if(!y)throw new TypeError("Invalid event target");return new $e.y(le=>{const Te=(...Fe)=>le.next(1<Fe.length?Fe:Fe[0]);return y(Te),()=>S(Te)})}function he(C,N){return l=>f=>C[l](N,f)}var je=R(4408),nt=R(727);const rt={schedule(C){let N=requestAnimationFrame,l=cancelAnimationFrame;const{delegate:f}=rt;f&&(N=f.requestAnimationFrame,l=f.cancelAnimationFrame);const y=N(S=>{l=void 0,C(S)});return new nt.w0(()=>null==l?void 0:l(y))},requestAnimationFrame(...C){const{delegate:N}=rt;return((null==N?void 0:N.requestAnimationFrame)||requestAnimationFrame)(...C)},cancelAnimationFrame(...C){const{delegate:N}=rt;return((null==N?void 0:N.cancelAnimationFrame)||cancelAnimationFrame)(...C)},delegate:void 0};var Qe=R(7565);const sn=new class Ht extends Qe.v{flush(N){this._active=!0,this._scheduled=void 0;const{actions:l}=this;let f,y=-1;N=N||l.shift();const S=l.length;do{if(f=N.execute(N.state,N.delay))break}while(++y<S&&(N=l.shift()));if(this._active=!1,f){for(;++y<S&&(N=l.shift());)N.unsubscribe();throw f}}}(class mt extends je.o{constructor(N,l){super(N,l),this.scheduler=N,this.work=l}requestAsyncId(N,l,f=0){return null!==f&&f>0?super.requestAsyncId(N,l,f):(N.actions.push(this),N._scheduled||(N._scheduled=rt.requestAnimationFrame(()=>N.flush(void 0))))}recycleAsyncId(N,l,f=0){if(null!=f&&f>0||null==f&&this.delay>0)return super.recycleAsyncId(N,l,f);0===N.actions.length&&(rt.cancelAnimationFrame(l),N._scheduled=void 0)}});let Ye,Ot=1;const Le={};function ct(C){return C in Le&&(delete Le[C],!0)}const Se={setImmediate(C){const N=Ot++;return Le[N]=!0,Ye||(Ye=Promise.resolve()),Ye.then(()=>ct(N)&&C()),N},clearImmediate(C){ct(C)}},{setImmediate:qe,clearImmediate:pt}=Se,Jt={setImmediate(...C){const{delegate:N}=Jt;return((null==N?void 0:N.setImmediate)||qe)(...C)},clearImmediate(C){const{delegate:N}=Jt;return((null==N?void 0:N.clearImmediate)||pt)(C)},delegate:void 0},jn=new class Tn extends Qe.v{flush(N){this._active=!0,this._scheduled=void 0;const{actions:l}=this;let f,y=-1;N=N||l.shift();const S=l.length;do{if(f=N.execute(N.state,N.delay))break}while(++y<S&&(N=l.shift()));if(this._active=!1,f){for(;++y<S&&(N=l.shift());)N.unsubscribe();throw f}}}(class Jn extends je.o{constructor(N,l){super(N,l),this.scheduler=N,this.work=l}requestAsyncId(N,l,f=0){return null!==f&&f>0?super.requestAsyncId(N,l,f):(N.actions.push(this),N._scheduled||(N._scheduled=Jt.setImmediate(N.flush.bind(N,void 0))))}recycleAsyncId(N,l,f=0){if(null!=f&&f>0||null==f&&this.delay>0)return super.recycleAsyncId(N,l,f);0===N.actions.length&&(Jt.clearImmediate(l),N._scheduled=void 0)}});function or(C){return!!C&&(C instanceof $e.y||(0,re.m)(C.lift)&&(0,re.m)(C.subscribe))}var er=R(1884),Ct=R(4986),$i=R(4482),Mi=R(5403),In=R(3532);function gt(C,N=Ct.P){return function ln(C){return(0,$i.e)((N,l)=>{let f=!1,y=null,S=null,le=!1;const Te=()=>{if(null==S||S.unsubscribe(),S=null,f){f=!1;const vt=y;y=null,l.next(vt)}le&&l.complete()},Fe=()=>{S=null,le&&l.complete()};N.subscribe(new Mi.Q(l,vt=>{f=!0,y=vt,S||(0,ot.Xf)(C(vt)).subscribe(S=new Mi.Q(l,Te,Fe))},()=>{le=!0,(!f||!S||S.closed)&&l.complete()}))})}(()=>function Zi(C=0,N,l=Ct.P){let f=-1;return null!=N&&((0,In.K)(N)?l=N:f=N),new $e.y(y=>{let S=function Ti(C){return C instanceof Date&&!isNaN(C)}(C)?+C-l.now():C;S<0&&(S=0);let le=0;return l.schedule(function(){y.closed||(y.next(le++),0<=f?this.schedule(void 0,f):y.complete())},S)})}(C,N))}var Ue=R(9300),Ne=R(5032);function it(C){return(0,$i.e)((N,l)=>{(0,ot.Xf)(C).subscribe(new Mi.Q(l,()=>l.complete(),Ne.Z)),!l.closed&&N.subscribe(l)})}var Et=R(8675),zt=R(1520),Pt=R(3900),Wt=R(3151);let Sn;try{Sn="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(C){Sn=!1}let we,ye,gi=(()=>{class C{constructor(l){this._platformId=l,this.isBrowser=this._platformId?(0,v.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Sn)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return C.\u0275fac=function(l){return new(l||C)(i.LFG(i.Lbi))},C.\u0275prov=i.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Ln=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({}),C})();function Me(){if("object"!=typeof document||!document)return 0;if(null==we){const C=document.createElement("div"),N=C.style;C.dir="rtl",N.width="1px",N.overflow="auto",N.visibility="hidden",N.pointerEvents="none",N.position="absolute";const l=document.createElement("div"),f=l.style;f.width="2px",f.height="1px",C.appendChild(l),document.body.appendChild(C),we=0,0===C.scrollLeft&&(C.scrollLeft=1,we=0===C.scrollLeft?1:2),C.remove()}return we}const $n=new i.OlP("cdk-dir-doc",{providedIn:"root",factory:function Gi(){return(0,i.f3M)(v.K0)}}),qt=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Or=(()=>{class C{constructor(l){if(this.value="ltr",this.change=new i.vpe,l){const y=l.documentElement?l.documentElement.dir:null;this.value=function Br(C){const N=(null==C?void 0:C.toLowerCase())||"";return"auto"===N&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?qt.test(navigator.language)?"rtl":"ltr":"rtl"===N?"rtl":"ltr"}((l.body?l.body.dir:null)||y||"ltr")}}ngOnDestroy(){this.change.complete()}}return C.\u0275fac=function(l){return new(l||C)(i.LFG($n,8))},C.\u0275prov=i.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),di=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({}),C})();class Qi extends class tr{}{constructor(N){super(),this._data=N}connect(){return or(this._data)?this._data:(0,We.of)(this._data)}disconnect(){}}class Ji{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(N,l,f,y,S){N.forEachOperation((le,Te,Fe)=>{let vt,Lt;null==le.previousIndex?(vt=this._insertView(()=>f(le,Te,Fe),Fe,l,y(le)),Lt=vt?1:0):null==Fe?(this._detachAndCacheView(Te,l),Lt=3):(vt=this._moveView(Te,Fe,l,y(le)),Lt=2),S&&S({context:null==vt?void 0:vt.context,operation:Lt,record:le})})}detach(){for(const N of this._viewCache)N.destroy();this._viewCache=[]}_insertView(N,l,f,y){const S=this._insertViewFromCache(l,f);if(S)return void(S.context.$implicit=y);const le=N();return f.createEmbeddedView(le.templateRef,le.context,le.index)}_detachAndCacheView(N,l){const f=l.detach(N);this._maybeCacheView(f,l)}_moveView(N,l,f,y){const S=f.get(N);return f.move(S,l),S.context.$implicit=y,S}_maybeCacheView(N,l){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(N);else{const f=l.indexOf(N);-1===f?N.destroy():l.remove(f)}}_insertViewFromCache(N,l){const f=this._viewCache.pop();return f&&l.insert(f,N),f||null}}const mi=new i.OlP("_ViewRepeater"),Zs=["contentWrapper"],Oi=["*"],jt=new i.OlP("VIRTUAL_SCROLL_STRATEGY");class _n{constructor(N,l,f){this._scrolledIndexChange=new te.x,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,er.x)()),this._viewport=null,this._itemSize=N,this._minBufferPx=l,this._maxBufferPx=f}attach(N){this._viewport=N,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(N,l,f){this._itemSize=N,this._minBufferPx=l,this._maxBufferPx=f,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(N,l){this._viewport&&this._viewport.scrollToOffset(N*this._itemSize,l)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const N=this._viewport.getRenderedRange(),l={start:N.start,end:N.end},f=this._viewport.getViewportSize(),y=this._viewport.getDataLength();let S=this._viewport.measureScrollOffset(),le=this._itemSize>0?S/this._itemSize:0;if(l.end>y){const Fe=Math.ceil(f/this._itemSize),vt=Math.max(0,Math.min(le,y-Fe));le!=vt&&(le=vt,S=vt*this._itemSize,l.start=Math.floor(le)),l.end=Math.max(0,Math.min(y,l.start+Fe))}const Te=S-l.start*this._itemSize;if(Te<this._minBufferPx&&0!=l.start){const Fe=Math.ceil((this._maxBufferPx-Te)/this._itemSize);l.start=Math.max(0,l.start-Fe),l.end=Math.min(y,Math.ceil(le+(f+this._minBufferPx)/this._itemSize))}else{const Fe=l.end*this._itemSize-(S+f);if(Fe<this._minBufferPx&&l.end!=y){const vt=Math.ceil((this._maxBufferPx-Fe)/this._itemSize);vt>0&&(l.end=Math.min(y,l.end+vt),l.start=Math.max(0,Math.floor(le-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(l),this._viewport.setRenderedContentOffset(this._itemSize*l.start),this._scrolledIndexChange.next(Math.floor(le))}}function Wn(C){return C._scrollStrategy}let hi=(()=>{class C{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new _n(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(l){this._itemSize=Y(l)}get minBufferPx(){return this._minBufferPx}set minBufferPx(l){this._minBufferPx=Y(l)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(l){this._maxBufferPx=Y(l)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return C.\u0275fac=function(l){return new(l||C)},C.\u0275dir=i.lG2({type:C,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[i._Bn([{provide:jt,useFactory:Wn,deps:[(0,i.Gpc)(()=>C)]}]),i.TTD]}),C})(),si=(()=>{class C{constructor(l,f,y){this._ngZone=l,this._platform=f,this._scrolled=new te.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=y}register(l){this.scrollContainers.has(l)||this.scrollContainers.set(l,l.elementScrolled().subscribe(()=>this._scrolled.next(l)))}deregister(l){const f=this.scrollContainers.get(l);f&&(f.unsubscribe(),this.scrollContainers.delete(l))}scrolled(l=20){return this._platform.isBrowser?new $e.y(f=>{this._globalSubscription||this._addGlobalListener();const y=l>0?this._scrolled.pipe(gt(l)).subscribe(f):this._scrolled.subscribe(f);return this._scrolledCount++,()=>{y.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,We.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((l,f)=>this.deregister(f)),this._scrolled.complete()}ancestorScrolled(l,f){const y=this.getAncestorScrollContainers(l);return this.scrolled(f).pipe((0,Ue.h)(S=>!S||y.indexOf(S)>-1))}getAncestorScrollContainers(l){const f=[];return this.scrollContainers.forEach((y,S)=>{this._scrollableContainsElement(S,l)&&f.push(S)}),f}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(l,f){let y=function K(C){return C instanceof i.SBq?C.nativeElement:C}(f),S=l.getElementRef().nativeElement;do{if(y==S)return!0}while(y=y.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ve(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return C.\u0275fac=function(l){return new(l||C)(i.LFG(i.R0b),i.LFG(gi),i.LFG(v.K0,8))},C.\u0275prov=i.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Bi=(()=>{class C{constructor(l,f,y,S){this.elementRef=l,this.scrollDispatcher=f,this.ngZone=y,this.dir=S,this._destroyed=new te.x,this._elementScrolled=new $e.y(le=>this.ngZone.runOutsideAngular(()=>ve(this.elementRef.nativeElement,"scroll").pipe(it(this._destroyed)).subscribe(le)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(l){const f=this.elementRef.nativeElement,y=this.dir&&"rtl"==this.dir.value;null==l.left&&(l.left=y?l.end:l.start),null==l.right&&(l.right=y?l.start:l.end),null!=l.bottom&&(l.top=f.scrollHeight-f.clientHeight-l.bottom),y&&0!=Me()?(null!=l.left&&(l.right=f.scrollWidth-f.clientWidth-l.left),2==Me()?l.left=l.right:1==Me()&&(l.left=l.right?-l.right:l.right)):null!=l.right&&(l.left=f.scrollWidth-f.clientWidth-l.right),this._applyScrollToOptions(l)}_applyScrollToOptions(l){const f=this.elementRef.nativeElement;!function Oe(){if(null==ye){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ye=!1,ye;if("scrollBehavior"in document.documentElement.style)ye=!0;else{const C=Element.prototype.scrollTo;ye=!!C&&!/\{\s*\[native code\]\s*\}/.test(C.toString())}}return ye}()?(null!=l.top&&(f.scrollTop=l.top),null!=l.left&&(f.scrollLeft=l.left)):f.scrollTo(l)}measureScrollOffset(l){const f="left",y="right",S=this.elementRef.nativeElement;if("top"==l)return S.scrollTop;if("bottom"==l)return S.scrollHeight-S.clientHeight-S.scrollTop;const le=this.dir&&"rtl"==this.dir.value;return"start"==l?l=le?y:f:"end"==l&&(l=le?f:y),le&&2==Me()?l==f?S.scrollWidth-S.clientWidth-S.scrollLeft:S.scrollLeft:le&&1==Me()?l==f?S.scrollLeft+S.scrollWidth-S.clientWidth:-S.scrollLeft:l==f?S.scrollLeft:S.scrollWidth-S.clientWidth-S.scrollLeft}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(i.SBq),i.Y36(si),i.Y36(i.R0b),i.Y36(Or,8))},C.\u0275dir=i.lG2({type:C,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),C})(),Di=(()=>{class C{constructor(l,f,y){this._platform=l,this._change=new te.x,this._changeListener=S=>{this._change.next(S)},this._document=y,f.runOutsideAngular(()=>{if(l.isBrowser){const S=this._getWindow();S.addEventListener("resize",this._changeListener),S.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const l=this._getWindow();l.removeEventListener("resize",this._changeListener),l.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const l={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),l}getViewportRect(){const l=this.getViewportScrollPosition(),{width:f,height:y}=this.getViewportSize();return{top:l.top,left:l.left,bottom:l.top+y,right:l.left+f,height:y,width:f}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const l=this._document,f=this._getWindow(),y=l.documentElement,S=y.getBoundingClientRect();return{top:-S.top||l.body.scrollTop||f.scrollY||y.scrollTop||0,left:-S.left||l.body.scrollLeft||f.scrollX||y.scrollLeft||0}}change(l=20){return l>0?this._change.pipe(gt(l)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const l=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:l.innerWidth,height:l.innerHeight}:{width:0,height:0}}}return C.\u0275fac=function(l){return new(l||C)(i.LFG(gi),i.LFG(i.R0b),i.LFG(v.K0,8))},C.\u0275prov=i.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();const En="undefined"!=typeof requestAnimationFrame?sn:jn;let Ur=(()=>{class C extends Bi{constructor(l,f,y,S,le,Te,Fe){super(l,Te,y,le),this.elementRef=l,this._changeDetectorRef=f,this._scrollStrategy=S,this._detachedSubject=new te.x,this._renderedRangeSubject=new te.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new $e.y(vt=>this._scrollStrategy.scrolledIndexChange.subscribe(Lt=>Promise.resolve().then(()=>this.ngZone.run(()=>vt.next(Lt))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=nt.w0.EMPTY,this._viewportChanges=Fe.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(l){this._orientation!==l&&(this._orientation=l,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(l){this._appendOnly=function q(C){return null!=C&&"false"!=`${C}`}(l)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe((0,Et.O)(null),gt(0,En)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(l){this.ngZone.runOutsideAngular(()=>{this._forOf=l,this._forOf.dataStream.pipe(it(this._detachedSubject)).subscribe(f=>{const y=f.length;y!==this._dataLength&&(this._dataLength=y,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(l){this._totalContentSize!==l&&(this._totalContentSize=l,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(l){(function Ns(C,N){return C.start==N.start&&C.end==N.end})(this._renderedRange,l)||(this.appendOnly&&(l={start:0,end:Math.max(this._renderedRange.end,l.end)}),this._renderedRangeSubject.next(this._renderedRange=l),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(l,f="to-start"){const S="horizontal"==this.orientation,le=S?"X":"Y";let Fe=`translate${le}(${Number((S&&this.dir&&"rtl"==this.dir.value?-1:1)*l)}px)`;this._renderedContentOffset=l=this.appendOnly&&"to-start"===f?0:l,"to-end"===f&&(Fe+=` translate${le}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=Fe&&(this._renderedContentTransform=Fe,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(l,f="auto"){const y={behavior:f};"horizontal"===this.orientation?y.start=l:y.top=l,this.scrollTo(y)}scrollToIndex(l,f="auto"){this._scrollStrategy.scrollToIndex(l,f)}measureScrollOffset(l){return super.measureScrollOffset(l||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const l=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?l.offsetWidth:l.offsetHeight}measureRangeSize(l){return this._forOf?this._forOf.measureRangeSize(l,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const l=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?l.clientWidth:l.clientHeight}_markChangeDetectionNeeded(l){l&&this._runAfterChangeDetection.push(l),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const l=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const f of l)f()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(i.SBq),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(jt,8),i.Y36(Or,8),i.Y36(si),i.Y36(Di))},C.\u0275cmp=i.Xpm({type:C,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(l,f){if(1&l&&i.Gf(Zs,7),2&l){let y;i.iGM(y=i.CRH())&&(f._contentWrapper=y.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(l,f){2&l&&i.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===f.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==f.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[i._Bn([{provide:Bi,useExisting:C}]),i.qOj],ngContentSelectors:Oi,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(l,f){1&l&&(i.F$t(),i.TgZ(0,"div",0,1),i.Hsn(2),i.qZA(),i._UZ(3,"div",2)),2&l&&(i.xp6(3),i.Udp("width",f._totalContentWidth)("height",f._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),C})();function Rr(C,N,l){if(!l.getBoundingClientRect)return 0;const y=l.getBoundingClientRect();return"horizontal"===C?"start"===N?y.left:y.right:"start"===N?y.top:y.bottom}let qi=(()=>{class C{constructor(l,f,y,S,le,Te){this._viewContainerRef=l,this._template=f,this._differs=y,this._viewRepeater=S,this._viewport=le,this.viewChange=new te.x,this._dataSourceChanges=new te.x,this.dataStream=this._dataSourceChanges.pipe((0,Et.O)(null),(0,zt.G)(),(0,Pt.w)(([Fe,vt])=>this._changeDataSource(Fe,vt)),(0,Wt.d)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new te.x,this.dataStream.subscribe(Fe=>{this._data=Fe,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(it(this._destroyed)).subscribe(Fe=>{this._renderedRange=Fe,Te.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(l){this._cdkVirtualForOf=l,function Wi(C){return C&&"function"==typeof C.connect}(l)?this._dataSourceChanges.next(l):this._dataSourceChanges.next(new Qi(or(l)?l:Array.from(l||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(l){this._needsUpdate=!0,this._cdkVirtualForTrackBy=l?(f,y)=>l(f+(this._renderedRange?this._renderedRange.start:0),y):void 0}set cdkVirtualForTemplate(l){l&&(this._needsUpdate=!0,this._template=l)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(l){this._viewRepeater.viewCacheSize=Y(l)}measureRangeSize(l,f){if(l.start>=l.end)return 0;const y=l.start-this._renderedRange.start,S=l.end-l.start;let le,Te;for(let Fe=0;Fe<S;Fe++){const vt=this._viewContainerRef.get(Fe+y);if(vt&&vt.rootNodes.length){le=Te=vt.rootNodes[0];break}}for(let Fe=S-1;Fe>-1;Fe--){const vt=this._viewContainerRef.get(Fe+y);if(vt&&vt.rootNodes.length){Te=vt.rootNodes[vt.rootNodes.length-1];break}}return le&&Te?Rr(f,"end",Te)-Rr(f,"start",le):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const l=this._differ.diff(this._renderedItems);l?this._applyChanges(l):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((l,f)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(l,f):f)),this._needsUpdate=!0)}_changeDataSource(l,f){return l&&l.disconnect(this),this._needsUpdate=!0,f?f.connect(this):(0,We.of)()}_updateContext(){const l=this._data.length;let f=this._viewContainerRef.length;for(;f--;){const y=this._viewContainerRef.get(f);y.context.index=this._renderedRange.start+f,y.context.count=l,this._updateComputedContextProperties(y.context),y.detectChanges()}}_applyChanges(l){this._viewRepeater.applyChanges(l,this._viewContainerRef,(S,le,Te)=>this._getEmbeddedViewArgs(S,Te),S=>S.item),l.forEachIdentityChange(S=>{this._viewContainerRef.get(S.currentIndex).context.$implicit=S.item});const f=this._data.length;let y=this._viewContainerRef.length;for(;y--;){const S=this._viewContainerRef.get(y);S.context.index=this._renderedRange.start+y,S.context.count=f,this._updateComputedContextProperties(S.context)}}_updateComputedContextProperties(l){l.first=0===l.index,l.last=l.index===l.count-1,l.even=l.index%2==0,l.odd=!l.even}_getEmbeddedViewArgs(l,f){return{templateRef:this._template,context:{$implicit:l.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:f}}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4),i.Y36(mi),i.Y36(Ur,4),i.Y36(i.R0b))},C.\u0275dir=i.lG2({type:C,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[i._Bn([{provide:mi,useClass:Ji}])]}),C})(),ur=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({}),C})(),Ui=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({imports:[[di,Ln,ur],di,ur]}),C})();var Un=R(1777),wt=R(5730),Gt=R(5921),ei=R(4119),Hi=R(5787);function ys(C,N){if(1&C&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&C){const l=i.oxw();i.xp6(1),i.Oqu(l.label||"empty")}}function gr(C,N){1&C&&i.GkF(0)}const Pr=function(C){return{height:C}},vs=function(C,N){return{"p-dropdown-item":!0,"p-highlight":C,"p-disabled":N}},oi=function(C){return{$implicit:C}},mr=["container"],Er=["filter"],as=["in"],Gr=["editableInput"];function Ki(C,N){if(1&C&&(i.ynx(0),i._uU(1),i.BQk()),2&C){const l=i.oxw(2);i.xp6(1),i.Oqu(l.label||"empty")}}function Gs(C,N){1&C&&i.GkF(0)}const bs=function(C){return{"p-dropdown-label p-inputtext":!0,"p-dropdown-label-empty":C}};function Wr(C,N){if(1&C&&(i.TgZ(0,"span",12),i.YNc(1,Ki,2,1,"ng-container",13),i.YNc(2,Gs,1,0,"ng-container",14),i.qZA()),2&C){const l=i.oxw();i.Q6J("ngClass",i.VKq(9,bs,null==l.label||0===l.label.length))("pTooltip",l.tooltip)("tooltipPosition",l.tooltipPosition)("positionStyle",l.tooltipPositionStyle)("tooltipStyleClass",l.tooltipStyleClass),i.uIk("id",l.labelId),i.xp6(1),i.Q6J("ngIf",!l.selectedItemTemplate),i.xp6(1),i.Q6J("ngTemplateOutlet",l.selectedItemTemplate)("ngTemplateOutletContext",i.VKq(11,oi,l.selectedOption))}}const so=function(C){return{"p-dropdown-label p-inputtext p-placeholder":!0,"p-dropdown-label-empty":C}};function Fs(C,N){if(1&C&&(i.TgZ(0,"span",15),i._uU(1),i.qZA()),2&C){const l=i.oxw();i.Q6J("ngClass",i.VKq(2,so,null==l.placeholder||0===l.placeholder.length)),i.xp6(1),i.Oqu(l.placeholder||"empty")}}function Ws(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"input",16,17),i.NdJ("click",function(){return i.CHM(l),i.oxw().onEditableInputClick()})("input",function(y){return i.CHM(l),i.oxw().onEditableInputChange(y)})("focus",function(y){return i.CHM(l),i.oxw().onEditableInputFocus(y)})("blur",function(y){return i.CHM(l),i.oxw().onInputBlur(y)}),i.qZA()}if(2&C){const l=i.oxw();i.Q6J("disabled",l.disabled),i.uIk("maxlength",l.maxlength)("placeholder",l.placeholder)("aria-expanded",l.overlayVisible)}}function oo(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"i",18),i.NdJ("click",function(y){return i.CHM(l),i.oxw().clear(y)}),i.qZA()}}function _r(C,N){1&C&&i.GkF(0)}function al(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"div",26),i.TgZ(1,"div",27),i.NdJ("click",function(y){return y.stopPropagation()}),i.TgZ(2,"input",28,29),i.NdJ("keydown.enter",function(y){return y.preventDefault()})("keydown",function(y){return i.CHM(l),i.oxw(2).onKeydown(y,!1)})("input",function(y){return i.CHM(l),i.oxw(2).onFilterInputChange(y)}),i.qZA(),i._UZ(4,"span",30),i.qZA(),i.qZA()}if(2&C){const l=i.oxw(2);i.xp6(2),i.Q6J("value",l.filterValue||""),i.uIk("placeholder",l.filterPlaceholder)("aria-label",l.ariaFilterLabel)("aria-activedescendant",l.overlayVisible?"p-highlighted-option":l.labelId)}}function ao(C,N){if(1&C&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&C){const l=i.oxw().$implicit,f=i.oxw(3);i.xp6(1),i.Oqu(f.getOptionGroupLabel(l)||"empty")}}function So(C,N){1&C&&i.GkF(0)}function ir(C,N){1&C&&i.GkF(0)}const qs=function(C,N){return{$implicit:C,selectedOption:N}};function Ls(C,N){if(1&C&&(i.TgZ(0,"li",32),i.YNc(1,ao,2,1,"span",13),i.YNc(2,So,1,0,"ng-container",14),i.qZA(),i.YNc(3,ir,1,0,"ng-container",14)),2&C){const l=N.$implicit;i.oxw(2);const f=i.MAs(8),y=i.oxw();i.xp6(1),i.Q6J("ngIf",!y.groupTemplate),i.xp6(1),i.Q6J("ngTemplateOutlet",y.groupTemplate)("ngTemplateOutletContext",i.VKq(5,oi,l)),i.xp6(1),i.Q6J("ngTemplateOutlet",f)("ngTemplateOutletContext",i.WLB(7,qs,y.getOptionGroupChildren(l),y.selectedOption))}}function Pa(C,N){if(1&C&&(i.ynx(0),i.YNc(1,Ls,4,10,"ng-template",31),i.BQk()),2&C){const l=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",l.optionsToDisplay)}}function Ks(C,N){1&C&&i.GkF(0)}function lo(C,N){if(1&C&&(i.ynx(0),i.YNc(1,Ks,1,0,"ng-container",14),i.BQk()),2&C){i.oxw();const l=i.MAs(8),f=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",i.WLB(2,qs,f.optionsToDisplay,f.selectedOption))}}function ls(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"p-dropdownItem",35),i.NdJ("onClick",function(y){return i.CHM(l),i.oxw(4).onItemClick(y)}),i.qZA()}if(2&C){const l=N.$implicit,f=i.oxw(2).selectedOption,y=i.oxw(2);i.Q6J("option",l)("selected",f==l)("label",y.getOptionLabel(l))("disabled",y.isOptionDisabled(l))("template",y.itemTemplate)}}function jo(C,N){if(1&C&&(i.ynx(0),i.YNc(1,ls,1,5,"ng-template",31),i.BQk()),2&C){const l=i.oxw().$implicit;i.xp6(1),i.Q6J("ngForOf",l)}}function uo(C,N){if(1&C){const l=i.EpF();i.ynx(0),i.TgZ(1,"p-dropdownItem",35),i.NdJ("onClick",function(y){return i.CHM(l),i.oxw(5).onItemClick(y)}),i.qZA(),i.BQk()}if(2&C){const l=N.$implicit,f=i.oxw(3).selectedOption,y=i.oxw(2);i.xp6(1),i.Q6J("option",l)("selected",f==l)("label",y.getOptionLabel(l))("disabled",y.isOptionDisabled(l))("template",y.itemTemplate)}}function us(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"cdk-virtual-scroll-viewport",37,38),i.NdJ("scrolledIndexChange",function(){return i.CHM(l),i.oxw(4).scrollToSelectedVirtualScrollElement()}),i.YNc(2,uo,2,5,"ng-container",39),i.qZA()}if(2&C){const l=i.oxw(2).$implicit,f=i.oxw(2);i.Q6J("ngStyle",i.VKq(3,Pr,f.scrollHeight))("itemSize",f.itemSize),i.xp6(2),i.Q6J("cdkVirtualForOf",l)}}function ws(C,N){if(1&C&&i.YNc(0,us,3,5,"cdk-virtual-scroll-viewport",36),2&C){const l=i.oxw(3);i.Q6J("ngIf",l.virtualScroll&&l.optionsToDisplay&&l.optionsToDisplay.length)}}function rr(C,N){if(1&C&&(i.YNc(0,jo,2,1,"ng-container",33),i.YNc(1,ws,1,1,"ng-template",null,34,i.W1O)),2&C){const l=i.MAs(2),f=i.oxw(2);i.Q6J("ngIf",!f.virtualScroll)("ngIfElse",l)}}function Cs(C,N){if(1&C&&(i.ynx(0),i._uU(1),i.BQk()),2&C){const l=i.oxw(3);i.xp6(1),i.hij(" ",l.emptyFilterMessageLabel," ")}}function qr(C,N){1&C&&i.GkF(0,null,41)}function Kr(C,N){if(1&C&&(i.TgZ(0,"li",40),i.YNc(1,Cs,2,1,"ng-container",33),i.YNc(2,qr,2,0,"ng-container",20),i.qZA()),2&C){const l=i.oxw(2);i.xp6(1),i.Q6J("ngIf",!l.emptyFilterTemplate&&!l.emptyTemplate)("ngIfElse",l.emptyFilter),i.xp6(1),i.Q6J("ngTemplateOutlet",l.emptyFilterTemplate||l.emptyTemplate)}}function Do(C,N){if(1&C&&(i.ynx(0),i._uU(1),i.BQk()),2&C){const l=i.oxw(3);i.xp6(1),i.hij(" ",l.emptyMessageLabel," ")}}function Es(C,N){1&C&&i.GkF(0,null,42)}function Yi(C,N){if(1&C&&(i.TgZ(0,"li",40),i.YNc(1,Do,2,1,"ng-container",33),i.YNc(2,Es,2,0,"ng-container",20),i.qZA()),2&C){const l=i.oxw(2);i.xp6(1),i.Q6J("ngIf",!l.emptyTemplate)("ngIfElse",l.empty),i.xp6(1),i.Q6J("ngTemplateOutlet",l.emptyTemplate)}}function Yr(C,N){1&C&&i.GkF(0)}const Hr=function(C,N){return{showTransitionParams:C,hideTransitionParams:N}},ji=function(C){return{value:"visible",params:C}},Qr=function(C){return{"p-dropdown-virtualscroll":C}};function Ys(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"div",19),i.NdJ("click",function(y){return i.CHM(l),i.oxw().onOverlayClick(y)})("@overlayAnimation.start",function(y){return i.CHM(l),i.oxw().onOverlayAnimationStart(y)})("@overlayAnimation.start",function(y){return i.CHM(l),i.oxw().onOverlayAnimationEnd(y)}),i.YNc(1,_r,1,0,"ng-container",20),i.YNc(2,al,5,4,"div",21),i.TgZ(3,"div",22),i.TgZ(4,"ul",23),i.YNc(5,Pa,2,1,"ng-container",13),i.YNc(6,lo,2,5,"ng-container",13),i.YNc(7,rr,3,2,"ng-template",null,24,i.W1O),i.YNc(9,Kr,3,3,"li",25),i.YNc(10,Yi,3,3,"li",25),i.qZA(),i.qZA(),i.YNc(11,Yr,1,0,"ng-container",20),i.qZA()}if(2&C){const l=i.oxw();i.Tol(l.panelStyleClass),i.Q6J("ngClass","p-dropdown-panel p-component")("@overlayAnimation",i.VKq(19,ji,i.WLB(16,Hr,l.showTransitionOptions,l.hideTransitionOptions)))("ngStyle",l.panelStyle),i.xp6(1),i.Q6J("ngTemplateOutlet",l.headerTemplate),i.xp6(1),i.Q6J("ngIf",l.filter),i.xp6(1),i.Udp("max-height",l.virtualScroll?"auto":l.scrollHeight||"auto"),i.xp6(1),i.Q6J("ngClass",i.VKq(21,Qr,l.virtualScroll)),i.uIk("id",l.listId),i.xp6(1),i.Q6J("ngIf",l.group),i.xp6(1),i.Q6J("ngIf",!l.group),i.xp6(3),i.Q6J("ngIf",l.filterValue&&l.isEmpty()),i.xp6(1),i.Q6J("ngIf",!l.filterValue&&l.isEmpty()),i.xp6(1),i.Q6J("ngTemplateOutlet",l.footerTemplate)}}const cs=function(C,N,l,f){return{"p-dropdown p-component":!0,"p-disabled":C,"p-dropdown-open":N,"p-focus":l,"p-dropdown-clearable":f}},zo={provide:z.JU,useExisting:(0,i.Gpc)(()=>co),multi:!0};let xo=(()=>{class C{constructor(){this.onClick=new i.vpe}onOptionClick(l){this.onClick.emit({originalEvent:l,option:this.option})}}return C.\u0275fac=function(l){return new(l||C)},C.\u0275cmp=i.Xpm({type:C,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{option:"option",selected:"selected",label:"label",disabled:"disabled",visible:"visible",itemSize:"itemSize",template:"template"},outputs:{onClick:"onClick"},decls:3,vars:15,consts:[["role","option","pRipple","",3,"ngStyle","id","ngClass","click"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,f){1&l&&(i.TgZ(0,"li",0),i.NdJ("click",function(S){return f.onOptionClick(S)}),i.YNc(1,ys,2,1,"span",1),i.YNc(2,gr,1,0,"ng-container",2),i.qZA()),2&l&&(i.Q6J("ngStyle",i.VKq(8,Pr,f.itemSize+"px"))("id",f.selected?"p-highlighted-option":"")("ngClass",i.WLB(10,vs,f.selected,f.disabled)),i.uIk("aria-label",f.label)("aria-selected",f.selected),i.xp6(1),i.Q6J("ngIf",!f.template),i.xp6(1),i.Q6J("ngTemplateOutlet",f.template)("ngTemplateOutletContext",i.VKq(13,oi,f.option)))},directives:[Hi.H,v.PC,v.mk,v.O5,v.tP],encapsulation:2}),C})(),co=(()=>{class C{constructor(l,f,y,S,le,Te,Fe){this.el=l,this.renderer=f,this.cd=y,this.zone=S,this.filterService=le,this.config=Te,this.overlayService=Fe,this.scrollHeight="200px",this.resetFilterOnHide=!1,this.dropdownIcon="pi pi-chevron-down",this.optionGroupChildren="items",this.autoDisplayFirst=!0,this.emptyFilterMessage="",this.emptyMessage="",this.autoZIndex=!0,this.baseZIndex=0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.filterMatchMode="contains",this.tooltip="",this.tooltipPosition="right",this.tooltipPositionStyle="absolute",this.autofocusFilter=!0,this.onChange=new i.vpe,this.onFilter=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.onClick=new i.vpe,this.onShow=new i.vpe,this.onHide=new i.vpe,this.onClear=new i.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.viewPortOffsetTop=0,this.id=(0,Gt.Th)()}get disabled(){return this._disabled}set disabled(l){l&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=l,this.cd.destroyed||this.cd.detectChanges()}ngAfterContentInit(){this.templates.forEach(l=>{switch(l.getType()){case"item":default:this.itemTemplate=l.template;break;case"selectedItem":this.selectedItemTemplate=l.template;break;case"header":this.headerTemplate=l.template;break;case"footer":this.footerTemplate=l.template;break;case"emptyfilter":this.emptyFilterTemplate=l.template;break;case"empty":this.emptyTemplate=l.template;break;case"group":this.groupTemplate=l.template}})}ngOnInit(){this.optionsToDisplay=this.options,this.updateSelectedOption(null),this.labelId=this.id+"_label",this.listId=this.id+"_list"}get options(){return this._options}set options(l){this._options=l,this.optionsToDisplay=this._options,this.updateSelectedOption(this.value),this.optionsChanged=!0,this._filterValue&&this._filterValue.length&&this.activateFilter()}get filterValue(){return this._filterValue}set filterValue(l){this._filterValue=l,this.activateFilter()}ngAfterViewInit(){this.editable&&this.updateEditableLabel()}get label(){return this.selectedOption?this.getOptionLabel(this.selectedOption):null}get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(fe.ws.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(fe.ws.EMPTY_FILTER_MESSAGE)}get filled(){return this.value||null!=this.value||null!=this.value}updateEditableLabel(){this.editableInputViewChild&&this.editableInputViewChild.nativeElement&&(this.editableInputViewChild.nativeElement.value=this.selectedOption?this.getOptionLabel(this.selectedOption):this.value||"")}getOptionLabel(l){return this.optionLabel?Gt.gb.resolveFieldData(l,this.optionLabel):null!=l.label?l.label:l}getOptionValue(l){return this.optionValue?Gt.gb.resolveFieldData(l,this.optionValue):this.optionLabel||void 0===l.value?l:l.value}isOptionDisabled(l){return this.optionDisabled?Gt.gb.resolveFieldData(l,this.optionDisabled):void 0!==l.disabled&&l.disabled}getOptionGroupLabel(l){return this.optionGroupLabel?Gt.gb.resolveFieldData(l,this.optionGroupLabel):null!=l.label?l.label:l}getOptionGroupChildren(l){return this.optionGroupChildren?Gt.gb.resolveFieldData(l,this.optionGroupChildren):l.items}onItemClick(l){const f=l.option;this.isOptionDisabled(f)||(this.selectItem(l.originalEvent,f),this.accessibleViewChild.nativeElement.focus()),setTimeout(()=>{this.hide()},150)}selectItem(l,f){this.selectedOption!=f&&(this.selectedOption=f,this.value=this.getOptionValue(f),this.onModelChange(this.value),this.updateEditableLabel(),this.onChange.emit({originalEvent:l,value:this.value}),this.virtualScroll&&setTimeout(()=>{this.viewPortOffsetTop=this.viewPort?this.viewPort.measureScrollOffset():0},1))}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.virtualScroll&&this.updateVirtualScrollSelectedIndex(!0),this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){if(this.virtualScroll&&this.viewPort){let f=this.viewPort.getRenderedRange();this.updateVirtualScrollSelectedIndex(!1),(f.start>this.virtualScrollSelectedIndex||f.end<this.virtualScrollSelectedIndex)&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)}wt.p.findSingle(this.overlay,"li.p-highlight")&&wt.p.scrollInView(this.itemsWrapper,wt.p.findSingle(this.overlay,"li.p-highlight")),this.selectedOptionUpdated=!1}}writeValue(l){this.filter&&this.resetFilter(),this.value=l,this.updateSelectedOption(l),this.updateEditableLabel(),this.cd.markForCheck()}resetFilter(){this._filterValue=null,this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value=""),this.optionsToDisplay=this.options}updateSelectedOption(l){this.selectedOption=this.findOption(l,this.optionsToDisplay),this.autoDisplayFirst&&!this.placeholder&&!this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&!this.editable&&(this.selectedOption=this.optionsToDisplay[0],this.value=this.getOptionValue(this.selectedOption),this.onModelChange(this.value)),this.selectedOptionUpdated=!0}registerOnChange(l){this.onModelChange=l}registerOnTouched(l){this.onModelTouched=l}setDisabledState(l){this.disabled=l,this.cd.markForCheck()}onMouseclick(l){this.disabled||this.readonly||this.isInputClick(l)||(this.onClick.emit(l),this.accessibleViewChild.nativeElement.focus(),this.overlayVisible?this.hide():this.show(),this.cd.detectChanges())}onOverlayClick(l){this.overlayService.add({originalEvent:l,target:this.el.nativeElement})}isInputClick(l){return wt.p.hasClass(l.target,"p-dropdown-clear-icon")||l.target.isSameNode(this.accessibleViewChild.nativeElement)||this.editableInputViewChild&&l.target.isSameNode(this.editableInputViewChild.nativeElement)}isOutsideClicked(l){return!(this.el.nativeElement.isSameNode(l.target)||this.el.nativeElement.contains(l.target)||this.overlay&&this.overlay.contains(l.target))}isEmpty(){return!this.optionsToDisplay||this.optionsToDisplay&&0===this.optionsToDisplay.length}onEditableInputClick(){this.bindDocumentClickListener()}onEditableInputFocus(l){this.focused=!0,this.hide(),this.onFocus.emit(l)}onEditableInputChange(l){this.value=l.target.value,this.updateSelectedOption(this.value),this.onModelChange(this.value),this.onChange.emit({originalEvent:l,value:this.value})}show(){this.overlayVisible=!0,this.preventDocumentDefault=!0,this.cd.markForCheck()}onOverlayAnimationStart(l){switch(l.toState){case"visible":if(this.overlay=l.element,this.itemsWrapper=wt.p.findSingle(this.overlay,this.virtualScroll?".cdk-virtual-scroll-viewport":".p-dropdown-items-wrapper"),this.appendOverlay(),this.autoZIndex&&Gt.P9.set("overlay",this.overlay,this.baseZIndex+this.config.zIndex.overlay),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.options&&this.options.length&&!this.virtualScroll){let y=wt.p.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");y&&y.scrollIntoView({block:"nearest",inline:"center"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(l);break;case"void":this.onOverlayHide(),this.onHide.emit(l)}}onOverlayAnimationEnd(l){"void"===l.toState&&Gt.P9.clear(l.element)}scrollToSelectedVirtualScrollElement(){this.virtualAutoScrolled||(this.viewPortOffsetTop?this.viewPort.scrollToOffset(this.viewPortOffsetTop):this.virtualScrollSelectedIndex>-1&&this.viewPort.scrollToIndex(this.virtualScrollSelectedIndex)),this.virtualAutoScrolled=!0}updateVirtualScrollSelectedIndex(l){this.selectedOption&&this.optionsToDisplay&&this.optionsToDisplay.length&&(l&&(this.viewPortOffsetTop=0),this.virtualScrollSelectedIndex=this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay))}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):wt.p.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=wt.p.getWidth(this.containerViewChild.nativeElement)+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}hide(){this.overlayVisible=!1,this.filter&&this.resetFilterOnHide&&this.resetFilter(),this.virtualScroll&&(this.virtualAutoScrolled=!1),this.cd.markForCheck()}alignOverlay(){this.overlay&&(this.appendTo?wt.p.absolutePosition(this.overlay,this.containerViewChild.nativeElement):wt.p.relativePosition(this.overlay,this.containerViewChild.nativeElement))}onInputFocus(l){this.focused=!0,this.onFocus.emit(l)}onInputBlur(l){this.focused=!1,this.onBlur.emit(l),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}findPrevEnabledOption(l){let f;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let y=l-1;0<=y;y--){let S=this.optionsToDisplay[y];if(!this.isOptionDisabled(S)){f=S;break}}if(!f)for(let y=this.optionsToDisplay.length-1;y>=l;y--){let S=this.optionsToDisplay[y];if(!this.isOptionDisabled(S)){f=S;break}}}return f}findNextEnabledOption(l){let f;if(this.optionsToDisplay&&this.optionsToDisplay.length){for(let y=l+1;y<this.optionsToDisplay.length;y++){let S=this.optionsToDisplay[y];if(!this.isOptionDisabled(S)){f=S;break}}if(!f)for(let y=0;y<l;y++){let S=this.optionsToDisplay[y];if(!this.isOptionDisabled(S)){f=S;break}}}return f}onKeydown(l,f){if(!this.readonly&&this.optionsToDisplay&&null!==this.optionsToDisplay.length)switch(l.which){case 40:if(!this.overlayVisible&&l.altKey)this.show();else if(this.group){let y=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==y){let S=y.itemIndex+1;S<this.getOptionGroupChildren(this.optionsToDisplay[y.groupIndex]).length?(this.selectItem(l,this.getOptionGroupChildren(this.optionsToDisplay[y.groupIndex])[S]),this.selectedOptionUpdated=!0):this.optionsToDisplay[y.groupIndex+1]&&(this.selectItem(l,this.getOptionGroupChildren(this.optionsToDisplay[y.groupIndex+1])[0]),this.selectedOptionUpdated=!0)}else this.optionsToDisplay&&this.optionsToDisplay.length>0&&this.selectItem(l,this.getOptionGroupChildren(this.optionsToDisplay[0])[0])}else{let y=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,S=this.findNextEnabledOption(y);S&&(this.selectItem(l,S),this.selectedOptionUpdated=!0)}l.preventDefault();break;case 38:if(this.group){let y=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;if(-1!==y){let S=y.itemIndex-1;if(S>=0)this.selectItem(l,this.getOptionGroupChildren(this.optionsToDisplay[y.groupIndex])[S]),this.selectedOptionUpdated=!0;else if(S<0){let le=this.optionsToDisplay[y.groupIndex-1];le&&(this.selectItem(l,this.getOptionGroupChildren(le)[this.getOptionGroupChildren(le).length-1]),this.selectedOptionUpdated=!0)}}}else{let y=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1,S=this.findPrevEnabledOption(y);S&&(this.selectItem(l,S),this.selectedOptionUpdated=!0)}l.preventDefault();break;case 32:f&&(this.overlayVisible?this.hide():this.show(),l.preventDefault());break;case 13:this.overlayVisible&&(!this.filter||this.optionsToDisplay&&this.optionsToDisplay.length>0)?this.hide():this.overlayVisible||this.show(),l.preventDefault();break;case 27:case 9:this.hide();break;default:f&&!l.metaKey&&this.search(l)}}search(l){this.searchTimeout&&clearTimeout(this.searchTimeout);const f=l.key;let y;if(this.previousSearchChar=this.currentSearchChar,this.currentSearchChar=f,this.searchValue=this.previousSearchChar===this.currentSearchChar?this.currentSearchChar:this.searchValue?this.searchValue+f:f,this.group){let S=this.selectedOption?this.findOptionGroupIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):{groupIndex:0,itemIndex:0};y=this.searchOptionWithinGroup(S)}else{let S=this.selectedOption?this.findOptionIndex(this.getOptionValue(this.selectedOption),this.optionsToDisplay):-1;y=this.searchOption(++S)}y&&!this.isOptionDisabled(y)&&(this.selectItem(l,y),this.selectedOptionUpdated=!0),this.searchTimeout=setTimeout(()=>{this.searchValue=null},250)}searchOption(l){let f;return this.searchValue&&(f=this.searchOptionInRange(l,this.optionsToDisplay.length),f||(f=this.searchOptionInRange(0,l))),f}searchOptionInRange(l,f){for(let y=l;y<f;y++){let S=this.optionsToDisplay[y];if(this.getOptionLabel(S).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(S))return S}return null}searchOptionWithinGroup(l){if(this.searchValue){for(let y=l.groupIndex;y<this.optionsToDisplay.length;y++)for(let S=l.groupIndex===y?l.itemIndex+1:0;S<this.getOptionGroupChildren(this.optionsToDisplay[y]).length;S++){let le=this.getOptionGroupChildren(this.optionsToDisplay[y])[S];if(this.getOptionLabel(le).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(le))return le}for(let y=0;y<=l.groupIndex;y++)for(let S=0;S<(l.groupIndex===y?l.itemIndex:this.getOptionGroupChildren(this.optionsToDisplay[y]).length);S++){let le=this.getOptionGroupChildren(this.optionsToDisplay[y])[S];if(this.getOptionLabel(le).toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))&&!this.isOptionDisabled(le))return le}}return null}findOptionIndex(l,f){let y=-1;if(f)for(let S=0;S<f.length;S++)if(null==l&&null==this.getOptionValue(f[S])||Gt.gb.equals(l,this.getOptionValue(f[S]),this.dataKey)){y=S;break}return y}findOptionGroupIndex(l,f){let y,S;if(f)for(let le=0;le<f.length&&(y=le,S=this.findOptionIndex(l,this.getOptionGroupChildren(f[le])),-1===S);le++);return-1!==S?{groupIndex:y,itemIndex:S}:-1}findOption(l,f,y){if(this.group&&!y){let S;if(f&&f.length)for(let le of f)if(S=this.findOption(l,this.getOptionGroupChildren(le),!0),S)break;return S}{let S=this.findOptionIndex(l,f);return-1!=S?f[S]:null}}onFilterInputChange(l){let f=l.target.value;f&&f.length?(this._filterValue=f,this.activateFilter()):(this._filterValue=null,this.optionsToDisplay=this.options),this.optionsChanged=!0,this.onFilter.emit({originalEvent:l,filter:this._filterValue})}activateFilter(){let l=(this.filterBy||this.optionLabel||"label").split(",");if(this.options&&this.options.length){if(this.group){let f=[];for(let y of this.options){let S=this.filterService.filter(this.getOptionGroupChildren(y),l,this.filterValue,this.filterMatchMode,this.filterLocale);S&&S.length&&f.push(Object.assign(Object.assign({},y),{[this.optionGroupChildren]:S}))}this.optionsToDisplay=f}else this.optionsToDisplay=this.filterService.filter(this.options,l,this.filterValue,this.filterMatchMode,this.filterLocale);this.optionsChanged=!0}}applyFocus(){this.editable?wt.p.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():wt.p.findSingle(this.el.nativeElement,"input[readonly]").focus()}focus(){this.applyFocus()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",f=>{!this.preventDocumentDefault&&this.isOutsideClicked(f)&&(this.hide(),this.unbindDocumentClickListener()),this.preventDocumentDefault=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible&&!wt.p.isTouchDevice()&&this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new wt.V(this.containerViewChild.nativeElement,l=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}clear(l){this.value=null,this.onModelChange(this.value),this.onChange.emit({originalEvent:l,value:this.value}),this.updateSelectedOption(this.value),this.updateEditableLabel(),this.onClear.emit(l)}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.itemsWrapper=null,this.onModelTouched()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.overlay&&Gt.P9.clear(this.overlay),this.restoreOverlayAppend(),this.onOverlayHide()}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(fe.iZ),i.Y36(fe.b4),i.Y36(fe.F0))},C.\u0275cmp=i.Xpm({type:C,selectors:[["p-dropdown"]],contentQueries:function(l,f,y){if(1&l&&i.Suo(y,fe.jx,4),2&l){let S;i.iGM(S=i.CRH())&&(f.templates=S)}},viewQuery:function(l,f){if(1&l&&(i.Gf(mr,5),i.Gf(Er,5),i.Gf(as,5),i.Gf(Ur,5),i.Gf(Gr,5)),2&l){let y;i.iGM(y=i.CRH())&&(f.containerViewChild=y.first),i.iGM(y=i.CRH())&&(f.filterViewChild=y.first),i.iGM(y=i.CRH())&&(f.accessibleViewChild=y.first),i.iGM(y=i.CRH())&&(f.viewPort=y.first),i.iGM(y=i.CRH())&&(f.editableInputViewChild=y.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(l,f){2&l&&i.ekj("p-inputwrapper-filled",f.filled)("p-inputwrapper-focus",f.focused||f.overlayVisible)},inputs:{scrollHeight:"scrollHeight",filter:"filter",name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:"readonly",required:"required",editable:"editable",appendTo:"appendTo",tabindex:"tabindex",placeholder:"placeholder",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",inputId:"inputId",selectId:"selectId",dataKey:"dataKey",filterBy:"filterBy",autofocus:"autofocus",resetFilterOnHide:"resetFilterOnHide",dropdownIcon:"dropdownIcon",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:"autoDisplayFirst",group:"group",showClear:"showClear",emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",virtualScroll:"virtualScroll",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:"maxlength",tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",autofocusFilter:"autofocusFilter",disabled:"disabled",options:"options",filterValue:"filterValue"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear"},features:[i._Bn([zo])],decls:12,vars:24,consts:[[3,"ngClass","ngStyle","click"],["container",""],[1,"p-hidden-accessible"],["type","text","readonly","","aria-haspopup","listbox","aria-haspopup","listbox","role","listbox",3,"disabled","focus","blur","keydown"],["in",""],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],["type","text","class","p-dropdown-label p-inputtext","aria-haspopup","listbox",3,"disabled","click","input","focus","blur",4,"ngIf"],["class","p-dropdown-clear-icon pi pi-times",3,"click",4,"ngIf"],["role","button","aria-haspopup","listbox",1,"p-dropdown-trigger"],[1,"p-dropdown-trigger-icon",3,"ngClass"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass"],["type","text","aria-haspopup","listbox",1,"p-dropdown-label","p-inputtext",3,"disabled","click","input","focus","blur"],["editableInput",""],[1,"p-dropdown-clear-icon","pi","pi-times",3,"click"],["onOverlayAnimationEnd","",3,"ngClass","ngStyle","click"],[4,"ngTemplateOutlet"],["class","p-dropdown-header",4,"ngIf"],[1,"p-dropdown-items-wrapper"],["role","listbox",1,"p-dropdown-items",3,"ngClass"],["itemslist",""],["class","p-dropdown-empty-message",4,"ngIf"],[1,"p-dropdown-header"],[1,"p-dropdown-filter-container",3,"click"],["type","text","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"value","keydown.enter","keydown","input"],["filter",""],[1,"p-dropdown-filter-icon","pi","pi-search"],["ngFor","",3,"ngForOf"],[1,"p-dropdown-item-group"],[4,"ngIf","ngIfElse"],["virtualScrollList",""],[3,"option","selected","label","disabled","template","onClick"],[3,"ngStyle","itemSize","scrolledIndexChange",4,"ngIf"],[3,"ngStyle","itemSize","scrolledIndexChange"],["viewport",""],[4,"cdkVirtualFor","cdkVirtualForOf"],[1,"p-dropdown-empty-message"],["emptyFilter",""],["empty",""]],template:function(l,f){1&l&&(i.TgZ(0,"div",0,1),i.NdJ("click",function(S){return f.onMouseclick(S)}),i.TgZ(2,"div",2),i.TgZ(3,"input",3,4),i.NdJ("focus",function(S){return f.onInputFocus(S)})("blur",function(S){return f.onInputBlur(S)})("keydown",function(S){return f.onKeydown(S,!0)}),i.qZA(),i.qZA(),i.YNc(5,Wr,3,13,"span",5),i.YNc(6,Fs,2,4,"span",6),i.YNc(7,Ws,2,4,"input",7),i.YNc(8,oo,1,0,"i",8),i.TgZ(9,"div",9),i._UZ(10,"span",10),i.qZA(),i.YNc(11,Ys,12,23,"div",11),i.qZA()),2&l&&(i.Tol(f.styleClass),i.Q6J("ngClass",i.l5B(19,cs,f.disabled,f.overlayVisible,f.focused,f.showClear&&!f.disabled))("ngStyle",f.style),i.xp6(3),i.Q6J("disabled",f.disabled),i.uIk("id",f.inputId)("placeholder",f.placeholder)("aria-expanded",f.overlayVisible)("aria-labelledby",f.ariaLabelledBy)("tabindex",f.tabindex)("autofocus",f.autofocus)("aria-activedescendant",f.overlayVisible?"p-highlighted-option":f.labelId),i.xp6(2),i.Q6J("ngIf",!f.editable&&null!=f.label),i.xp6(1),i.Q6J("ngIf",!f.editable&&null==f.label),i.xp6(1),i.Q6J("ngIf",f.editable),i.xp6(1),i.Q6J("ngIf",null!=f.value&&f.showClear&&!f.disabled),i.xp6(1),i.uIk("aria-expanded",f.overlayVisible),i.xp6(1),i.Q6J("ngClass",f.dropdownIcon),i.xp6(1),i.Q6J("ngIf",f.overlayVisible))},directives:[v.mk,v.PC,v.O5,ei.u,v.tP,v.sg,xo,Ur,hi,qi],styles:[".p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;visibility:hidden}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-panel{position:absolute;top:0;left:0}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:normal;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}\n"],encapsulation:2,data:{animation:[(0,Un.X$)("overlayAnimation",[(0,Un.eR)(":enter",[(0,Un.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,Un.jt)("{{showTransitionParams}}")]),(0,Un.eR)(":leave",[(0,Un.jt)("{{hideTransitionParams}}",(0,Un.oB)({opacity:0}))])])]},changeDetection:0}),C})(),Hn=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({imports:[[v.ez,fe.m8,Ui,ei.z,Hi.T],fe.m8,Ui]}),C})();var Ts=R(1424),Fi=R(845);const B=["input"],oe=function(){return{"p-inputnumber-button p-inputnumber-button-up":!0}},H=function(){return{"p-inputnumber-button p-inputnumber-button-down":!0}};function ue(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"span",5),i.TgZ(1,"button",6),i.NdJ("mousedown",function(y){return i.CHM(l),i.oxw().onUpButtonMouseDown(y)})("mouseup",function(){return i.CHM(l),i.oxw().onUpButtonMouseUp()})("mouseleave",function(){return i.CHM(l),i.oxw().onUpButtonMouseLeave()})("keydown",function(y){return i.CHM(l),i.oxw().onUpButtonKeyDown(y)})("keyup",function(){return i.CHM(l),i.oxw().onUpButtonKeyUp()}),i.qZA(),i.TgZ(2,"button",6),i.NdJ("mousedown",function(y){return i.CHM(l),i.oxw().onDownButtonMouseDown(y)})("mouseup",function(){return i.CHM(l),i.oxw().onDownButtonMouseUp()})("mouseleave",function(){return i.CHM(l),i.oxw().onDownButtonMouseLeave()})("keydown",function(y){return i.CHM(l),i.oxw().onDownButtonKeyDown(y)})("keyup",function(){return i.CHM(l),i.oxw().onDownButtonKeyUp()}),i.qZA(),i.qZA()}if(2&C){const l=i.oxw();i.xp6(1),i.Tol(l.incrementButtonClass),i.Q6J("ngClass",i.DdM(10,oe))("icon",l.incrementButtonIcon)("disabled",l.disabled),i.xp6(1),i.Tol(l.decrementButtonClass),i.Q6J("ngClass",i.DdM(11,H))("icon",l.decrementButtonIcon)("disabled",l.disabled)}}function xe(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"button",6),i.NdJ("mousedown",function(y){return i.CHM(l),i.oxw().onUpButtonMouseDown(y)})("mouseup",function(){return i.CHM(l),i.oxw().onUpButtonMouseUp()})("mouseleave",function(){return i.CHM(l),i.oxw().onUpButtonMouseLeave()})("keydown",function(y){return i.CHM(l),i.oxw().onUpButtonKeyDown(y)})("keyup",function(){return i.CHM(l),i.oxw().onUpButtonKeyUp()}),i.qZA()}if(2&C){const l=i.oxw();i.Tol(l.incrementButtonClass),i.Q6J("ngClass",i.DdM(5,oe))("icon",l.incrementButtonIcon)("disabled",l.disabled)}}function lt(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"button",6),i.NdJ("mousedown",function(y){return i.CHM(l),i.oxw().onDownButtonMouseDown(y)})("mouseup",function(){return i.CHM(l),i.oxw().onDownButtonMouseUp()})("mouseleave",function(){return i.CHM(l),i.oxw().onDownButtonMouseLeave()})("keydown",function(y){return i.CHM(l),i.oxw().onDownButtonKeyDown(y)})("keyup",function(){return i.CHM(l),i.oxw().onDownButtonKeyUp()}),i.qZA()}if(2&C){const l=i.oxw();i.Tol(l.decrementButtonClass),i.Q6J("ngClass",i.DdM(5,H))("icon",l.decrementButtonIcon)("disabled",l.disabled)}}const It=function(C,N,l){return{"p-inputnumber p-component":!0,"p-inputnumber-buttons-stacked":C,"p-inputnumber-buttons-horizontal":N,"p-inputnumber-buttons-vertical":l}},nn={provide:z.JU,useExisting:(0,i.Gpc)(()=>U),multi:!0};let U=(()=>{class C{constructor(l,f){this.el=l,this.cd=f,this.showButtons=!1,this.format=!0,this.buttonLayout="stacked",this.incrementButtonIcon="pi pi-angle-up",this.decrementButtonIcon="pi pi-angle-down",this.readonly=!1,this.step=1,this.allowEmpty=!0,this.mode="decimal",this.useGrouping=!0,this.onInput=new i.vpe,this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.onKeyDown=new i.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.groupChar="",this.prefixChar="",this.suffixChar=""}get disabled(){return this._disabled}set disabled(l){l&&(this.focused=!1),this._disabled=l,this.timer&&this.clearTimer()}ngOnChanges(l){["locale","localeMatcher","mode","currency","currencyDisplay","useGrouping","minFractionDigits","maxFractionDigits","prefix","suffix"].some(y=>!!l[y])&&this.updateConstructParser()}ngOnInit(){this.constructParser(),this.initialized=!0}getOptions(){return{localeMatcher:this.localeMatcher,style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,useGrouping:this.useGrouping,minimumFractionDigits:this.minFractionDigits,maximumFractionDigits:this.maxFractionDigits}}constructParser(){this.numberFormat=new Intl.NumberFormat(this.locale,this.getOptions());const l=[...new Intl.NumberFormat(this.locale,{useGrouping:!1}).format(9876543210)].reverse(),f=new Map(l.map((y,S)=>[y,S]));this._numeral=new RegExp(`[${l.join("")}]`,"g"),this._group=this.getGroupingExpression(),this._minusSign=this.getMinusSignExpression(),this._currency=this.getCurrencyExpression(),this._decimal=this.getDecimalExpression(),this._suffix=this.getSuffixExpression(),this._prefix=this.getPrefixExpression(),this._index=y=>f.get(y)}updateConstructParser(){this.initialized&&this.constructParser()}escapeRegExp(l){return l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}getDecimalExpression(){const l=new Intl.NumberFormat(this.locale,Object.assign(Object.assign({},this.getOptions()),{useGrouping:!1}));return new RegExp(`[${l.format(1.1).replace(this._currency,"").trim().replace(this._numeral,"")}]`,"g")}getGroupingExpression(){const l=new Intl.NumberFormat(this.locale,{useGrouping:!0});return this.groupChar=l.format(1e6).trim().replace(this._numeral,"").charAt(0),new RegExp(`[${this.groupChar}]`,"g")}getMinusSignExpression(){const l=new Intl.NumberFormat(this.locale,{useGrouping:!1});return new RegExp(`[${l.format(-1).trim().replace(this._numeral,"")}]`,"g")}getCurrencyExpression(){if(this.currency){const l=new Intl.NumberFormat(this.locale,{style:"currency",currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});return new RegExp(`[${l.format(1).replace(/\s/g,"").replace(this._numeral,"").replace(this._group,"")}]`,"g")}return new RegExp("[]","g")}getPrefixExpression(){if(this.prefix)this.prefixChar=this.prefix;else{const l=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay});this.prefixChar=l.format(1).split("1")[0]}return new RegExp(`${this.escapeRegExp(this.prefixChar||"")}`,"g")}getSuffixExpression(){if(this.suffix)this.suffixChar=this.suffix;else{const l=new Intl.NumberFormat(this.locale,{style:this.mode,currency:this.currency,currencyDisplay:this.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0});this.suffixChar=l.format(1).split("1")[1]}return new RegExp(`${this.escapeRegExp(this.suffixChar||"")}`,"g")}formatValue(l){if(null!=l){if("-"===l)return l;if(this.format){let y=new Intl.NumberFormat(this.locale,this.getOptions()).format(l);return this.prefix&&(y=this.prefix+y),this.suffix&&(y+=this.suffix),y}return l.toString()}return""}parseValue(l){let f=l.replace(this._suffix,"").replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").replace(this._group,"").replace(this._minusSign,"-").replace(this._decimal,".").replace(this._numeral,this._index);if(f){if("-"===f)return f;let y=+f;return isNaN(y)?null:y}return null}repeat(l,f,y){if(this.readonly)return;let S=f||500;this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(l,40,y)},S),this.spin(l,y)}spin(l,f){let y=this.step*f,S=this.parseValue(this.input.nativeElement.value)||0,le=this.validateValue(S+y);this.maxlength&&this.maxlength<this.formatValue(le).length||(this.updateInput(le,null,"spin",null),this.updateModel(l,le),this.handleOnInput(l,S,le))}onUpButtonMouseDown(l){this.input.nativeElement.focus(),this.repeat(l,null,1),l.preventDefault()}onUpButtonMouseUp(){this.clearTimer()}onUpButtonMouseLeave(){this.clearTimer()}onUpButtonKeyDown(l){(32===l.keyCode||13===l.keyCode)&&this.repeat(l,null,1)}onUpButtonKeyUp(){this.clearTimer()}onDownButtonMouseDown(l){this.input.nativeElement.focus(),this.repeat(l,null,-1),l.preventDefault()}onDownButtonMouseUp(){this.clearTimer()}onDownButtonMouseLeave(){this.clearTimer()}onDownButtonKeyUp(){this.clearTimer()}onDownButtonKeyDown(l){(32===l.keyCode||13===l.keyCode)&&this.repeat(l,null,-1)}onUserInput(l){this.readonly||(this.isSpecialChar&&(l.target.value=this.lastValue),this.isSpecialChar=!1)}onInputKeyDown(l){if(this.readonly)return;if(this.lastValue=l.target.value,l.shiftKey||l.altKey)return void(this.isSpecialChar=!0);let f=l.target.selectionStart,y=l.target.selectionEnd,S=l.target.value,le=null;switch(l.altKey&&l.preventDefault(),l.which){case 38:this.spin(l,1),l.preventDefault();break;case 40:this.spin(l,-1),l.preventDefault();break;case 37:this.isNumeralChar(S.charAt(f-1))||l.preventDefault();break;case 39:this.isNumeralChar(S.charAt(f))||l.preventDefault();break;case 13:le=this.validateValue(this.parseValue(this.input.nativeElement.value)),this.input.nativeElement.value=this.formatValue(le),this.input.nativeElement.setAttribute("aria-valuenow",le),this.updateModel(l,le);break;case 8:if(l.preventDefault(),f===y){const Te=S.charAt(f-1),{decimalCharIndex:Fe,decimalCharIndexWithoutPrefix:vt}=this.getDecimalCharIndexes(S);if(this.isNumeralChar(Te)){const Lt=this.getDecimalLength(S);if(this._group.test(Te))this._group.lastIndex=0,le=S.slice(0,f-2)+S.slice(f-1);else if(this._decimal.test(Te))this._decimal.lastIndex=0,Lt?this.input.nativeElement.setSelectionRange(f-1,f-1):le=S.slice(0,f-1)+S.slice(f);else if(Fe>0&&f>Fe){const pn=this.isDecimalMode()&&(this.minFractionDigits||0)<Lt?"":"0";le=S.slice(0,f-1)+pn+S.slice(f)}else 1===vt?(le=S.slice(0,f-1)+"0"+S.slice(f),le=this.parseValue(le)>0?le:""):le=S.slice(0,f-1)+S.slice(f)}this.updateValue(l,le,null,"delete-single")}else le=this.deleteRange(S,f,y),this.updateValue(l,le,null,"delete-range");break;case 46:if(l.preventDefault(),f===y){const Te=S.charAt(f),{decimalCharIndex:Fe,decimalCharIndexWithoutPrefix:vt}=this.getDecimalCharIndexes(S);if(this.isNumeralChar(Te)){const Lt=this.getDecimalLength(S);if(this._group.test(Te))this._group.lastIndex=0,le=S.slice(0,f)+S.slice(f+2);else if(this._decimal.test(Te))this._decimal.lastIndex=0,Lt?this.input.nativeElement.setSelectionRange(f+1,f+1):le=S.slice(0,f)+S.slice(f+1);else if(Fe>0&&f>Fe){const pn=this.isDecimalMode()&&(this.minFractionDigits||0)<Lt?"":"0";le=S.slice(0,f)+pn+S.slice(f+1)}else 1===vt?(le=S.slice(0,f)+"0"+S.slice(f+1),le=this.parseValue(le)>0?le:""):le=S.slice(0,f)+S.slice(f+1)}this.updateValue(l,le,null,"delete-back-single")}else le=this.deleteRange(S,f,y),this.updateValue(l,le,null,"delete-range")}this.onKeyDown.emit(l)}onInputKeyPress(l){if(this.readonly)return;l.preventDefault();let f=l.which||l.keyCode,y=String.fromCharCode(f);const S=this.isDecimalSign(y),le=this.isMinusSign(y);(48<=f&&f<=57||le||S)&&this.insert(l,y,{isDecimalSign:S,isMinusSign:le})}onPaste(l){if(!this.disabled&&!this.readonly){l.preventDefault();let f=(l.clipboardData||window.clipboardData).getData("Text");if(f){let y=this.parseValue(f);null!=y&&this.insert(l,y.toString())}}}allowMinusSign(){return null==this.min||this.min<0}isMinusSign(l){return!(!this._minusSign.test(l)&&"-"!==l||(this._minusSign.lastIndex=0,0))}isDecimalSign(l){return!!this._decimal.test(l)&&(this._decimal.lastIndex=0,!0)}isDecimalMode(){return"decimal"===this.mode}getDecimalCharIndexes(l){let f=l.search(this._decimal);this._decimal.lastIndex=0;const S=l.replace(this._prefix,"").trim().replace(/\s/g,"").replace(this._currency,"").search(this._decimal);return this._decimal.lastIndex=0,{decimalCharIndex:f,decimalCharIndexWithoutPrefix:S}}getCharIndexes(l){const f=l.search(this._decimal);this._decimal.lastIndex=0;const y=l.search(this._minusSign);this._minusSign.lastIndex=0;const S=l.search(this._suffix);this._suffix.lastIndex=0;const le=l.search(this._currency);return this._currency.lastIndex=0,{decimalCharIndex:f,minusCharIndex:y,suffixCharIndex:S,currencyCharIndex:le}}insert(l,f,y={isDecimalSign:!1,isMinusSign:!1}){const S=f.search(this._minusSign);if(this._minusSign.lastIndex=0,!this.allowMinusSign()&&-1!==S)return;let le=this.input.nativeElement.selectionStart,Te=this.input.nativeElement.selectionEnd,Fe=this.input.nativeElement.value.trim();const{decimalCharIndex:vt,minusCharIndex:Lt,suffixCharIndex:pn,currencyCharIndex:ti}=this.getCharIndexes(Fe);let Mn;if(y.isMinusSign)0===le&&(Mn=Fe,(-1===Lt||0!==Te)&&(Mn=this.insertText(Fe,f,0,Te)),this.updateValue(l,Mn,f,"insert"));else if(y.isDecimalSign)vt>0&&le===vt?this.updateValue(l,Fe,f,"insert"):(vt>le&&vt<Te||-1===vt&&this.maxFractionDigits)&&(Mn=this.insertText(Fe,f,le,Te),this.updateValue(l,Mn,f,"insert"));else{const Ri=this.numberFormat.resolvedOptions().maximumFractionDigits,Pi=le!==Te?"range-insert":"insert";if(vt>0&&le>vt){if(le+f.length-(vt+1)<=Ri){const hr=ti>=le?ti-1:pn>=le?pn:Fe.length;Mn=Fe.slice(0,le)+f+Fe.slice(le+f.length,hr)+Fe.slice(hr),this.updateValue(l,Mn,f,Pi)}}else Mn=this.insertText(Fe,f,le,Te),this.updateValue(l,Mn,f,Pi)}}insertText(l,f,y,S){if(2===("."===f?f:f.split(".")).length){const Te=l.slice(y,S).search(this._decimal);return this._decimal.lastIndex=0,Te>0?l.slice(0,y)+this.formatValue(f)+l.slice(S):l||this.formatValue(f)}return S-y===l.length?this.formatValue(f):0===y?f+l.slice(S):S===l.length?l.slice(0,y)+f:l.slice(0,y)+f+l.slice(S)}deleteRange(l,f,y){let S;return S=y-f===l.length?"":0===f?l.slice(y):y===l.length?l.slice(0,f):l.slice(0,f)+l.slice(y),S}initCursor(){let l=this.input.nativeElement.selectionStart,f=this.input.nativeElement.value,y=f.length,S=null,le=(this.prefixChar||"").length;f=f.replace(this._prefix,""),l-=le;let Te=f.charAt(l);if(this.isNumeralChar(Te))return l+le;let Fe=l-1;for(;Fe>=0;){if(Te=f.charAt(Fe),this.isNumeralChar(Te)){S=Fe+le;break}Fe--}if(null!==S)this.input.nativeElement.setSelectionRange(S+1,S+1);else{for(Fe=l;Fe<y;){if(Te=f.charAt(Fe),this.isNumeralChar(Te)){S=Fe+le;break}Fe++}null!==S&&this.input.nativeElement.setSelectionRange(S,S)}return S||0}onInputClick(){this.readonly||this.initCursor()}isNumeralChar(l){return!(1!==l.length||!(this._numeral.test(l)||this._decimal.test(l)||this._group.test(l)||this._minusSign.test(l))||(this.resetRegex(),0))}resetRegex(){this._numeral.lastIndex=0,this._decimal.lastIndex=0,this._group.lastIndex=0,this._minusSign.lastIndex=0}updateValue(l,f,y,S){let le=this.input.nativeElement.value,Te=null;null!=f&&(Te=this.parseValue(f),Te=Te||this.allowEmpty?Te:0,this.updateInput(Te,y,S,f),this.handleOnInput(l,le,Te))}handleOnInput(l,f,y){this.isValueChanged(f,y)&&this.onInput.emit({originalEvent:l,value:y})}isValueChanged(l,f){return null===f&&null!==l||null!=f&&f!==("string"==typeof l?this.parseValue(l):l)}validateValue(l){return"-"===l||null==l?null:null!=this.min&&l<this.min?this.min:null!=this.max&&l>this.max?this.max:l}updateInput(l,f,y,S){f=f||"";let le=this.input.nativeElement.value,Te=this.formatValue(l),Fe=le.length;if(Te!==S&&(Te=this.concatValues(Te,S)),0===Fe){this.input.nativeElement.value=Te,this.input.nativeElement.setSelectionRange(0,0);const Lt=this.initCursor()+f.length;this.input.nativeElement.setSelectionRange(Lt,Lt)}else{let vt=this.input.nativeElement.selectionStart,Lt=this.input.nativeElement.selectionEnd;if(this.maxlength&&this.maxlength<Te.length)return;this.input.nativeElement.value=Te;let pn=Te.length;if("range-insert"===y){const ti=this.parseValue((le||"").slice(0,vt)),Ri=(null!==ti?ti.toString():"").split("").join(`(${this.groupChar})?`),Pi=new RegExp(Ri,"g");Pi.test(Te);const hr=f.split("").join(`(${this.groupChar})?`),Il=new RegExp(hr,"g");Il.test(Te.slice(Pi.lastIndex)),Lt=Pi.lastIndex+Il.lastIndex,this.input.nativeElement.setSelectionRange(Lt,Lt)}else if(pn===Fe)"insert"===y||"delete-back-single"===y?this.input.nativeElement.setSelectionRange(Lt+1,Lt+1):"delete-single"===y?this.input.nativeElement.setSelectionRange(Lt-1,Lt-1):("delete-range"===y||"spin"===y)&&this.input.nativeElement.setSelectionRange(Lt,Lt);else if("delete-back-single"===y){let ti=le.charAt(Lt-1),Mn=le.charAt(Lt),Ri=Fe-pn,Pi=this._group.test(Mn);Pi&&1===Ri?Lt+=1:!Pi&&this.isNumeralChar(ti)&&(Lt+=-1*Ri+1),this._group.lastIndex=0,this.input.nativeElement.setSelectionRange(Lt,Lt)}else if("-"===le&&"insert"===y){this.input.nativeElement.setSelectionRange(0,0);const Mn=this.initCursor()+f.length+1;this.input.nativeElement.setSelectionRange(Mn,Mn)}else Lt+=pn-Fe,this.input.nativeElement.setSelectionRange(Lt,Lt)}this.input.nativeElement.setAttribute("aria-valuenow",l)}concatValues(l,f){if(l&&f){let y=f.search(this._decimal);return this._decimal.lastIndex=0,-1!==y?l.split(this._decimal)[0]+f.slice(y):l}return l}getDecimalLength(l){if(l){const f=l.split(this._decimal);if(2===f.length)return f[1].replace(this._suffix,"").trim().replace(/\s/g,"").replace(this._currency,"").length}return 0}onInputFocus(l){this.focused=!0,this.onFocus.emit(l)}onInputBlur(l){this.focused=!1;let f=this.validateValue(this.parseValue(this.input.nativeElement.value));this.input.nativeElement.value=this.formatValue(f),this.input.nativeElement.setAttribute("aria-valuenow",f),this.updateModel(l,f),this.onBlur.emit(l)}formattedValue(){return this.formatValue(this.value||this.allowEmpty?this.value:0)}updateModel(l,f){this.value!==f&&(this.value=f,this.onModelChange(f)),this.onModelTouched()}writeValue(l){this.value=l,this.cd.markForCheck()}registerOnChange(l){this.onModelChange=l}registerOnTouched(l){this.onModelTouched=l}setDisabledState(l){this.disabled=l,this.cd.markForCheck()}get filled(){return null!=this.value&&this.value.toString().length>0}clearTimer(){this.timer&&clearInterval(this.timer)}getFormatter(){return this.numberFormat}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(i.SBq),i.Y36(i.sBO))},C.\u0275cmp=i.Xpm({type:C,selectors:[["p-inputNumber"]],viewQuery:function(l,f){if(1&l&&i.Gf(B,5),2&l){let y;i.iGM(y=i.CRH())&&(f.input=y.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(l,f){2&l&&i.ekj("p-inputwrapper-filled",f.filled)("p-inputwrapper-focus",f.focused)},inputs:{showButtons:"showButtons",format:"format",buttonLayout:"buttonLayout",inputId:"inputId",styleClass:"styleClass",style:"style",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",name:"name",required:"required",autocomplete:"autocomplete",min:"min",max:"max",incrementButtonClass:"incrementButtonClass",decrementButtonClass:"decrementButtonClass",incrementButtonIcon:"incrementButtonIcon",decrementButtonIcon:"decrementButtonIcon",readonly:"readonly",step:"step",allowEmpty:"allowEmpty",locale:"locale",localeMatcher:"localeMatcher",mode:"mode",currency:"currency",currencyDisplay:"currencyDisplay",useGrouping:"useGrouping",minFractionDigits:"minFractionDigits",maxFractionDigits:"maxFractionDigits",prefix:"prefix",suffix:"suffix",inputStyle:"inputStyle",inputStyleClass:"inputStyleClass",disabled:"disabled"},outputs:{onInput:"onInput",onFocus:"onFocus",onBlur:"onBlur",onKeyDown:"onKeyDown"},features:[i._Bn([nn]),i.TTD],decls:6,vars:31,consts:[[3,"ngClass","ngStyle"],["pInputText","","inputmode","decimal",3,"ngClass","ngStyle","value","disabled","readonly","input","keydown","keypress","paste","click","focus","blur"],["input",""],["class","p-inputnumber-button-group",4,"ngIf"],["type","button","pButton","",3,"ngClass","class","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup",4,"ngIf"],[1,"p-inputnumber-button-group"],["type","button","pButton","",3,"ngClass","icon","disabled","mousedown","mouseup","mouseleave","keydown","keyup"]],template:function(l,f){1&l&&(i.TgZ(0,"span",0),i.TgZ(1,"input",1,2),i.NdJ("input",function(S){return f.onUserInput(S)})("keydown",function(S){return f.onInputKeyDown(S)})("keypress",function(S){return f.onInputKeyPress(S)})("paste",function(S){return f.onPaste(S)})("click",function(){return f.onInputClick()})("focus",function(S){return f.onInputFocus(S)})("blur",function(S){return f.onInputBlur(S)}),i.qZA(),i.YNc(3,ue,3,12,"span",3),i.YNc(4,xe,1,6,"button",4),i.YNc(5,lt,1,6,"button",4),i.qZA()),2&l&&(i.Tol(f.styleClass),i.Q6J("ngClass",i.kEZ(27,It,f.showButtons&&"stacked"===f.buttonLayout,f.showButtons&&"horizontal"===f.buttonLayout,f.showButtons&&"vertical"===f.buttonLayout))("ngStyle",f.style),i.xp6(1),i.Tol(f.inputStyleClass),i.Q6J("ngClass","p-inputnumber-input")("ngStyle",f.inputStyle)("value",f.formattedValue())("disabled",f.disabled)("readonly",f.readonly),i.uIk("placeholder",f.placeholder)("title",f.title)("id",f.inputId)("size",f.size)("name",f.name)("autocomplete",f.autocomplete)("maxlength",f.maxlength)("tabindex",f.tabindex)("aria-label",f.ariaLabel)("aria-required",f.ariaRequired)("required",f.required)("aria-valuemin",f.min)("aria-valuemax",f.max),i.xp6(2),i.Q6J("ngIf",f.showButtons&&"stacked"===f.buttonLayout),i.xp6(1),i.Q6J("ngIf",f.showButtons&&"stacked"!==f.buttonLayout),i.xp6(1),i.Q6J("ngIf",f.showButtons&&"stacked"!==f.buttonLayout))},directives:[v.mk,v.PC,Ts.o,v.O5,Fi.Hq],styles:["p-inputnumber,.p-inputnumber{display:inline-flex}.p-inputnumber-button{display:flex;align-items:center;justify-content:center;flex:0 0 auto}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label{display:none}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up{border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-input{border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down{border-top-left-radius:0;border-top-right-radius:0;border-bottom-left-radius:0;padding:0}.p-inputnumber-buttons-stacked .p-inputnumber-button-group{display:flex;flex-direction:column}.p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button{flex:1 1 auto}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up{order:3;border-top-left-radius:0;border-bottom-left-radius:0}.p-inputnumber-buttons-horizontal .p-inputnumber-input{order:2;border-radius:0}.p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down{order:1;border-top-right-radius:0;border-bottom-right-radius:0}.p-inputnumber-buttons-vertical{flex-direction:column}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up{order:1;border-bottom-left-radius:0;border-bottom-right-radius:0;width:100%}.p-inputnumber-buttons-vertical .p-inputnumber-input{order:2;border-radius:0;text-align:center}.p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down{order:3;border-top-left-radius:0;border-top-right-radius:0;width:100%}.p-inputnumber-input{flex:1 1 auto}.p-fluid p-inputnumber,.p-fluid .p-inputnumber{width:100%}.p-fluid .p-inputnumber .p-inputnumber-input{width:1%}.p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input{width:100%}\n"],encapsulation:2,changeDetection:0}),C})(),L=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({imports:[[v.ez,Ts.j,Fi.hJ]]}),C})();function O(C,N){1&C&&i.GkF(0)}const ne=function(C){return{$implicit:C}};function et(C,N){if(1&C&&(i.TgZ(0,"div",15),i.YNc(1,O,1,0,"ng-container",16),i.qZA()),2&C){const l=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",l.templateLeft)("ngTemplateOutletContext",i.VKq(2,ne,l.paginatorState))}}function Nt(C,N){if(1&C&&(i.TgZ(0,"span",17),i._uU(1),i.qZA()),2&C){const l=i.oxw(2);i.xp6(1),i.Oqu(l.currentPageReport)}}const gn=function(C){return{"p-disabled":C}};function Kt(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"button",18),i.NdJ("click",function(y){return i.CHM(l),i.oxw(2).changePageToFirst(y)}),i._UZ(1,"span",19),i.qZA()}if(2&C){const l=i.oxw(2);i.Q6J("disabled",l.isFirstPage()||l.empty())("ngClass",i.VKq(2,gn,l.isFirstPage()||l.empty()))}}const wi=function(C){return{"p-highlight":C}};function Nr(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"button",22),i.NdJ("click",function(y){const le=i.CHM(l).$implicit;return i.oxw(3).onPageLinkClick(y,le-1)}),i._uU(1),i.qZA()}if(2&C){const l=N.$implicit,f=i.oxw(3);i.Q6J("ngClass",i.VKq(2,wi,l-1==f.getPage())),i.xp6(1),i.Oqu(l)}}function Jr(C,N){if(1&C&&(i.TgZ(0,"span",20),i.YNc(1,Nr,2,4,"button",21),i.qZA()),2&C){const l=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",l.pageLinks)}}function Qs(C,N){if(1&C&&i._uU(0),2&C){const l=i.oxw(3);i.Oqu(l.currentPageReport)}}function ds(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"p-dropdown",23),i.NdJ("onChange",function(y){return i.CHM(l),i.oxw(2).onPageDropdownChange(y)}),i.YNc(1,Qs,1,1,"ng-template",24),i.qZA()}if(2&C){const l=i.oxw(2);i.Q6J("options",l.pageItems)("ngModel",l.getPage())("disabled",l.empty())("appendTo",l.dropdownAppendTo)("scrollHeight",l.dropdownScrollHeight)}}function Ao(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"button",25),i.NdJ("click",function(y){return i.CHM(l),i.oxw(2).changePageToLast(y)}),i._UZ(1,"span",26),i.qZA()}if(2&C){const l=i.oxw(2);i.Q6J("disabled",l.isLastPage()||l.empty())("ngClass",i.VKq(2,gn,l.isLastPage()||l.empty()))}}function ll(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"p-inputNumber",27),i.NdJ("ngModelChange",function(y){return i.CHM(l),i.oxw(2).changePage(y-1)}),i.qZA()}if(2&C){const l=i.oxw(2);i.Q6J("ngModel",l.currentPage())("disabled",l.empty())}}function St(C,N){1&C&&i.GkF(0)}function qn(C,N){if(1&C&&i.YNc(0,St,1,0,"ng-container",16),2&C){const l=N.$implicit,f=i.oxw(4);i.Q6J("ngTemplateOutlet",f.dropdownItemTemplate)("ngTemplateOutletContext",i.VKq(2,ne,l))}}function ha(C,N){1&C&&(i.ynx(0),i.YNc(1,qn,1,4,"ng-template",30),i.BQk())}function Ai(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"p-dropdown",28),i.NdJ("ngModelChange",function(y){return i.CHM(l),i.oxw(2).rows=y})("onChange",function(y){return i.CHM(l),i.oxw(2).onRppChange(y)}),i.YNc(1,ha,2,0,"ng-container",29),i.qZA()}if(2&C){const l=i.oxw(2);i.Q6J("options",l.rowsPerPageItems)("ngModel",l.rows)("disabled",l.empty())("appendTo",l.dropdownAppendTo)("scrollHeight",l.dropdownScrollHeight),i.xp6(1),i.Q6J("ngIf",l.dropdownItemTemplate)}}function Mo(C,N){1&C&&i.GkF(0)}function Vs(C,N){if(1&C&&(i.TgZ(0,"div",31),i.YNc(1,Mo,1,0,"ng-container",16),i.qZA()),2&C){const l=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",l.templateRight)("ngTemplateOutletContext",i.VKq(2,ne,l.paginatorState))}}function hs(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"div",1),i.YNc(1,et,2,4,"div",2),i.YNc(2,Nt,2,1,"span",3),i.YNc(3,Kt,2,4,"button",4),i.TgZ(4,"button",5),i.NdJ("click",function(y){return i.CHM(l),i.oxw().changePageToPrev(y)}),i._UZ(5,"span",6),i.qZA(),i.YNc(6,Jr,2,1,"span",7),i.YNc(7,ds,2,5,"p-dropdown",8),i.TgZ(8,"button",9),i.NdJ("click",function(y){return i.CHM(l),i.oxw().changePageToNext(y)}),i._UZ(9,"span",10),i.qZA(),i.YNc(10,Ao,2,4,"button",11),i.YNc(11,ll,1,2,"p-inputNumber",12),i.YNc(12,Ai,2,6,"p-dropdown",13),i.YNc(13,Vs,2,4,"div",14),i.qZA()}if(2&C){const l=i.oxw();i.Tol(l.styleClass),i.Q6J("ngStyle",l.style)("ngClass","p-paginator p-component"),i.xp6(1),i.Q6J("ngIf",l.templateLeft),i.xp6(1),i.Q6J("ngIf",l.showCurrentPageReport),i.xp6(1),i.Q6J("ngIf",l.showFirstLastIcon),i.xp6(1),i.Q6J("disabled",l.isFirstPage()||l.empty())("ngClass",i.VKq(17,gn,l.isFirstPage()||l.empty())),i.xp6(2),i.Q6J("ngIf",l.showPageLinks),i.xp6(1),i.Q6J("ngIf",l.showJumpToPageDropdown),i.xp6(1),i.Q6J("disabled",l.isLastPage()||l.empty())("ngClass",i.VKq(19,gn,l.isLastPage()||l.empty())),i.xp6(2),i.Q6J("ngIf",l.showFirstLastIcon),i.xp6(1),i.Q6J("ngIf",l.showJumpToPageInput),i.xp6(1),i.Q6J("ngIf",l.rowsPerPageOptions),i.xp6(1),i.Q6J("ngIf",l.templateRight)}}let Na=(()=>{class C{constructor(l){this.cd=l,this.pageLinkSize=5,this.onPageChange=new i.vpe,this.alwaysShow=!0,this.dropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.totalRecords=0,this.rows=0,this.showPageLinks=!0,this._first=0,this._page=0}ngOnInit(){this.updatePaginatorState()}ngOnChanges(l){l.totalRecords&&(this.updatePageLinks(),this.updatePaginatorState(),this.updateFirst(),this.updateRowsPerPageOptions()),l.first&&(this._first=l.first.currentValue,this.updatePageLinks(),this.updatePaginatorState()),l.rows&&(this.updatePageLinks(),this.updatePaginatorState()),l.rowsPerPageOptions&&this.updateRowsPerPageOptions()}get first(){return this._first}set first(l){this._first=l}updateRowsPerPageOptions(){if(this.rowsPerPageOptions){this.rowsPerPageItems=[];for(let l of this.rowsPerPageOptions)"object"==typeof l&&l.showAll?this.rowsPerPageItems.unshift({label:l.showAll,value:this.totalRecords}):this.rowsPerPageItems.push({label:String(l),value:l})}}isFirstPage(){return 0===this.getPage()}isLastPage(){return this.getPage()===this.getPageCount()-1}getPageCount(){return Math.ceil(this.totalRecords/this.rows)}calculatePageLinkBoundaries(){let l=this.getPageCount(),f=Math.min(this.pageLinkSize,l),y=Math.max(0,Math.ceil(this.getPage()-f/2)),S=Math.min(l-1,y+f-1);return y=Math.max(0,y-(this.pageLinkSize-(S-y+1))),[y,S]}updatePageLinks(){this.pageLinks=[];let l=this.calculatePageLinkBoundaries(),y=l[1];for(let S=l[0];S<=y;S++)this.pageLinks.push(S+1);if(this.showJumpToPageDropdown){this.pageItems=[];for(let S=0;S<this.getPageCount();S++)this.pageItems.push({label:String(S+1),value:S})}}changePage(l){var f=this.getPageCount();if(l>=0&&l<f){this._first=this.rows*l;var y={page:l,first:this.first,rows:this.rows,pageCount:f};this.updatePageLinks(),this.onPageChange.emit(y),this.updatePaginatorState()}}updateFirst(){const l=this.getPage();l>0&&this.totalRecords&&this.first>=this.totalRecords&&Promise.resolve(null).then(()=>this.changePage(l-1))}getPage(){return Math.floor(this.first/this.rows)}changePageToFirst(l){this.isFirstPage()||this.changePage(0),l.preventDefault()}changePageToPrev(l){this.changePage(this.getPage()-1),l.preventDefault()}changePageToNext(l){this.changePage(this.getPage()+1),l.preventDefault()}changePageToLast(l){this.isLastPage()||this.changePage(this.getPageCount()-1),l.preventDefault()}onPageLinkClick(l,f){this.changePage(f),l.preventDefault()}onRppChange(l){this.changePage(this.getPage())}onPageDropdownChange(l){this.changePage(l.value)}updatePaginatorState(){this.paginatorState={page:this.getPage(),pageCount:this.getPageCount(),rows:this.rows,first:this.first,totalRecords:this.totalRecords}}empty(){return 0===this.getPageCount()}currentPage(){return this.getPageCount()>0?this.getPage()+1:0}get currentPageReport(){return this.currentPageReportTemplate.replace("{currentPage}",String(this.currentPage())).replace("{totalPages}",String(this.getPageCount())).replace("{first}",String(this.totalRecords>0?this._first+1:0)).replace("{last}",String(Math.min(this._first+this.rows,this.totalRecords))).replace("{rows}",String(this.rows)).replace("{totalRecords}",String(this.totalRecords))}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(i.sBO))},C.\u0275cmp=i.Xpm({type:C,selectors:[["p-paginator"]],hostAttrs:[1,"p-element"],inputs:{pageLinkSize:"pageLinkSize",style:"style",styleClass:"styleClass",alwaysShow:"alwaysShow",templateLeft:"templateLeft",templateRight:"templateRight",dropdownAppendTo:"dropdownAppendTo",dropdownScrollHeight:"dropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showFirstLastIcon:"showFirstLastIcon",totalRecords:"totalRecords",rows:"rows",rowsPerPageOptions:"rowsPerPageOptions",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showPageLinks:"showPageLinks",dropdownItemTemplate:"dropdownItemTemplate",first:"first"},outputs:{onPageChange:"onPageChange"},features:[i.TTD],decls:1,vars:1,consts:[[3,"class","ngStyle","ngClass",4,"ngIf"],[3,"ngStyle","ngClass"],["class","p-paginator-left-content",4,"ngIf"],["class","p-paginator-current",4,"ngIf"],["type","button","pRipple","","class","p-paginator-first p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-prev","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-left"],["class","p-paginator-pages",4,"ngIf"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange",4,"ngIf"],["type","button","pRipple","",1,"p-paginator-next","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-right"],["type","button","pRipple","","class","p-paginator-last p-paginator-element p-link",3,"disabled","ngClass","click",4,"ngIf"],["class","p-paginator-page-input",3,"ngModel","disabled","ngModelChange",4,"ngIf"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange",4,"ngIf"],["class","p-paginator-right-content",4,"ngIf"],[1,"p-paginator-left-content"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-paginator-current"],["type","button","pRipple","",1,"p-paginator-first","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-left"],[1,"p-paginator-pages"],["type","button","class","p-paginator-page p-paginator-element p-link","pRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button","pRipple","",1,"p-paginator-page","p-paginator-element","p-link",3,"ngClass","click"],["styleClass","p-paginator-page-options",3,"options","ngModel","disabled","appendTo","scrollHeight","onChange"],["pTemplate","selectedItem"],["type","button","pRipple","",1,"p-paginator-last","p-paginator-element","p-link",3,"disabled","ngClass","click"],[1,"p-paginator-icon","pi","pi-angle-double-right"],[1,"p-paginator-page-input",3,"ngModel","disabled","ngModelChange"],["styleClass","p-paginator-rpp-options",3,"options","ngModel","disabled","appendTo","scrollHeight","ngModelChange","onChange"],[4,"ngIf"],["pTemplate","item"],[1,"p-paginator-right-content"]],template:function(l,f){1&l&&i.YNc(0,hs,14,21,"div",0),2&l&&i.Q6J("ngIf",!!f.alwaysShow||f.pageLinks&&f.pageLinks.length>1)},directives:[v.O5,v.PC,v.mk,Hi.H,v.tP,v.sg,co,z.JJ,z.On,fe.jx,U],styles:[".p-paginator{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}.p-paginator-left-content{margin-right:auto}.p-paginator-right-content{margin-left:auto}.p-paginator-page,.p-paginator-next,.p-paginator-last,.p-paginator-first,.p-paginator-prev,.p-paginator-current{cursor:pointer;display:inline-flex;align-items:center;justify-content:center;line-height:1;-webkit-user-select:none;user-select:none;overflow:hidden;position:relative}.p-paginator-element:focus{z-index:1;position:relative}\n"],encapsulation:2,changeDetection:0}),C})(),Js=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({imports:[[v.ez,Hn,L,z.u5,fe.m8,Hi.T],Hn,L,z.u5,fe.m8]}),C})();function au(C,N){if(1&C&&i._UZ(0,"span",8),2&C){const l=i.oxw(2).$implicit;i.Tol(l.icon),i.Q6J("ngClass","p-button-icon p-button-icon-left")}}function jr(C,N){if(1&C&&(i.ynx(0),i.YNc(1,au,1,3,"span",6),i.TgZ(2,"span",7),i._uU(3),i.qZA(),i.BQk()),2&C){const l=i.oxw().$implicit,f=i.oxw();i.xp6(1),i.Q6J("ngIf",l.icon),i.xp6(2),i.Oqu(f.getOptionLabel(l))}}function Oo(C,N){1&C&&i.GkF(0)}const ho=function(C,N){return{$implicit:C,index:N}};function sr(C,N){if(1&C&&i.YNc(0,Oo,1,0,"ng-container",9),2&C){const l=i.oxw(),f=l.$implicit,y=l.index,S=i.oxw();i.Q6J("ngTemplateOutlet",S.itemTemplate)("ngTemplateOutletContext",i.WLB(2,ho,f,y))}}const Xs=function(C,N,l){return{"p-highlight":C,"p-disabled":N,"p-button-icon-only":l}};function fa(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"div",2,3),i.NdJ("click",function(y){const S=i.CHM(l),le=S.$implicit,Te=S.index;return i.oxw().onItemClick(y,le,Te)})("keydown.enter",function(y){const S=i.CHM(l),le=S.$implicit,Te=S.index;return i.oxw().onItemClick(y,le,Te)})("blur",function(){return i.CHM(l),i.oxw().onBlur()}),i.YNc(2,jr,4,2,"ng-container",4),i.YNc(3,sr,1,5,"ng-template",null,5,i.W1O),i.qZA()}if(2&C){const l=N.$implicit,f=i.MAs(4),y=i.oxw();i.Tol(l.styleClass),i.Q6J("ngClass",i.kEZ(10,Xs,y.isSelected(l),y.disabled||y.isOptionDisabled(l),l.icon&&!y.getOptionLabel(l))),i.uIk("aria-pressed",y.isSelected(l))("title",l.title)("aria-label",l.label)("tabindex",y.disabled?null:y.tabindex)("aria-labelledby",y.getOptionLabel(l)),i.xp6(2),i.Q6J("ngIf",!y.itemTemplate)("ngIfElse",f)}}const ko={provide:z.JU,useExisting:(0,i.Gpc)(()=>Is),multi:!0};let Is=(()=>{class C{constructor(l){this.cd=l,this.tabindex=0,this.onOptionClick=new i.vpe,this.onChange=new i.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}getOptionLabel(l){return this.optionLabel?Gt.gb.resolveFieldData(l,this.optionLabel):null!=l.label?l.label:l}getOptionValue(l){return this.optionValue?Gt.gb.resolveFieldData(l,this.optionValue):this.optionLabel||void 0===l.value?l:l.value}isOptionDisabled(l){return this.optionDisabled?Gt.gb.resolveFieldData(l,this.optionDisabled):void 0!==l.disabled&&l.disabled}writeValue(l){this.value=l,this.cd.markForCheck()}registerOnChange(l){this.onModelChange=l}registerOnTouched(l){this.onModelTouched=l}setDisabledState(l){this.disabled=l,this.cd.markForCheck()}onItemClick(l,f,y){this.disabled||this.isOptionDisabled(f)||(this.multiple?this.isSelected(f)?this.removeOption(f):this.value=[...this.value||[],this.getOptionValue(f)]:this.value=this.getOptionValue(f),this.onOptionClick.emit({originalEvent:l,option:f,index:y}),this.onModelChange(this.value),this.onChange.emit({originalEvent:l,value:this.value}))}onBlur(){this.onModelTouched()}removeOption(l){this.value=this.value.filter(f=>!Gt.gb.equals(f,this.getOptionValue(l),this.dataKey))}isSelected(l){let f=!1,y=this.getOptionValue(l);if(this.multiple){if(this.value)for(let S of this.value)if(Gt.gb.equals(S,y,this.dataKey)){f=!0;break}}else f=Gt.gb.equals(this.getOptionValue(l),this.value,this.dataKey);return f}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(i.sBO))},C.\u0275cmp=i.Xpm({type:C,selectors:[["p-selectButton"]],contentQueries:function(l,f,y){if(1&l&&i.Suo(y,i.Rgc,5),2&l){let S;i.iGM(S=i.CRH())&&(f.itemTemplate=S.first)}},hostAttrs:[1,"p-element"],inputs:{options:"options",optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",tabindex:"tabindex",multiple:"multiple",style:"style",styleClass:"styleClass",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",dataKey:"dataKey"},outputs:{onOptionClick:"onOptionClick",onChange:"onChange"},features:[i._Bn([ko])],decls:2,vars:5,consts:[["role","group",3,"ngClass","ngStyle"],["class","p-button p-component","role","button","pRipple","",3,"class","ngClass","click","keydown.enter","blur",4,"ngFor","ngForOf"],["role","button","pRipple","",1,"p-button","p-component",3,"ngClass","click","keydown.enter","blur"],["btn",""],[4,"ngIf","ngIfElse"],["customcontent",""],[3,"ngClass","class",4,"ngIf"],[1,"p-button-label"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(l,f){1&l&&(i.TgZ(0,"div",0),i.YNc(1,fa,5,14,"div",1),i.qZA()),2&l&&(i.Tol(f.styleClass),i.Q6J("ngClass","p-selectbutton p-buttonset p-component")("ngStyle",f.style),i.xp6(1),i.Q6J("ngForOf",f.options))},directives:[v.mk,v.PC,v.sg,Hi.H,v.O5,v.tP],styles:[".p-button{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label{flex:1 1 auto}.p-button-icon-right{order:1}.p-button:disabled{cursor:default}.p-button-icon-only{justify-content:center}.p-button-icon-only .p-button-label{visibility:hidden;width:0;flex:0 0 auto}.p-button-vertical{flex-direction:column}.p-button-icon-bottom{order:2}.p-buttonset .p-button{margin:0}.p-buttonset .p-button:not(:last-child){border-right:0 none}.p-buttonset .p-button:not(:first-of-type):not(:last-of-type){border-radius:0}.p-buttonset .p-button:first-of-type{border-top-right-radius:0;border-bottom-right-radius:0}.p-buttonset .p-button:last-of-type{border-top-left-radius:0;border-bottom-left-radius:0}.p-buttonset .p-button:focus{position:relative;z-index:1}.p-button-label{transition:all .2s}\n"],encapsulation:2,changeDetection:0}),C})(),ul=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({imports:[[v.ez,Hi.T]]}),C})();const $o=function(C,N,l){return{"p-checkbox-label-active":C,"p-disabled":N,"p-checkbox-label-focus":l}};function pa(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"label",7),i.NdJ("click",function(y){i.CHM(l);const S=i.oxw(),le=i.MAs(3);return S.onClick(y,le)}),i._uU(1),i.qZA()}if(2&C){const l=i.oxw();i.Q6J("ngClass",i.kEZ(3,$o,null!=l.value,l.disabled,l.focused)),i.uIk("for",l.inputId),i.xp6(1),i.Oqu(l.label)}}const cl=function(C,N){return{"p-checkbox p-component":!0,"p-checkbox-disabled":C,"p-checkbox-focused":N}},fo=function(C,N,l){return{"p-highlight":C,"p-disabled":N,"p-focus":l}},Fa={provide:z.JU,useExisting:(0,i.Gpc)(()=>eo),multi:!0};let eo=(()=>{class C{constructor(l){this.cd=l,this.checkboxTrueIcon="pi pi-check",this.checkboxFalseIcon="pi pi-times",this.onChange=new i.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(l,f){!this.disabled&&!this.readonly&&(this.toggle(l),this.focused=!0,f.focus())}onKeydown(l){32==l.keyCode&&l.preventDefault()}onKeyup(l){32==l.keyCode&&!this.readonly&&(this.toggle(l),l.preventDefault())}toggle(l){null==this.value||null==this.value?this.value=!0:1==this.value?this.value=!1:0==this.value&&(this.value=null),this.onModelChange(this.value),this.onChange.emit({originalEvent:l,value:this.value})}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}registerOnChange(l){this.onModelChange=l}registerOnTouched(l){this.onModelTouched=l}writeValue(l){this.value=l,this.cd.markForCheck()}setDisabledState(l){this.disabled=l,this.cd.markForCheck()}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(i.sBO))},C.\u0275cmp=i.Xpm({type:C,selectors:[["p-triStateCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",name:"name",ariaLabelledBy:"ariaLabelledBy",tabindex:"tabindex",inputId:"inputId",style:"style",styleClass:"styleClass",label:"label",readonly:"readonly",checkboxTrueIcon:"checkboxTrueIcon",checkboxFalseIcon:"checkboxFalseIcon"},outputs:{onChange:"onChange"},features:[i._Bn([Fa])],decls:7,vars:21,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","text","inputmode","none",3,"name","readonly","disabled","keyup","keydown","focus","blur"],["input",""],["role","checkbox",1,"p-checkbox-box",3,"ngClass","click"],[1,"p-checkbox-icon",3,"ngClass"],["class","p-checkbox-label",3,"ngClass","click",4,"ngIf"],[1,"p-checkbox-label",3,"ngClass","click"]],template:function(l,f){if(1&l){const y=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"input",2,3),i.NdJ("keyup",function(le){return f.onKeyup(le)})("keydown",function(le){return f.onKeydown(le)})("focus",function(){return f.onFocus()})("blur",function(){return f.onBlur()}),i.qZA(),i.qZA(),i.TgZ(4,"div",4),i.NdJ("click",function(le){i.CHM(y);const Te=i.MAs(3);return f.onClick(le,Te)}),i._UZ(5,"span",5),i.qZA(),i.qZA(),i.YNc(6,pa,2,7,"label",6)}2&l&&(i.Tol(f.styleClass),i.Q6J("ngStyle",f.style)("ngClass",i.WLB(14,cl,f.disabled,f.focused)),i.xp6(2),i.Q6J("name",f.name)("readonly",f.readonly)("disabled",f.disabled),i.uIk("id",f.inputId)("tabindex",f.tabindex)("aria-labelledby",f.ariaLabelledBy),i.xp6(2),i.Q6J("ngClass",i.kEZ(17,fo,null!=f.value,f.disabled,f.focused)),i.uIk("aria-checked",!0===f.value),i.xp6(1),i.Q6J("ngClass",!0===f.value?f.checkboxTrueIcon:!1===f.value?f.checkboxFalseIcon:""),i.xp6(1),i.Q6J("ngIf",f.label))},directives:[v.PC,v.mk,v.O5],encapsulation:2,changeDetection:0}),C})(),Vu=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({imports:[[v.ez]]}),C})();const Tr=["container"],Ro=["inputfield"],Zo=["contentWrapper"];function ga(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"button",7),i.NdJ("click",function(y){i.CHM(l),i.oxw();const S=i.MAs(1);return i.oxw().onButtonClick(y,S)}),i.qZA()}if(2&C){const l=i.oxw(2);i.Q6J("icon",l.icon)("disabled",l.disabled),i.uIk("aria-label",l.iconAriaLabel)}}function ma(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"input",4,5),i.NdJ("focus",function(y){return i.CHM(l),i.oxw().onInputFocus(y)})("keydown",function(y){return i.CHM(l),i.oxw().onInputKeydown(y)})("click",function(){return i.CHM(l),i.oxw().onInputClick()})("blur",function(y){return i.CHM(l),i.oxw().onInputBlur(y)})("input",function(y){return i.CHM(l),i.oxw().onUserInput(y)}),i.qZA(),i.YNc(2,ga,1,3,"button",6)}if(2&C){const l=i.oxw();i.Tol(l.inputStyleClass),i.Q6J("value",l.inputFieldValue)("readonly",l.readonlyInput)("ngStyle",l.inputStyle)("placeholder",l.placeholder||"")("disabled",l.disabled)("ngClass","p-inputtext p-component"),i.uIk("id",l.inputId)("name",l.name)("required",l.required)("aria-required",l.required)("tabindex",l.tabindex)("inputmode",l.touchUI?"off":null)("aria-labelledby",l.ariaLabelledBy),i.xp6(2),i.Q6J("ngIf",l.showIcon)}}function Pl(C,N){1&C&&i.GkF(0)}function La(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"button",28),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(4).onContainerButtonKeydown(y)})("click",function(y){return i.CHM(l),i.oxw(4).onPrevButtonClick(y)}),i._UZ(1,"span",29),i.qZA()}}function Go(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"button",30),i.NdJ("click",function(y){return i.CHM(l),i.oxw(4).switchToMonthView(y)})("keydown",function(y){return i.CHM(l),i.oxw(4).onContainerButtonKeydown(y)}),i._uU(1),i.qZA()}if(2&C){const l=i.oxw().$implicit,f=i.oxw(3);i.Q6J("disabled",f.switchViewButtonDisabled()),i.xp6(1),i.hij(" ",f.getMonthName(l.month)," ")}}function dl(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"button",31),i.NdJ("click",function(y){return i.CHM(l),i.oxw(4).switchToYearView(y)})("keydown",function(y){return i.CHM(l),i.oxw(4).onContainerButtonKeydown(y)}),i._uU(1),i.qZA()}if(2&C){const l=i.oxw().$implicit,f=i.oxw(3);i.Q6J("disabled",f.switchViewButtonDisabled()),i.xp6(1),i.hij(" ",f.getYear(l)," ")}}function hl(C,N){if(1&C&&(i.ynx(0),i._uU(1),i.BQk()),2&C){const l=i.oxw(5);i.xp6(1),i.AsE("",l.yearPickerValues()[0]," - ",l.yearPickerValues()[l.yearPickerValues().length-1],"")}}function cr(C,N){1&C&&i.GkF(0)}const Bs=function(C){return{$implicit:C}};function Li(C,N){if(1&C&&(i.TgZ(0,"span",32),i.YNc(1,hl,2,2,"ng-container",11),i.YNc(2,cr,1,0,"ng-container",33),i.qZA()),2&C){const l=i.oxw(4);i.xp6(1),i.Q6J("ngIf",!l.decadeTemplate),i.xp6(1),i.Q6J("ngTemplateOutlet",l.decadeTemplate)("ngTemplateOutletContext",i.VKq(3,Bs,l.yearPickerValues))}}function fl(C,N){if(1&C&&(i.TgZ(0,"th",39),i.TgZ(1,"span"),i._uU(2),i.qZA(),i.qZA()),2&C){const l=i.oxw(5);i.xp6(2),i.Oqu(l.getTranslation("weekHeader"))}}function pl(C,N){if(1&C&&(i.TgZ(0,"th",40),i.TgZ(1,"span"),i._uU(2),i.qZA(),i.qZA()),2&C){const l=N.$implicit;i.xp6(2),i.Oqu(l)}}function Ac(C,N){if(1&C&&(i.TgZ(0,"td",43),i.TgZ(1,"span",44),i._uU(2),i.qZA(),i.qZA()),2&C){const l=i.oxw().index,f=i.oxw(2).$implicit;i.xp6(2),i.hij(" ",f.weekNumbers[l]," ")}}function Va(C,N){if(1&C&&(i.ynx(0),i._uU(1),i.BQk()),2&C){const l=i.oxw(2).$implicit;i.xp6(1),i.Oqu(l.day)}}function Bu(C,N){1&C&&i.GkF(0)}const lu=function(C,N){return{"p-highlight":C,"p-disabled":N}};function Po(C,N){if(1&C){const l=i.EpF();i.ynx(0),i.TgZ(1,"span",46),i.NdJ("click",function(y){i.CHM(l);const S=i.oxw().$implicit;return i.oxw(6).onDateSelect(y,S)})("keydown",function(y){i.CHM(l);const S=i.oxw().$implicit,le=i.oxw(3).index;return i.oxw(3).onDateCellKeydown(y,S,le)}),i.YNc(2,Va,2,1,"ng-container",11),i.YNc(3,Bu,1,0,"ng-container",33),i.qZA(),i.BQk()}if(2&C){const l=i.oxw().$implicit,f=i.oxw(6);i.xp6(1),i.Q6J("ngClass",i.WLB(4,lu,f.isSelected(l),!l.selectable)),i.xp6(1),i.Q6J("ngIf",!f.dateTemplate),i.xp6(1),i.Q6J("ngTemplateOutlet",f.dateTemplate)("ngTemplateOutletContext",i.VKq(7,Bs,l))}}const Wo=function(C,N){return{"p-datepicker-other-month":C,"p-datepicker-today":N}};function _a(C,N){if(1&C&&(i.TgZ(0,"td",45),i.YNc(1,Po,4,9,"ng-container",11),i.qZA()),2&C){const l=N.$implicit,f=i.oxw(6);i.Q6J("ngClass",i.WLB(2,Wo,l.otherMonth,l.today)),i.xp6(1),i.Q6J("ngIf",!l.otherMonth||f.showOtherMonths)}}function dr(C,N){if(1&C&&(i.TgZ(0,"tr"),i.YNc(1,Ac,3,1,"td",41),i.YNc(2,_a,2,5,"td",42),i.qZA()),2&C){const l=N.$implicit,f=i.oxw(5);i.xp6(1),i.Q6J("ngIf",f.showWeek),i.xp6(1),i.Q6J("ngForOf",l)}}function Ba(C,N){if(1&C&&(i.TgZ(0,"div",34),i.TgZ(1,"table",35),i.TgZ(2,"thead"),i.TgZ(3,"tr"),i.YNc(4,fl,3,1,"th",36),i.YNc(5,pl,3,1,"th",37),i.qZA(),i.qZA(),i.TgZ(6,"tbody"),i.YNc(7,dr,3,2,"tr",38),i.qZA(),i.qZA(),i.qZA()),2&C){const l=i.oxw().$implicit,f=i.oxw(3);i.xp6(4),i.Q6J("ngIf",f.showWeek),i.xp6(1),i.Q6J("ngForOf",f.weekDays),i.xp6(2),i.Q6J("ngForOf",l.dates)}}function po(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"div",18),i.TgZ(1,"div",19),i.YNc(2,La,2,0,"button",20),i.TgZ(3,"div",21),i.YNc(4,Go,2,2,"button",22),i.YNc(5,dl,2,2,"button",23),i.YNc(6,Li,3,5,"span",24),i.qZA(),i.TgZ(7,"button",25),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(3).onContainerButtonKeydown(y)})("click",function(y){return i.CHM(l),i.oxw(3).onNextButtonClick(y)}),i._UZ(8,"span",26),i.qZA(),i.qZA(),i.YNc(9,Ba,8,3,"div",27),i.qZA()}if(2&C){const l=N.index,f=i.oxw(3);i.xp6(2),i.Q6J("ngIf",0===l),i.xp6(2),i.Q6J("ngIf","date"===f.currentView),i.xp6(1),i.Q6J("ngIf","year"!==f.currentView),i.xp6(1),i.Q6J("ngIf","year"===f.currentView),i.xp6(1),i.Udp("display",1===f.numberOfMonths||l===f.numberOfMonths-1?"inline-flex":"none"),i.xp6(2),i.Q6J("ngIf","date"===f.currentView)}}const Ii=function(C){return{"p-highlight":C}};function Us(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"span",49),i.NdJ("click",function(y){const le=i.CHM(l).index;return i.oxw(4).onMonthSelect(y,le)})("keydown",function(y){const le=i.CHM(l).index;return i.oxw(4).onMonthCellKeydown(y,le)}),i._uU(1),i.qZA()}if(2&C){const l=N.$implicit,f=N.index,y=i.oxw(4);i.Q6J("ngClass",i.VKq(2,Ii,y.isMonthSelected(f))),i.xp6(1),i.hij(" ",l," ")}}function ya(C,N){if(1&C&&(i.TgZ(0,"div",47),i.YNc(1,Us,2,4,"span",48),i.qZA()),2&C){const l=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",l.monthPickerValues())}}function Nl(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"span",52),i.NdJ("click",function(y){const le=i.CHM(l).$implicit;return i.oxw(4).onYearSelect(y,le)})("keydown",function(y){const le=i.CHM(l).$implicit;return i.oxw(4).onYearCellKeydown(y,le)}),i._uU(1),i.qZA()}if(2&C){const l=N.$implicit,f=i.oxw(4);i.Q6J("ngClass",i.VKq(2,Ii,f.isYearSelected(l))),i.xp6(1),i.hij(" ",l," ")}}function va(C,N){if(1&C&&(i.TgZ(0,"div",50),i.YNc(1,Nl,2,4,"span",51),i.qZA()),2&C){const l=i.oxw(3);i.xp6(1),i.Q6J("ngForOf",l.yearPickerValues())}}function No(C,N){if(1&C&&(i.ynx(0),i.TgZ(1,"div",14),i.YNc(2,po,10,7,"div",15),i.qZA(),i.YNc(3,ya,2,1,"div",16),i.YNc(4,va,2,1,"div",17),i.BQk()),2&C){const l=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",l.months),i.xp6(1),i.Q6J("ngIf","month"===l.currentView),i.xp6(1),i.Q6J("ngIf","year"===l.currentView)}}function uu(C,N){1&C&&(i.ynx(0),i._uU(1,"0"),i.BQk())}function to(C,N){1&C&&(i.ynx(0),i._uU(1,"0"),i.BQk())}function cu(C,N){if(1&C&&(i.TgZ(0,"div",58),i.TgZ(1,"span"),i._uU(2),i.qZA(),i.qZA()),2&C){const l=i.oxw(3);i.xp6(2),i.Oqu(l.timeSeparator)}}function du(C,N){1&C&&(i.ynx(0),i._uU(1,"0"),i.BQk())}function Fl(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"div",63),i.TgZ(1,"button",55),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(3).onContainerButtonKeydown(y)})("keydown.enter",function(y){return i.CHM(l),i.oxw(3).incrementSecond(y)})("keydown.space",function(y){return i.CHM(l),i.oxw(3).incrementSecond(y)})("mousedown",function(y){return i.CHM(l),i.oxw(3).onTimePickerElementMouseDown(y,2,1)})("mouseup",function(y){return i.CHM(l),i.oxw(3).onTimePickerElementMouseUp(y)})("keyup.enter",function(y){return i.CHM(l),i.oxw(3).onTimePickerElementMouseUp(y)})("keyup.space",function(y){return i.CHM(l),i.oxw(3).onTimePickerElementMouseUp(y)})("mouseleave",function(){return i.CHM(l),i.oxw(3).onTimePickerElementMouseLeave()}),i._UZ(2,"span",56),i.qZA(),i.TgZ(3,"span"),i.YNc(4,du,2,0,"ng-container",11),i._uU(5),i.qZA(),i.TgZ(6,"button",55),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(3).onContainerButtonKeydown(y)})("keydown.enter",function(y){return i.CHM(l),i.oxw(3).decrementSecond(y)})("keydown.space",function(y){return i.CHM(l),i.oxw(3).decrementSecond(y)})("mousedown",function(y){return i.CHM(l),i.oxw(3).onTimePickerElementMouseDown(y,2,-1)})("mouseup",function(y){return i.CHM(l),i.oxw(3).onTimePickerElementMouseUp(y)})("keyup.enter",function(y){return i.CHM(l),i.oxw(3).onTimePickerElementMouseUp(y)})("keyup.space",function(y){return i.CHM(l),i.oxw(3).onTimePickerElementMouseUp(y)})("mouseleave",function(){return i.CHM(l),i.oxw(3).onTimePickerElementMouseLeave()}),i._UZ(7,"span",57),i.qZA(),i.qZA()}if(2&C){const l=i.oxw(3);i.xp6(4),i.Q6J("ngIf",l.currentSecond<10),i.xp6(1),i.Oqu(l.currentSecond)}}function go(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"div",64),i.TgZ(1,"button",65),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(3).onContainerButtonKeydown(y)})("click",function(y){return i.CHM(l),i.oxw(3).toggleAMPM(y)})("keydown.enter",function(y){return i.CHM(l),i.oxw(3).toggleAMPM(y)}),i._UZ(2,"span",56),i.qZA(),i.TgZ(3,"span"),i._uU(4),i.qZA(),i.TgZ(5,"button",65),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(3).onContainerButtonKeydown(y)})("click",function(y){return i.CHM(l),i.oxw(3).toggleAMPM(y)})("keydown.enter",function(y){return i.CHM(l),i.oxw(3).toggleAMPM(y)}),i._UZ(6,"span",57),i.qZA(),i.qZA()}if(2&C){const l=i.oxw(3);i.xp6(4),i.Oqu(l.pm?"PM":"AM")}}function zr(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"div",53),i.TgZ(1,"div",54),i.TgZ(2,"button",55),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(2).onContainerButtonKeydown(y)})("keydown.enter",function(y){return i.CHM(l),i.oxw(2).incrementHour(y)})("keydown.space",function(y){return i.CHM(l),i.oxw(2).incrementHour(y)})("mousedown",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseDown(y,0,1)})("mouseup",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("keyup.enter",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("keyup.space",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("mouseleave",function(){return i.CHM(l),i.oxw(2).onTimePickerElementMouseLeave()}),i._UZ(3,"span",56),i.qZA(),i.TgZ(4,"span"),i.YNc(5,uu,2,0,"ng-container",11),i._uU(6),i.qZA(),i.TgZ(7,"button",55),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(2).onContainerButtonKeydown(y)})("keydown.enter",function(y){return i.CHM(l),i.oxw(2).decrementHour(y)})("keydown.space",function(y){return i.CHM(l),i.oxw(2).decrementHour(y)})("mousedown",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseDown(y,0,-1)})("mouseup",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("keyup.enter",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("keyup.space",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("mouseleave",function(){return i.CHM(l),i.oxw(2).onTimePickerElementMouseLeave()}),i._UZ(8,"span",57),i.qZA(),i.qZA(),i.TgZ(9,"div",58),i.TgZ(10,"span"),i._uU(11),i.qZA(),i.qZA(),i.TgZ(12,"div",59),i.TgZ(13,"button",55),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(2).onContainerButtonKeydown(y)})("keydown.enter",function(y){return i.CHM(l),i.oxw(2).incrementMinute(y)})("keydown.space",function(y){return i.CHM(l),i.oxw(2).incrementMinute(y)})("mousedown",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseDown(y,1,1)})("mouseup",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("keyup.enter",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("keyup.space",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("mouseleave",function(){return i.CHM(l),i.oxw(2).onTimePickerElementMouseLeave()}),i._UZ(14,"span",56),i.qZA(),i.TgZ(15,"span"),i.YNc(16,to,2,0,"ng-container",11),i._uU(17),i.qZA(),i.TgZ(18,"button",55),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(2).onContainerButtonKeydown(y)})("keydown.enter",function(y){return i.CHM(l),i.oxw(2).decrementMinute(y)})("keydown.space",function(y){return i.CHM(l),i.oxw(2).decrementMinute(y)})("mousedown",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseDown(y,1,-1)})("mouseup",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("keyup.enter",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("keyup.space",function(y){return i.CHM(l),i.oxw(2).onTimePickerElementMouseUp(y)})("mouseleave",function(){return i.CHM(l),i.oxw(2).onTimePickerElementMouseLeave()}),i._UZ(19,"span",57),i.qZA(),i.qZA(),i.YNc(20,cu,3,1,"div",60),i.YNc(21,Fl,8,2,"div",61),i.YNc(22,go,7,1,"div",62),i.qZA()}if(2&C){const l=i.oxw(2);i.xp6(5),i.Q6J("ngIf",l.currentHour<10),i.xp6(1),i.Oqu(l.currentHour),i.xp6(5),i.Oqu(l.timeSeparator),i.xp6(5),i.Q6J("ngIf",l.currentMinute<10),i.xp6(1),i.Oqu(l.currentMinute),i.xp6(3),i.Q6J("ngIf",l.showSeconds),i.xp6(1),i.Q6J("ngIf",l.showSeconds),i.xp6(1),i.Q6J("ngIf","12"==l.hourFormat)}}const ba=function(C){return[C]};function Uu(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"div",66),i.TgZ(1,"button",67),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(2).onContainerButtonKeydown(y)})("click",function(y){return i.CHM(l),i.oxw(2).onTodayButtonClick(y)}),i.qZA(),i.TgZ(2,"button",67),i.NdJ("keydown",function(y){return i.CHM(l),i.oxw(2).onContainerButtonKeydown(y)})("click",function(y){return i.CHM(l),i.oxw(2).onClearButtonClick(y)}),i.qZA(),i.qZA()}if(2&C){const l=i.oxw(2);i.xp6(1),i.Q6J("label",l.getTranslation("today"))("ngClass",i.VKq(4,ba,l.todayButtonStyleClass)),i.xp6(1),i.Q6J("label",l.getTranslation("clear"))("ngClass",i.VKq(6,ba,l.clearButtonStyleClass))}}function Hu(C,N){1&C&&i.GkF(0)}const qo=function(C,N,l,f,y,S){return{"p-datepicker p-component":!0,"p-datepicker-inline":C,"p-disabled":N,"p-datepicker-timeonly":l,"p-datepicker-multiple-month":f,"p-datepicker-monthpicker":y,"p-datepicker-touch-ui":S}},ju=function(C,N){return{showTransitionParams:C,hideTransitionParams:N}},Ua=function(C){return{value:"visibleTouchUI",params:C}},Ha=function(C){return{value:"visible",params:C}};function gl(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"div",8,9),i.NdJ("@overlayAnimation.start",function(y){return i.CHM(l),i.oxw().onOverlayAnimationStart(y)})("@overlayAnimation.done",function(y){return i.CHM(l),i.oxw().onOverlayAnimationDone(y)})("click",function(y){return i.CHM(l),i.oxw().onOverlayClick(y)}),i.Hsn(2),i.YNc(3,Pl,1,0,"ng-container",10),i.YNc(4,No,5,3,"ng-container",11),i.YNc(5,zr,23,8,"div",12),i.YNc(6,Uu,3,8,"div",13),i.Hsn(7,1),i.YNc(8,Hu,1,0,"ng-container",10),i.qZA()}if(2&C){const l=i.oxw();i.Tol(l.panelStyleClass),i.Q6J("ngStyle",l.panelStyle)("ngClass",i.HTZ(11,qo,l.inline,l.disabled,l.timeOnly,l.numberOfMonths>1,"month"===l.view,l.touchUI))("@overlayAnimation",l.touchUI?i.VKq(21,Ua,i.WLB(18,ju,l.showTransitionOptions,l.hideTransitionOptions)):i.VKq(26,Ha,i.WLB(23,ju,l.showTransitionOptions,l.hideTransitionOptions)))("@.disabled",!0===l.inline),i.xp6(3),i.Q6J("ngTemplateOutlet",l.headerTemplate),i.xp6(1),i.Q6J("ngIf",!l.timeOnly),i.xp6(1),i.Q6J("ngIf",l.showTime||l.timeOnly),i.xp6(1),i.Q6J("ngIf",l.showButtonBar),i.xp6(2),i.Q6J("ngTemplateOutlet",l.footerTemplate)}}const ml=[[["p-header"]],[["p-footer"]]],wa=function(C,N,l,f){return{"p-calendar":!0,"p-calendar-w-btn":C,"p-calendar-timeonly":N,"p-calendar-disabled":l,"p-focus":f}},Ss=["p-header","p-footer"],_l={provide:z.JU,useExisting:(0,i.Gpc)(()=>zu),multi:!0};let zu=(()=>{class C{constructor(l,f,y,S,le,Te){this.el=l,this.renderer=f,this.cd=y,this.zone=S,this.config=le,this.overlayService=Te,this.multipleSeparator=",",this.rangeSeparator="-",this.inline=!1,this.showOtherMonths=!0,this.icon="pi pi-calendar",this.shortYearCutoff="+10",this.hourFormat="24",this.stepHour=1,this.stepMinute=1,this.stepSecond=1,this.showSeconds=!1,this.showOnFocus=!0,this.showWeek=!1,this.dataType="date",this.selectionMode="single",this.todayButtonStyleClass="p-button-text",this.clearButtonStyleClass="p-button-text",this.autoZIndex=!0,this.baseZIndex=0,this.keepInvalid=!1,this.hideOnDateTimeSelect=!0,this.timeSeparator=":",this.focusTrap=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.onFocus=new i.vpe,this.onBlur=new i.vpe,this.onClose=new i.vpe,this.onSelect=new i.vpe,this.onInput=new i.vpe,this.onTodayClick=new i.vpe,this.onClearClick=new i.vpe,this.onMonthChange=new i.vpe,this.onYearChange=new i.vpe,this.onClickOutside=new i.vpe,this.onShow=new i.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{},this.inputFieldValue=null,this.navigationState=null,this._numberOfMonths=1,this._view="date",this.convertTo24Hour=function(Fe,vt){return"12"==this.hourFormat?12===Fe?vt?12:0:vt?Fe+12:Fe:Fe}}set content(l){this.contentViewChild=l,this.contentViewChild&&(this.isMonthNavigate?(Promise.resolve(null).then(()=>this.updateFocus()),this.isMonthNavigate=!1):this.focus||this.initFocusableCell())}get view(){return this._view}set view(l){this._view=l,this.currentView=this._view}get defaultDate(){return this._defaultDate}set defaultDate(l){if(this._defaultDate=l,this.initialized){const f=l||new Date;this.currentMonth=f.getMonth(),this.currentYear=f.getFullYear(),this.initTime(f),this.createMonths(this.currentMonth,this.currentYear)}}get minDate(){return this._minDate}set minDate(l){this._minDate=l,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get maxDate(){return this._maxDate}set maxDate(l){this._maxDate=l,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDates(){return this._disabledDates}set disabledDates(l){this._disabledDates=l,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get disabledDays(){return this._disabledDays}set disabledDays(l){this._disabledDays=l,null!=this.currentMonth&&null!=this.currentMonth&&this.currentYear&&this.createMonths(this.currentMonth,this.currentYear)}get yearRange(){return this._yearRange}set yearRange(l){if(this._yearRange=l,l){const f=l.split(":"),y=parseInt(f[0]),S=parseInt(f[1]);this.populateYearOptions(y,S)}}get showTime(){return this._showTime}set showTime(l){this._showTime=l,void 0===this.currentHour&&this.initTime(this.value||new Date),this.updateInputfield()}get locale(){return this._locale}get responsiveOptions(){return this._responsiveOptions}set responsiveOptions(l){this._responsiveOptions=l,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get numberOfMonths(){return this._numberOfMonths}set numberOfMonths(l){this._numberOfMonths=l,this.destroyResponsiveStyleElement(),this.createResponsiveStyle()}get firstDayOfWeek(){return this._firstDayOfWeek}set firstDayOfWeek(l){this._firstDayOfWeek=l,this.createWeekDays()}set locale(l){console.warn("Locale property has no effect, use new i18n API instead.")}ngOnInit(){this.attributeSelector=(0,Gt.Th)();const l=this.defaultDate||new Date;this.createResponsiveStyle(),this.currentMonth=l.getMonth(),this.currentYear=l.getFullYear(),this.currentView=this.view,"date"===this.view&&(this.createWeekDays(),this.initTime(l),this.createMonths(this.currentMonth,this.currentYear),this.ticksTo1970=24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.createWeekDays()}),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(l=>{switch(l.getType()){case"date":default:this.dateTemplate=l.template;break;case"decade":this.decadeTemplate=l.template;break;case"disabledDate":this.disabledDateTemplate=l.template;break;case"header":this.headerTemplate=l.template;break;case"footer":this.footerTemplate=l.template}})}ngAfterViewInit(){this.inline&&(this.contentViewChild&&this.contentViewChild.nativeElement.setAttribute(this.attributeSelector,""),this.disabled||(this.initFocusableCell(),1===this.numberOfMonths&&(this.contentViewChild.nativeElement.style.width=wt.p.getOuterWidth(this.containerViewChild.nativeElement)+"px")))}getTranslation(l){return this.config.getTranslation(l)}populateYearOptions(l,f){this.yearOptions=[];for(let y=l;y<=f;y++)this.yearOptions.push(y)}createWeekDays(){this.weekDays=[];let l=this.getFirstDateOfWeek(),f=this.getTranslation(fe.ws.DAY_NAMES_MIN);for(let y=0;y<7;y++)this.weekDays.push(f[l]),l=6==l?0:++l}monthPickerValues(){let l=[];for(let f=0;f<=11;f++)l.push(this.config.getTranslation("monthNamesShort")[f]);return l}yearPickerValues(){let l=[],f=this.currentYear-this.currentYear%10;for(let y=0;y<10;y++)l.push(f+y);return l}createMonths(l,f){this.months=this.months=[];for(let y=0;y<this.numberOfMonths;y++){let S=l+y,le=f;S>11&&(S=S%11-1,le=f+1),this.months.push(this.createMonth(S,le))}}getWeekNumber(l){let f=new Date(l.getTime());f.setDate(f.getDate()+4-(f.getDay()||7));let y=f.getTime();return f.setMonth(0),f.setDate(1),Math.floor(Math.round((y-f.getTime())/864e5)/7)+1}createMonth(l,f){let y=[],S=this.getFirstDayOfMonthIndex(l,f),le=this.getDaysCountInMonth(l,f),Te=this.getDaysCountInPrevMonth(l,f),Fe=1,vt=new Date,Lt=[],pn=Math.ceil((le+S)/7);for(let ti=0;ti<pn;ti++){let Mn=[];if(0==ti){for(let Pi=Te-S+1;Pi<=Te;Pi++){let hr=this.getPreviousMonthAndYear(l,f);Mn.push({day:Pi,month:hr.month,year:hr.year,otherMonth:!0,today:this.isToday(vt,Pi,hr.month,hr.year),selectable:this.isSelectable(Pi,hr.month,hr.year,!0)})}let Ri=7-Mn.length;for(let Pi=0;Pi<Ri;Pi++)Mn.push({day:Fe,month:l,year:f,today:this.isToday(vt,Fe,l,f),selectable:this.isSelectable(Fe,l,f,!1)}),Fe++}else for(let Ri=0;Ri<7;Ri++){if(Fe>le){let Pi=this.getNextMonthAndYear(l,f);Mn.push({day:Fe-le,month:Pi.month,year:Pi.year,otherMonth:!0,today:this.isToday(vt,Fe-le,Pi.month,Pi.year),selectable:this.isSelectable(Fe-le,Pi.month,Pi.year,!0)})}else Mn.push({day:Fe,month:l,year:f,today:this.isToday(vt,Fe,l,f),selectable:this.isSelectable(Fe,l,f,!1)});Fe++}this.showWeek&&Lt.push(this.getWeekNumber(new Date(Mn[0].year,Mn[0].month,Mn[0].day))),y.push(Mn)}return{month:l,year:f,dates:y,weekNumbers:Lt}}initTime(l){this.pm=l.getHours()>11,this.showTime?(this.currentMinute=l.getMinutes(),this.currentSecond=l.getSeconds(),this.setCurrentHourPM(l.getHours())):this.timeOnly&&(this.currentMinute=0,this.currentHour=0,this.currentSecond=0)}navBackward(l){this.disabled?l.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.decrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.decrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(0===this.currentMonth?(this.currentMonth=11,this.decrementYear()):this.currentMonth--,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}navForward(l){this.disabled?l.preventDefault():(this.isMonthNavigate=!0,"month"===this.currentView?(this.incrementYear(),setTimeout(()=>{this.updateFocus()},1)):"year"===this.currentView?(this.incrementDecade(),setTimeout(()=>{this.updateFocus()},1)):(11===this.currentMonth?(this.currentMonth=0,this.incrementYear()):this.currentMonth++,this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)))}decrementYear(){if(this.currentYear--,this.yearNavigator&&this.currentYear<this.yearOptions[0]){let l=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]-l,this.yearOptions[this.yearOptions.length-1]-l)}}decrementDecade(){this.currentYear=this.currentYear-10}incrementDecade(){this.currentYear=this.currentYear+10}incrementYear(){if(this.currentYear++,this.yearNavigator&&this.currentYear>this.yearOptions[this.yearOptions.length-1]){let l=this.yearOptions[this.yearOptions.length-1]-this.yearOptions[0];this.populateYearOptions(this.yearOptions[0]+l,this.yearOptions[this.yearOptions.length-1]+l)}}switchToMonthView(l){this.currentView="month",this.cd.detectChanges(),this.alignOverlay(),l.preventDefault()}switchToYearView(l){this.currentView="year",this.cd.detectChanges(),this.alignOverlay(),l.preventDefault()}onDateSelect(l,f){!this.disabled&&f.selectable?(this.isMultipleSelection()&&this.isSelected(f)?(this.value=this.value.filter((y,S)=>!this.isDateEquals(y,f)),0===this.value.length&&(this.value=null),this.updateModel(this.value)):this.shouldSelectDate(f)&&this.selectDate(f),this.isSingleSelection()&&this.hideOnDateTimeSelect&&setTimeout(()=>{l.preventDefault(),this.hideOverlay(),this.mask&&this.disableModality(),this.cd.markForCheck()},150),this.updateInputfield(),l.preventDefault()):l.preventDefault()}shouldSelectDate(l){return!this.isMultipleSelection()||null==this.maxDateCount||this.maxDateCount>(this.value?this.value.length:0)}onMonthSelect(l,f){"month"===this.view?this.onDateSelect(l,{year:this.currentYear,month:f,day:1,selectable:!0}):(this.currentMonth=f,this.currentView="date",this.createMonths(this.currentMonth,this.currentYear),this.cd.markForCheck(),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}))}onYearSelect(l,f){"year"===this.view?this.onDateSelect(l,{year:f,month:0,day:1,selectable:!0}):(this.currentYear=f,this.currentView="month",this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}))}updateInputfield(){let l="";if(this.value)if(this.isSingleSelection())l=this.formatDateTime(this.value);else if(this.isMultipleSelection())for(let f=0;f<this.value.length;f++)l+=this.formatDateTime(this.value[f]),f!==this.value.length-1&&(l+=this.multipleSeparator+" ");else if(this.isRangeSelection()&&this.value&&this.value.length){let y=this.value[1];l=this.formatDateTime(this.value[0]),y&&(l+=" "+this.rangeSeparator+" "+this.formatDateTime(y))}this.inputFieldValue=l,this.updateFilledState(),this.inputfieldViewChild&&this.inputfieldViewChild.nativeElement&&(this.inputfieldViewChild.nativeElement.value=this.inputFieldValue)}formatDateTime(l){let f=this.keepInvalid?l:null;return this.isValidDate(l)&&(this.timeOnly?f=this.formatTime(l):(f=this.formatDate(l,this.getDateFormat()),this.showTime&&(f+=" "+this.formatTime(l)))),f}setCurrentHourPM(l){"12"==this.hourFormat?(this.pm=l>11,this.currentHour=l>=12?12==l?12:l-12:0==l?12:l):this.currentHour=l}selectDate(l){let f=new Date(l.year,l.month,l.day);if(this.showTime&&(f.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),f.setMinutes(this.currentMinute),f.setSeconds(this.currentSecond)),this.minDate&&this.minDate>f&&(f=this.minDate,this.setCurrentHourPM(f.getHours()),this.currentMinute=f.getMinutes(),this.currentSecond=f.getSeconds()),this.maxDate&&this.maxDate<f&&(f=this.maxDate,this.setCurrentHourPM(f.getHours()),this.currentMinute=f.getMinutes(),this.currentSecond=f.getSeconds()),this.isSingleSelection())this.updateModel(f);else if(this.isMultipleSelection())this.updateModel(this.value?[...this.value,f]:[f]);else if(this.isRangeSelection())if(this.value&&this.value.length){let y=this.value[0],S=this.value[1];!S&&f.getTime()>=y.getTime()?S=f:(y=f,S=null),this.updateModel([y,S])}else this.updateModel([f,null]);this.onSelect.emit(f)}updateModel(l){if(this.value=l,"date"==this.dataType)this.onModelChange(this.value);else if("string"==this.dataType)if(this.isSingleSelection())this.onModelChange(this.formatDateTime(this.value));else{let f=null;this.value&&(f=this.value.map(y=>this.formatDateTime(y))),this.onModelChange(f)}}getFirstDayOfMonthIndex(l,f){let y=new Date;y.setDate(1),y.setMonth(l),y.setFullYear(f);let S=y.getDay()+this.getSundayIndex();return S>=7?S-7:S}getDaysCountInMonth(l,f){return 32-this.daylightSavingAdjust(new Date(f,l,32)).getDate()}getDaysCountInPrevMonth(l,f){let y=this.getPreviousMonthAndYear(l,f);return this.getDaysCountInMonth(y.month,y.year)}getPreviousMonthAndYear(l,f){let y,S;return 0===l?(y=11,S=f-1):(y=l-1,S=f),{month:y,year:S}}getNextMonthAndYear(l,f){let y,S;return 11===l?(y=0,S=f+1):(y=l+1,S=f),{month:y,year:S}}getSundayIndex(){let l=this.getFirstDateOfWeek();return l>0?7-l:0}isSelected(l){if(!this.value)return!1;if(this.isSingleSelection())return this.isDateEquals(this.value,l);if(this.isMultipleSelection()){let f=!1;for(let y of this.value)if(f=this.isDateEquals(y,l),f)break;return f}return this.isRangeSelection()?this.value[1]?this.isDateEquals(this.value[0],l)||this.isDateEquals(this.value[1],l)||this.isDateBetween(this.value[0],this.value[1],l):this.isDateEquals(this.value[0],l):void 0}isComparable(){return null!=this.value&&"string"!=typeof this.value}isMonthSelected(l){if(this.isComparable()){let f=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&f.getMonth()===l&&f.getFullYear()===this.currentYear}return!1}isYearSelected(l){if(this.isComparable()){let f=this.isRangeSelection()?this.value[0]:this.value;return!this.isMultipleSelection()&&f.getFullYear()===l}return!1}isDateEquals(l,f){return!!(l&&l instanceof Date)&&l.getDate()===f.day&&l.getMonth()===f.month&&l.getFullYear()===f.year}isDateBetween(l,f,y){if(l&&f){let le=new Date(y.year,y.month,y.day);return l.getTime()<=le.getTime()&&f.getTime()>=le.getTime()}return!1}isSingleSelection(){return"single"===this.selectionMode}isRangeSelection(){return"range"===this.selectionMode}isMultipleSelection(){return"multiple"===this.selectionMode}isToday(l,f,y,S){return l.getDate()===f&&l.getMonth()===y&&l.getFullYear()===S}isSelectable(l,f,y,S){let le=!0,Te=!0,Fe=!0,vt=!0;return!(S&&!this.selectOtherMonths)&&(this.minDate&&(this.minDate.getFullYear()>y||this.minDate.getFullYear()===y&&(this.minDate.getMonth()>f||this.minDate.getMonth()===f&&this.minDate.getDate()>l))&&(le=!1),this.maxDate&&(this.maxDate.getFullYear()<y||this.maxDate.getFullYear()===y&&(this.maxDate.getMonth()<f||this.maxDate.getMonth()===f&&this.maxDate.getDate()<l))&&(Te=!1),this.disabledDates&&(Fe=!this.isDateDisabled(l,f,y)),this.disabledDays&&(vt=!this.isDayDisabled(l,f,y)),le&&Te&&Fe&&vt)}isDateDisabled(l,f,y){if(this.disabledDates)for(let S of this.disabledDates)if(S.getFullYear()===y&&S.getMonth()===f&&S.getDate()===l)return!0;return!1}isDayDisabled(l,f,y){if(this.disabledDays){let le=new Date(y,f,l).getDay();return-1!==this.disabledDays.indexOf(le)}return!1}onInputFocus(l){this.focus=!0,this.showOnFocus&&this.showOverlay(),this.onFocus.emit(l)}onInputClick(){this.showOnFocus&&!this.overlayVisible&&this.showOverlay()}onInputBlur(l){this.focus=!1,this.onBlur.emit(l),this.keepInvalid||this.updateInputfield(),this.onModelTouched()}onButtonClick(l,f){this.overlayVisible?this.hideOverlay():(f.focus(),this.showOverlay())}onOverlayClick(l){this.overlayService.add({originalEvent:l,target:this.el.nativeElement})}getMonthName(l){return this.config.getTranslation("monthNames")[l]}getYear(l){return"month"===this.currentView?this.currentYear:l.year}switchViewButtonDisabled(){return this.numberOfMonths>1||this.disabled}onPrevButtonClick(l){this.navigationState={backward:!0,button:!0},this.navBackward(l)}onNextButtonClick(l){this.navigationState={backward:!1,button:!0},this.navForward(l)}onContainerButtonKeydown(l){switch(l.which){case 9:this.inline||this.trapFocus(l);break;case 27:this.overlayVisible=!1,l.preventDefault()}}onInputKeydown(l){this.isKeydown=!0,40===l.keyCode&&this.contentViewChild?this.trapFocus(l):27===l.keyCode||13===l.keyCode?this.overlayVisible&&(this.overlayVisible=!1,l.preventDefault()):9===l.keyCode&&this.contentViewChild&&(wt.p.getFocusableElements(this.contentViewChild.nativeElement).forEach(f=>f.tabIndex="-1"),this.overlayVisible&&(this.overlayVisible=!1))}onDateCellKeydown(l,f,y){const S=l.currentTarget,le=S.parentElement;switch(l.which){case 40:{S.tabIndex="-1";let Te=wt.p.index(le),Fe=le.parentElement.nextElementSibling;Fe?wt.p.hasClass(Fe.children[Te].children[0],"p-disabled")?(this.navigationState={backward:!1},this.navForward(l)):(Fe.children[Te].children[0].tabIndex="0",Fe.children[Te].children[0].focus()):(this.navigationState={backward:!1},this.navForward(l)),l.preventDefault();break}case 38:{S.tabIndex="-1";let Te=wt.p.index(le),Fe=le.parentElement.previousElementSibling;if(Fe){let vt=Fe.children[Te].children[0];wt.p.hasClass(vt,"p-disabled")?(this.navigationState={backward:!0},this.navBackward(l)):(vt.tabIndex="0",vt.focus())}else this.navigationState={backward:!0},this.navBackward(l);l.preventDefault();break}case 37:{S.tabIndex="-1";let Te=le.previousElementSibling;if(Te){let Fe=Te.children[0];wt.p.hasClass(Fe,"p-disabled")||wt.p.hasClass(Fe.parentElement,"p-datepicker-weeknumber")?this.navigateToMonth(!0,y):(Fe.tabIndex="0",Fe.focus())}else this.navigateToMonth(!0,y);l.preventDefault();break}case 39:{S.tabIndex="-1";let Te=le.nextElementSibling;if(Te){let Fe=Te.children[0];wt.p.hasClass(Fe,"p-disabled")?this.navigateToMonth(!1,y):(Fe.tabIndex="0",Fe.focus())}else this.navigateToMonth(!1,y);l.preventDefault();break}case 13:case 32:this.onDateSelect(l,f),l.preventDefault();break;case 27:this.overlayVisible=!1,l.preventDefault();break;case 9:this.inline||this.trapFocus(l)}}onMonthCellKeydown(l,f){const y=l.currentTarget;switch(l.which){case 38:case 40:{y.tabIndex="-1";var S=y.parentElement.children,le=wt.p.index(y);let Te=S[40===l.which?le+3:le-3];Te&&(Te.tabIndex="0",Te.focus()),l.preventDefault();break}case 37:{y.tabIndex="-1";let Te=y.previousElementSibling;Te?(Te.tabIndex="0",Te.focus()):(this.navigationState={backward:!0},this.navBackward(l)),l.preventDefault();break}case 39:{y.tabIndex="-1";let Te=y.nextElementSibling;Te?(Te.tabIndex="0",Te.focus()):(this.navigationState={backward:!1},this.navForward(l)),l.preventDefault();break}case 13:this.onMonthSelect(l,f),l.preventDefault();break;case 13:case 32:case 27:this.overlayVisible=!1,l.preventDefault();break;case 9:this.inline||this.trapFocus(l)}}onYearCellKeydown(l,f){const y=l.currentTarget;switch(l.which){case 38:case 40:{y.tabIndex="-1";var S=y.parentElement.children,le=wt.p.index(y);let Te=S[40===l.which?le+2:le-2];Te&&(Te.tabIndex="0",Te.focus()),l.preventDefault();break}case 37:{y.tabIndex="-1";let Te=y.previousElementSibling;Te?(Te.tabIndex="0",Te.focus()):(this.navigationState={backward:!0},this.navBackward(l)),l.preventDefault();break}case 39:{y.tabIndex="-1";let Te=y.nextElementSibling;Te?(Te.tabIndex="0",Te.focus()):(this.navigationState={backward:!1},this.navForward(l)),l.preventDefault();break}case 13:case 32:this.onYearSelect(l,f),l.preventDefault();break;case 27:this.overlayVisible=!1,l.preventDefault();break;case 9:this.trapFocus(l)}}navigateToMonth(l,f){if(l)if(1===this.numberOfMonths||0===f)this.navigationState={backward:!0},this.navBackward(event);else{let S=wt.p.find(this.contentViewChild.nativeElement.children[f-1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),le=S[S.length-1];le.tabIndex="0",le.focus()}else if(1===this.numberOfMonths||f===this.numberOfMonths-1)this.navigationState={backward:!1},this.navForward(event);else{let S=wt.p.findSingle(this.contentViewChild.nativeElement.children[f+1],".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");S.tabIndex="0",S.focus()}}updateFocus(){let l;if(this.navigationState){if(this.navigationState.button)this.initFocusableCell(),this.navigationState.backward?wt.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-prev").focus():wt.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-next").focus();else{if(this.navigationState.backward){let f;f=wt.p.find(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)"),f&&f.length>0&&(l=f[f.length-1])}else l=wt.p.findSingle(this.contentViewChild.nativeElement,"month"===this.currentView?".p-monthpicker .p-monthpicker-month:not(.p-disabled)":"year"===this.currentView?".p-yearpicker .p-yearpicker-year:not(.p-disabled)":".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)");l&&(l.tabIndex="0",l.focus())}this.navigationState=null}else this.initFocusableCell()}initFocusableCell(){let l;if("month"===this.currentView){let f=wt.p.find(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month:not(.p-disabled)"),y=wt.p.findSingle(this.contentViewChild.nativeElement,".p-monthpicker .p-monthpicker-month.p-highlight");f.forEach(S=>S.tabIndex=-1),l=y||f[0],0===f.length&&wt.p.find(this.contentViewChild.nativeElement,'.p-monthpicker .p-monthpicker-month.p-disabled[tabindex = "0"]').forEach(le=>le.tabIndex=-1)}else if("year"===this.currentView){let f=wt.p.find(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year:not(.p-disabled)"),y=wt.p.findSingle(this.contentViewChild.nativeElement,".p-yearpicker .p-yearpicker-year.p-highlight");f.forEach(S=>S.tabIndex=-1),l=y||f[0],0===f.length&&wt.p.find(this.contentViewChild.nativeElement,'.p-yearpicker .p-yearpicker-year.p-disabled[tabindex = "0"]').forEach(le=>le.tabIndex=-1)}else if(l=wt.p.findSingle(this.contentViewChild.nativeElement,"span.p-highlight"),!l){let f=wt.p.findSingle(this.contentViewChild.nativeElement,"td.p-datepicker-today span:not(.p-disabled):not(.p-ink)");l=f||wt.p.findSingle(this.contentViewChild.nativeElement,".p-datepicker-calendar td span:not(.p-disabled):not(.p-ink)")}l&&(l.tabIndex="0",!this.preventFocus&&(!this.navigationState||!this.navigationState.button)&&setTimeout(()=>{l.focus()},1),this.preventFocus=!1)}trapFocus(l){let f=wt.p.getFocusableElements(this.contentViewChild.nativeElement);if(f&&f.length>0)if(f[0].ownerDocument.activeElement){let y=f.indexOf(f[0].ownerDocument.activeElement);if(l.shiftKey)if(-1==y||0===y)if(this.focusTrap)f[f.length-1].focus();else{if(-1===y)return this.hideOverlay();if(0===y)return}else f[y-1].focus();else if(-1==y||y===f.length-1){if(!this.focusTrap&&-1!=y)return this.hideOverlay();f[0].focus()}else f[y+1].focus()}else f[0].focus();l.preventDefault()}onMonthDropdownChange(l){this.currentMonth=parseInt(l),this.onMonthChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}onYearDropdownChange(l){this.currentYear=parseInt(l),this.onYearChange.emit({month:this.currentMonth+1,year:this.currentYear}),this.createMonths(this.currentMonth,this.currentYear)}validateTime(l,f,y,S){let le=this.value;const Te=this.convertTo24Hour(l,S);this.isRangeSelection()&&(le=this.value[1]||this.value[0]),this.isMultipleSelection()&&(le=this.value[this.value.length-1]);const Fe=le?le.toDateString():null;return!(this.minDate&&Fe&&this.minDate.toDateString()===Fe&&(this.minDate.getHours()>Te||this.minDate.getHours()===Te&&(this.minDate.getMinutes()>f||this.minDate.getMinutes()===f&&this.minDate.getSeconds()>y))||this.maxDate&&Fe&&this.maxDate.toDateString()===Fe&&(this.maxDate.getHours()<Te||this.maxDate.getHours()===Te&&(this.maxDate.getMinutes()<f||this.maxDate.getMinutes()===f&&this.maxDate.getSeconds()<y)))}incrementHour(l){let y=this.currentHour+this.stepHour,S=this.pm;"24"==this.hourFormat?y=y>=24?y-24:y:"12"==this.hourFormat&&(this.currentHour<12&&y>11&&(S=!this.pm),y=y>=13?y-12:y),this.validateTime(y,this.currentMinute,this.currentSecond,S)&&(this.currentHour=y,this.pm=S),l.preventDefault()}onTimePickerElementMouseDown(l,f,y){this.disabled||(this.repeat(l,null,f,y),l.preventDefault())}onTimePickerElementMouseUp(l){this.disabled||(this.clearTimePickerTimer(),this.updateTime())}onTimePickerElementMouseLeave(){!this.disabled&&this.timePickerTimer&&(this.clearTimePickerTimer(),this.updateTime())}repeat(l,f,y,S){let le=f||500;switch(this.clearTimePickerTimer(),this.timePickerTimer=setTimeout(()=>{this.repeat(l,100,y,S),this.cd.markForCheck()},le),y){case 0:1===S?this.incrementHour(l):this.decrementHour(l);break;case 1:1===S?this.incrementMinute(l):this.decrementMinute(l);break;case 2:1===S?this.incrementSecond(l):this.decrementSecond(l)}this.updateInputfield()}clearTimePickerTimer(){this.timePickerTimer&&(clearTimeout(this.timePickerTimer),this.timePickerTimer=null)}decrementHour(l){let f=this.currentHour-this.stepHour,y=this.pm;"24"==this.hourFormat?f=f<0?24+f:f:"12"==this.hourFormat&&(12===this.currentHour&&(y=!this.pm),f=f<=0?12+f:f),this.validateTime(f,this.currentMinute,this.currentSecond,y)&&(this.currentHour=f,this.pm=y),l.preventDefault()}incrementMinute(l){let f=this.currentMinute+this.stepMinute;f=f>59?f-60:f,this.validateTime(this.currentHour,f,this.currentSecond,this.pm)&&(this.currentMinute=f),l.preventDefault()}decrementMinute(l){let f=this.currentMinute-this.stepMinute;f=f<0?60+f:f,this.validateTime(this.currentHour,f,this.currentSecond,this.pm)&&(this.currentMinute=f),l.preventDefault()}incrementSecond(l){let f=this.currentSecond+this.stepSecond;f=f>59?f-60:f,this.validateTime(this.currentHour,this.currentMinute,f,this.pm)&&(this.currentSecond=f),l.preventDefault()}decrementSecond(l){let f=this.currentSecond-this.stepSecond;f=f<0?60+f:f,this.validateTime(this.currentHour,this.currentMinute,f,this.pm)&&(this.currentSecond=f),l.preventDefault()}updateTime(){let l=this.value;this.isRangeSelection()&&(l=this.value[1]||this.value[0]),this.isMultipleSelection()&&(l=this.value[this.value.length-1]),l=l?new Date(l.getTime()):new Date,l.setHours("12"==this.hourFormat?12===this.currentHour?this.pm?12:0:this.pm?this.currentHour+12:this.currentHour:this.currentHour),l.setMinutes(this.currentMinute),l.setSeconds(this.currentSecond),this.isRangeSelection()&&(l=this.value[1]?[this.value[0],l]:[l,null]),this.isMultipleSelection()&&(l=[...this.value.slice(0,-1),l]),this.updateModel(l),this.onSelect.emit(l),this.updateInputfield()}toggleAMPM(l){const f=!this.pm;this.validateTime(this.currentHour,this.currentMinute,this.currentSecond,f)&&(this.pm=f,this.updateTime()),l.preventDefault()}onUserInput(l){if(!this.isKeydown)return;this.isKeydown=!1;let f=l.target.value;try{let y=this.parseValueFromString(f);this.isValidSelection(y)&&(this.updateModel(y),this.updateUI())}catch(y){this.updateModel(this.keepInvalid?f:null)}this.filled=null!=f&&f.length,this.onInput.emit(l)}isValidSelection(l){let f=!0;return this.isSingleSelection()?this.isSelectable(l.getDate(),l.getMonth(),l.getFullYear(),!1)||(f=!1):l.every(y=>this.isSelectable(y.getDate(),y.getMonth(),y.getFullYear(),!1))&&this.isRangeSelection()&&(f=l.length>1&&l[1]>l[0]),f}parseValueFromString(l){if(!l||0===l.trim().length)return null;let f;if(this.isSingleSelection())f=this.parseDateTime(l);else if(this.isMultipleSelection()){let y=l.split(this.multipleSeparator);f=[];for(let S of y)f.push(this.parseDateTime(S.trim()))}else if(this.isRangeSelection()){let y=l.split(" "+this.rangeSeparator+" ");f=[];for(let S=0;S<y.length;S++)f[S]=this.parseDateTime(y[S].trim())}return f}parseDateTime(l){let f,y=l.split(" ");if(this.timeOnly)f=new Date,this.populateTime(f,y[0],y[1]);else{const S=this.getDateFormat();if(this.showTime){let le="12"==this.hourFormat?y.pop():null,Te=y.pop();f=this.parseDate(y.join(" "),S),this.populateTime(f,Te,le)}else f=this.parseDate(l,S)}return f}populateTime(l,f,y){if("12"==this.hourFormat&&!y)throw"Invalid Time";this.pm="PM"===y||"pm"===y;let S=this.parseTime(f);l.setHours(S.hour),l.setMinutes(S.minute),l.setSeconds(S.second)}isValidDate(l){return l instanceof Date&&Gt.gb.isNotEmpty(l)}updateUI(){let l=this.value;Array.isArray(l)&&(l=l[0]);let f=this.defaultDate&&this.isValidDate(this.defaultDate)&&!this.value?this.defaultDate:l&&this.isValidDate(l)?l:new Date;this.currentMonth=f.getMonth(),this.currentYear=f.getFullYear(),this.createMonths(this.currentMonth,this.currentYear),(this.showTime||this.timeOnly)&&(this.setCurrentHourPM(f.getHours()),this.currentMinute=f.getMinutes(),this.currentSecond=f.getSeconds())}showOverlay(){this.overlayVisible||(this.updateUI(),this.touchUI||(this.preventFocus=!0),this.overlayVisible=!0)}hideOverlay(){this.overlayVisible=!1,this.clearTimePickerTimer(),this.touchUI&&this.disableModality(),this.cd.markForCheck()}toggle(){this.inline||(this.overlayVisible?this.hideOverlay():(this.showOverlay(),this.inputfieldViewChild.nativeElement.focus()))}onOverlayAnimationStart(l){switch(l.toState){case"visible":case"visibleTouchUI":this.inline||(this.overlay=l.element,this.overlay.setAttribute(this.attributeSelector,""),this.appendOverlay(),this.updateFocus(),this.autoZIndex&&(this.touchUI?Gt.P9.set("modal",this.overlay,this.baseZIndex||this.config.zIndex.modal):Gt.P9.set("overlay",this.overlay,this.baseZIndex||this.config.zIndex.overlay)),this.alignOverlay(),this.onShow.emit(l));break;case"void":this.onOverlayHide(),this.onClose.emit(l)}}onOverlayAnimationDone(l){switch(l.toState){case"visible":case"visibleTouchUI":this.inline||(this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener());break;case"void":this.autoZIndex&&Gt.P9.clear(l.element)}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):wt.p.appendChild(this.overlay,this.appendTo))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.touchUI?this.enableModality(this.overlay):this.overlay&&(this.appendTo?("date"===this.view?(this.overlay.style.width=wt.p.getOuterWidth(this.overlay)+"px",this.overlay.style.minWidth=wt.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px"):this.overlay.style.width=wt.p.getOuterWidth(this.inputfieldViewChild.nativeElement)+"px",wt.p.absolutePosition(this.overlay,this.inputfieldViewChild.nativeElement)):wt.p.relativePosition(this.overlay,this.inputfieldViewChild.nativeElement))}enableModality(l){this.mask||(this.mask=document.createElement("div"),this.mask.style.zIndex=String(parseInt(l.style.zIndex)-1),wt.p.addMultipleClasses(this.mask,"p-component-overlay p-datepicker-mask p-datepicker-mask-scrollblocker p-component-overlay p-component-overlay-enter"),this.maskClickListener=this.renderer.listen(this.mask,"click",y=>{this.disableModality()}),document.body.appendChild(this.mask),wt.p.addClass(document.body,"p-overflow-hidden"))}disableModality(){this.mask&&(wt.p.addClass(this.mask,"p-component-overlay-leave"),this.animationEndListener=this.destroyMask.bind(this),this.mask.addEventListener("animationend",this.animationEndListener))}destroyMask(){document.body.removeChild(this.mask);let f,l=document.body.children;for(let y=0;y<l.length;y++)if(wt.p.hasClass(l[y],"p-datepicker-mask-scrollblocker")){f=!0;break}f||wt.p.removeClass(document.body,"p-overflow-hidden"),this.unbindAnimationEndListener(),this.unbindMaskClickListener(),this.mask=null}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}unbindAnimationEndListener(){this.animationEndListener&&this.mask&&(this.mask.removeEventListener("animationend",this.animationEndListener),this.animationEndListener=null)}writeValue(l){if(this.value=l,this.value&&"string"==typeof this.value)try{this.value=this.parseValueFromString(this.value)}catch(f){this.keepInvalid&&(this.value=l)}this.updateInputfield(),this.updateUI(),this.cd.markForCheck()}registerOnChange(l){this.onModelChange=l}registerOnTouched(l){this.onModelTouched=l}setDisabledState(l){this.disabled=l,this.cd.markForCheck()}getDateFormat(){return this.dateFormat||this.getTranslation("dateFormat")}getFirstDateOfWeek(){return this._firstDayOfWeek||this.getTranslation(fe.ws.FIRST_DAY_OF_WEEK)}formatDate(l,f){if(!l)return"";let y;const S=Lt=>{const pn=y+1<f.length&&f.charAt(y+1)===Lt;return pn&&y++,pn},le=(Lt,pn,ti)=>{let Mn=""+pn;if(S(Lt))for(;Mn.length<ti;)Mn="0"+Mn;return Mn},Te=(Lt,pn,ti,Mn)=>S(Lt)?Mn[pn]:ti[pn];let Fe="",vt=!1;if(l)for(y=0;y<f.length;y++)if(vt)"'"!==f.charAt(y)||S("'")?Fe+=f.charAt(y):vt=!1;else switch(f.charAt(y)){case"d":Fe+=le("d",l.getDate(),2);break;case"D":Fe+=Te("D",l.getDay(),this.getTranslation(fe.ws.DAY_NAMES_SHORT),this.getTranslation(fe.ws.DAY_NAMES));break;case"o":Fe+=le("o",Math.round((new Date(l.getFullYear(),l.getMonth(),l.getDate()).getTime()-new Date(l.getFullYear(),0,0).getTime())/864e5),3);break;case"m":Fe+=le("m",l.getMonth()+1,2);break;case"M":Fe+=Te("M",l.getMonth(),this.getTranslation(fe.ws.MONTH_NAMES_SHORT),this.getTranslation(fe.ws.MONTH_NAMES));break;case"y":Fe+=S("y")?l.getFullYear():(l.getFullYear()%100<10?"0":"")+l.getFullYear()%100;break;case"@":Fe+=l.getTime();break;case"!":Fe+=1e4*l.getTime()+this.ticksTo1970;break;case"'":S("'")?Fe+="'":vt=!0;break;default:Fe+=f.charAt(y)}return Fe}formatTime(l){if(!l)return"";let f="",y=l.getHours(),S=l.getMinutes(),le=l.getSeconds();return"12"==this.hourFormat&&y>11&&12!=y&&(y-=12),f+="12"==this.hourFormat&&0===y?12:y<10?"0"+y:y,f+=":",f+=S<10?"0"+S:S,this.showSeconds&&(f+=":",f+=le<10?"0"+le:le),"12"==this.hourFormat&&(f+=l.getHours()>11?" PM":" AM"),f}parseTime(l){let f=l.split(":");if(f.length!==(this.showSeconds?3:2))throw"Invalid time";let S=parseInt(f[0]),le=parseInt(f[1]),Te=this.showSeconds?parseInt(f[2]):null;if(isNaN(S)||isNaN(le)||S>23||le>59||"12"==this.hourFormat&&S>12||this.showSeconds&&(isNaN(Te)||Te>59))throw"Invalid time";return"12"==this.hourFormat&&(12!==S&&this.pm?S+=12:!this.pm&&12===S&&(S-=12)),{hour:S,minute:le,second:Te}}parseDate(l,f){if(null==f||null==l)throw"Invalid arguments";if(""===(l="object"==typeof l?l.toString():l+""))return null;let y,S,le,Ri,Te=0,Fe="string"!=typeof this.shortYearCutoff?this.shortYearCutoff:(new Date).getFullYear()%100+parseInt(this.shortYearCutoff,10),vt=-1,Lt=-1,pn=-1,ti=-1,Mn=!1,Pi=ea=>{let Za=y+1<f.length&&f.charAt(y+1)===ea;return Za&&y++,Za},hr=ea=>{let Za=Pi(ea),Tu="@"===ea?14:"!"===ea?20:"y"===ea&&Za?4:"o"===ea?3:2,Wa=new RegExp("^\\d{"+("y"===ea?Tu:1)+","+Tu+"}"),Lo=l.substring(Te).match(Wa);if(!Lo)throw"Missing number at position "+Te;return Te+=Lo[0].length,parseInt(Lo[0],10)},Il=(ea,Za,Tu)=>{let Ga=-1,Wa=Pi(ea)?Tu:Za,Lo=[];for(let no=0;no<Wa.length;no++)Lo.push([no,Wa[no]]);Lo.sort((no,Vi)=>-(no[1].length-Vi[1].length));for(let no=0;no<Lo.length;no++){let Vi=Lo[no][1];if(l.substr(Te,Vi.length).toLowerCase()===Vi.toLowerCase()){Ga=Lo[no][0],Te+=Vi.length;break}}if(-1!==Ga)return Ga+1;throw"Unknown name at position "+Te},Eu=()=>{if(l.charAt(Te)!==f.charAt(y))throw"Unexpected literal at position "+Te;Te++};for("month"===this.view&&(pn=1),y=0;y<f.length;y++)if(Mn)"'"!==f.charAt(y)||Pi("'")?Eu():Mn=!1;else switch(f.charAt(y)){case"d":pn=hr("d");break;case"D":Il("D",this.getTranslation(fe.ws.DAY_NAMES_SHORT),this.getTranslation(fe.ws.DAY_NAMES));break;case"o":ti=hr("o");break;case"m":Lt=hr("m");break;case"M":Lt=Il("M",this.getTranslation(fe.ws.MONTH_NAMES_SHORT),this.getTranslation(fe.ws.MONTH_NAMES));break;case"y":vt=hr("y");break;case"@":Ri=new Date(hr("@")),vt=Ri.getFullYear(),Lt=Ri.getMonth()+1,pn=Ri.getDate();break;case"!":Ri=new Date((hr("!")-this.ticksTo1970)/1e4),vt=Ri.getFullYear(),Lt=Ri.getMonth()+1,pn=Ri.getDate();break;case"'":Pi("'")?Eu():Mn=!0;break;default:Eu()}if(Te<l.length&&(le=l.substr(Te),!/^\s+/.test(le)))throw"Extra/unparsed characters found in date: "+le;if(-1===vt?vt=(new Date).getFullYear():vt<100&&(vt+=(new Date).getFullYear()-(new Date).getFullYear()%100+(vt<=Fe?0:-100)),ti>-1)for(Lt=1,pn=ti;S=this.getDaysCountInMonth(vt,Lt-1),!(pn<=S);)Lt++,pn-=S;if(Ri=this.daylightSavingAdjust(new Date(vt,Lt-1,pn)),Ri.getFullYear()!==vt||Ri.getMonth()+1!==Lt||Ri.getDate()!==pn)throw"Invalid date";return Ri}daylightSavingAdjust(l){return l?(l.setHours(l.getHours()>12?l.getHours()+2:0),l):null}updateFilledState(){this.filled=this.inputFieldValue&&""!=this.inputFieldValue}onTodayButtonClick(l){let f=new Date,y={day:f.getDate(),month:f.getMonth(),year:f.getFullYear(),otherMonth:f.getMonth()!==this.currentMonth||f.getFullYear()!==this.currentYear,today:!0,selectable:!0};this.onDateSelect(l,y),this.onTodayClick.emit(l)}onClearButtonClick(l){this.updateModel(null),this.updateInputfield(),this.hideOverlay(),this.onClearClick.emit(l)}createResponsiveStyle(){if(this.numberOfMonths>1&&this.responsiveOptions){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.body.appendChild(this.responsiveStyleElement));let l="";if(this.responsiveOptions){let f=[...this.responsiveOptions].filter(y=>!(!y.breakpoint||!y.numMonths)).sort((y,S)=>-1*y.breakpoint.localeCompare(S.breakpoint,void 0,{numeric:!0}));for(let y=0;y<f.length;y++){let{breakpoint:S,numMonths:le}=f[y],Te=`\n                        .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${le}) .p-datepicker-next {\n                            display: inline-flex !important;\n                        }\n                    `;for(let Fe=le;Fe<this.numberOfMonths;Fe++)Te+=`\n                            .p-datepicker[${this.attributeSelector}] .p-datepicker-group:nth-child(${Fe+1}) {\n                                display: none !important;\n                            }\n                        `;l+=`\n                        @media screen and (max-width: ${S}) {\n                            ${Te}\n                        }\n                    `}}this.responsiveStyleElement.innerHTML=l}}destroyResponsiveStyleElement(){this.responsiveStyleElement&&(this.responsiveStyleElement.remove(),this.responsiveStyleElement=null)}bindDocumentClickListener(){this.documentClickListener||this.zone.runOutsideAngular(()=>{this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","mousedown",f=>{this.isOutsideClicked(f)&&this.overlayVisible&&this.zone.run(()=>{this.hideOverlay(),this.onClickOutside.emit(f),this.cd.markForCheck()})})})}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){!this.documentResizeListener&&!this.touchUI&&(this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener))}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new wt.V(this.containerViewChild.nativeElement,()=>{this.overlayVisible&&this.hideOverlay()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}isOutsideClicked(l){return!(this.el.nativeElement.isSameNode(l.target)||this.isNavIconClicked(l)||this.el.nativeElement.contains(l.target)||this.overlay&&this.overlay.contains(l.target))}isNavIconClicked(l){return wt.p.hasClass(l.target,"p-datepicker-prev")||wt.p.hasClass(l.target,"p-datepicker-prev-icon")||wt.p.hasClass(l.target,"p-datepicker-next")||wt.p.hasClass(l.target,"p-datepicker-next-icon")}onWindowResize(){this.overlayVisible&&!wt.p.isAndroid()&&this.hideOverlay()}onOverlayHide(){this.currentView=this.view,this.mask&&this.destroyMask(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.overlay&&this.autoZIndex&&Gt.P9.clear(this.overlay),this.destroyResponsiveStyleElement(),this.clearTimePickerTimer(),this.restoreOverlayAppend(),this.onOverlayHide()}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(i.R0b),i.Y36(fe.b4),i.Y36(fe.F0))},C.\u0275cmp=i.Xpm({type:C,selectors:[["p-calendar"]],contentQueries:function(l,f,y){if(1&l&&i.Suo(y,fe.jx,4),2&l){let S;i.iGM(S=i.CRH())&&(f.templates=S)}},viewQuery:function(l,f){if(1&l&&(i.Gf(Tr,5),i.Gf(Ro,5),i.Gf(Zo,5)),2&l){let y;i.iGM(y=i.CRH())&&(f.containerViewChild=y.first),i.iGM(y=i.CRH())&&(f.inputfieldViewChild=y.first),i.iGM(y=i.CRH())&&(f.content=y.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(l,f){2&l&&i.ekj("p-inputwrapper-filled",f.filled)("p-inputwrapper-focus",f.focus)},inputs:{style:"style",styleClass:"styleClass",inputStyle:"inputStyle",inputId:"inputId",name:"name",inputStyleClass:"inputStyleClass",placeholder:"placeholder",ariaLabelledBy:"ariaLabelledBy",iconAriaLabel:"iconAriaLabel",disabled:"disabled",dateFormat:"dateFormat",multipleSeparator:"multipleSeparator",rangeSeparator:"rangeSeparator",inline:"inline",showOtherMonths:"showOtherMonths",selectOtherMonths:"selectOtherMonths",showIcon:"showIcon",icon:"icon",appendTo:"appendTo",readonlyInput:"readonlyInput",shortYearCutoff:"shortYearCutoff",monthNavigator:"monthNavigator",yearNavigator:"yearNavigator",hourFormat:"hourFormat",timeOnly:"timeOnly",stepHour:"stepHour",stepMinute:"stepMinute",stepSecond:"stepSecond",showSeconds:"showSeconds",required:"required",showOnFocus:"showOnFocus",showWeek:"showWeek",dataType:"dataType",selectionMode:"selectionMode",maxDateCount:"maxDateCount",showButtonBar:"showButtonBar",todayButtonStyleClass:"todayButtonStyleClass",clearButtonStyleClass:"clearButtonStyleClass",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",panelStyleClass:"panelStyleClass",panelStyle:"panelStyle",keepInvalid:"keepInvalid",hideOnDateTimeSelect:"hideOnDateTimeSelect",touchUI:"touchUI",timeSeparator:"timeSeparator",focusTrap:"focusTrap",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",tabindex:"tabindex",view:"view",defaultDate:"defaultDate",minDate:"minDate",maxDate:"maxDate",disabledDates:"disabledDates",disabledDays:"disabledDays",yearRange:"yearRange",showTime:"showTime",responsiveOptions:"responsiveOptions",numberOfMonths:"numberOfMonths",firstDayOfWeek:"firstDayOfWeek",locale:"locale"},outputs:{onFocus:"onFocus",onBlur:"onBlur",onClose:"onClose",onSelect:"onSelect",onInput:"onInput",onTodayClick:"onTodayClick",onClearClick:"onClearClick",onMonthChange:"onMonthChange",onYearChange:"onYearChange",onClickOutside:"onClickOutside",onShow:"onShow"},features:[i._Bn([_l])],ngContentSelectors:Ss,decls:4,vars:11,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"ngIf"],[3,"class","ngStyle","ngClass","click",4,"ngIf"],["type","text","autocomplete","off",3,"value","readonly","ngStyle","placeholder","disabled","ngClass","focus","keydown","click","blur","input"],["inputfield",""],["type","button","pButton","","pRipple","","class","p-datepicker-trigger","tabindex","0",3,"icon","disabled","click",4,"ngIf"],["type","button","pButton","","pRipple","","tabindex","0",1,"p-datepicker-trigger",3,"icon","disabled","click"],[3,"ngStyle","ngClass","click"],["contentWrapper",""],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-timepicker",4,"ngIf"],["class","p-datepicker-buttonbar",4,"ngIf"],[1,"p-datepicker-group-container"],["class","p-datepicker-group",4,"ngFor","ngForOf"],["class","p-monthpicker",4,"ngIf"],["class","p-yearpicker",4,"ngIf"],[1,"p-datepicker-group"],[1,"p-datepicker-header"],["class","p-datepicker-prev p-link","type","button","pRipple","",3,"keydown","click",4,"ngIf"],[1,"p-datepicker-title"],["type","button","class","p-datepicker-month p-link",3,"disabled","click","keydown",4,"ngIf"],["type","button","class","p-datepicker-year p-link",3,"disabled","click","keydown",4,"ngIf"],["class","p-datepicker-decade",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-next","p-link",3,"keydown","click"],[1,"p-datepicker-next-icon","pi","pi-chevron-right"],["class","p-datepicker-calendar-container",4,"ngIf"],["type","button","pRipple","",1,"p-datepicker-prev","p-link",3,"keydown","click"],[1,"p-datepicker-prev-icon","pi","pi-chevron-left"],["type","button",1,"p-datepicker-month","p-link",3,"disabled","click","keydown"],["type","button",1,"p-datepicker-year","p-link",3,"disabled","click","keydown"],[1,"p-datepicker-decade"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datepicker-calendar-container"],[1,"p-datepicker-calendar"],["class","p-datepicker-weekheader p-disabled",4,"ngIf"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"p-datepicker-weekheader","p-disabled"],["scope","col"],["class","p-datepicker-weeknumber",4,"ngIf"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"p-datepicker-weeknumber"],[1,"p-disabled"],[3,"ngClass"],["draggable","false","pRipple","",3,"ngClass","click","keydown"],[1,"p-monthpicker"],["class","p-monthpicker-month","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-monthpicker-month",3,"ngClass","click","keydown"],[1,"p-yearpicker"],["class","p-yearpicker-year","pRipple","",3,"ngClass","click","keydown",4,"ngFor","ngForOf"],["pRipple","",1,"p-yearpicker-year",3,"ngClass","click","keydown"],[1,"p-timepicker"],[1,"p-hour-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","keydown.enter","keydown.space","mousedown","mouseup","keyup.enter","keyup.space","mouseleave"],[1,"pi","pi-chevron-up"],[1,"pi","pi-chevron-down"],[1,"p-separator"],[1,"p-minute-picker"],["class","p-separator",4,"ngIf"],["class","p-second-picker",4,"ngIf"],["class","p-ampm-picker",4,"ngIf"],[1,"p-second-picker"],[1,"p-ampm-picker"],["type","button","pRipple","",1,"p-link",3,"keydown","click","keydown.enter"],[1,"p-datepicker-buttonbar"],["type","button","pButton","","pRipple","",3,"label","ngClass","keydown","click"]],template:function(l,f){1&l&&(i.F$t(ml),i.TgZ(0,"span",0,1),i.YNc(2,ma,3,16,"ng-template",2),i.YNc(3,gl,9,28,"div",3),i.qZA()),2&l&&(i.Tol(f.styleClass),i.Q6J("ngClass",i.l5B(6,wa,f.showIcon,f.timeOnly,f.disabled,f.focus))("ngStyle",f.style),i.xp6(2),i.Q6J("ngIf",!f.inline),i.xp6(1),i.Q6J("ngIf",f.inline||f.overlayVisible))},directives:[v.mk,v.PC,v.O5,Fi.Hq,Hi.H,v.tP,v.sg],styles:[".p-calendar{position:relative;display:inline-flex;max-width:100%}.p-calendar .p-inputtext{flex:1 1 auto;width:1%}.p-calendar-w-btn .p-inputtext{border-top-right-radius:0;border-bottom-right-radius:0}.p-calendar-w-btn .p-datepicker-trigger{border-top-left-radius:0;border-bottom-left-radius:0}.p-fluid .p-calendar{display:flex}.p-fluid .p-calendar .p-inputtext{width:1%}.p-calendar .p-datepicker{min-width:100%}.p-datepicker{width:auto;position:absolute;top:0;left:0}.p-datepicker-inline{display:inline-block;position:static;overflow-x:auto}.p-datepicker-header{display:flex;align-items:center;justify-content:space-between}.p-datepicker-header .p-datepicker-title{margin:0 auto}.p-datepicker-prev,.p-datepicker-next{cursor:pointer;display:inline-flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-datepicker-multiple-month .p-datepicker-group-container .p-datepicker-group{flex:1 1 auto}.p-datepicker-multiple-month .p-datepicker-group-container{display:flex}.p-datepicker table{width:100%;border-collapse:collapse}.p-datepicker td>span{display:flex;justify-content:center;align-items:center;cursor:pointer;margin:0 auto;overflow:hidden;position:relative}.p-monthpicker-month{width:33.3%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-datepicker-buttonbar{display:flex;justify-content:space-between;align-items:center}.p-timepicker{display:flex;justify-content:center;align-items:center}.p-timepicker button{display:flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}.p-timepicker>div{display:flex;align-items:center;flex-direction:column}.p-datepicker-touch-ui,.p-calendar .p-datepicker-touch-ui{position:fixed;top:50%;left:50%;min-width:80vw;transform:translate(-50%,-50%)}.p-yearpicker-year{width:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;overflow:hidden;position:relative}\n"],encapsulation:2,data:{animation:[(0,Un.X$)("overlayAnimation",[(0,Un.SB)("visibleTouchUI",(0,Un.oB)({transform:"translate(-50%,-50%)",opacity:1})),(0,Un.eR)("void => visible",[(0,Un.oB)({opacity:0,transform:"scaleY(0.8)"}),(0,Un.jt)("{{showTransitionParams}}",(0,Un.oB)({opacity:1,transform:"*"}))]),(0,Un.eR)("visible => void",[(0,Un.jt)("{{hideTransitionParams}}",(0,Un.oB)({opacity:0}))]),(0,Un.eR)("void => visibleTouchUI",[(0,Un.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}),(0,Un.jt)("{{showTransitionParams}}")]),(0,Un.eR)("visibleTouchUI => void",[(0,Un.jt)("{{hideTransitionParams}}",(0,Un.oB)({opacity:0,transform:"translate3d(-50%, -40%, 0) scale(0.9)"}))])])]},changeDetection:0}),C})(),Ca=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({imports:[[v.ez,Fi.hJ,fe.m8,Hi.T],Fi.hJ,fe.m8]}),C})();const ja=["container"],hu=["resizeHelper"],M=["reorderIndicatorUp"],D=["reorderIndicatorDown"],I=["wrapper"],V=["table"],G=["tableHeader"];function ae(C,N){if(1&C&&(i.TgZ(0,"div",14),i._UZ(1,"i"),i.qZA()),2&C){const l=i.oxw();i.xp6(1),i.Tol("p-datatable-loading-icon pi-spin "+l.loadingIcon)}}function me(C,N){1&C&&i.GkF(0)}function Re(C,N){if(1&C&&(i.TgZ(0,"div",15),i.YNc(1,me,1,0,"ng-container",16),i.qZA()),2&C){const l=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",l.captionTemplate)}}function ft(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"p-paginator",17),i.NdJ("onPageChange",function(y){return i.CHM(l),i.oxw().onPageChange(y)}),i.qZA()}if(2&C){const l=i.oxw();i.Q6J("rows",l.rows)("first",l.first)("totalRecords",l.totalRecords)("pageLinkSize",l.pageLinks)("alwaysShow",l.alwaysShowPaginator)("rowsPerPageOptions",l.rowsPerPageOptions)("templateLeft",l.paginatorLeftTemplate)("templateRight",l.paginatorRightTemplate)("dropdownAppendTo",l.paginatorDropdownAppendTo)("dropdownScrollHeight",l.paginatorDropdownScrollHeight)("currentPageReportTemplate",l.currentPageReportTemplate)("showFirstLastIcon",l.showFirstLastIcon)("dropdownItemTemplate",l.paginatorDropdownItemTemplate)("showCurrentPageReport",l.showCurrentPageReport)("showJumpToPageDropdown",l.showJumpToPageDropdown)("showJumpToPageInput",l.showJumpToPageInput)("showPageLinks",l.showPageLinks)}}function Bt(C,N){1&C&&i.GkF(0)}function Vn(C,N){1&C&&i.GkF(0)}function rn(C,N){if(1&C&&i._UZ(0,"tbody",25),2&C){const l=i.oxw(2);i.Q6J("value",l.frozenValue)("frozenRows",!0)("pTableBody",l.columns)("pTableBodyTemplate",l.frozenBodyTemplate)("frozen",!0)}}function ii(C,N){1&C&&i.GkF(0)}const kn=function(C){return{$implicit:C}};function _i(C,N){if(1&C&&(i.TgZ(0,"tfoot",26),i.YNc(1,ii,1,0,"ng-container",20),i.qZA()),2&C){const l=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",l.footerGroupedTemplate||l.footerTemplate)("ngTemplateOutletContext",i.VKq(2,kn,l.columns))}}function Xr(C,N){if(1&C&&(i.TgZ(0,"table",18,19),i.YNc(2,Bt,1,0,"ng-container",20),i.TgZ(3,"thead",21),i.YNc(4,Vn,1,0,"ng-container",20),i.qZA(),i.YNc(5,rn,1,5,"tbody",22),i._UZ(6,"tbody",23),i.YNc(7,_i,2,4,"tfoot",24),i.qZA()),2&C){const l=i.oxw();i.Q6J("ngClass",l.tableStyleClass)("ngStyle",l.tableStyle),i.uIk("id",l.id+"-table"),i.xp6(2),i.Q6J("ngTemplateOutlet",l.colGroupTemplate)("ngTemplateOutletContext",i.VKq(12,kn,l.columns)),i.xp6(2),i.Q6J("ngTemplateOutlet",l.headerGroupedTemplate||l.headerTemplate)("ngTemplateOutletContext",i.VKq(14,kn,l.columns)),i.xp6(1),i.Q6J("ngIf",l.frozenValue||l.frozenBodyTemplate),i.xp6(1),i.Q6J("value",l.dataToRender)("pTableBody",l.columns)("pTableBodyTemplate",l.bodyTemplate),i.xp6(1),i.Q6J("ngIf",l.footerGroupedTemplate||l.footerTemplate)}}function pi(C,N){1&C&&i.GkF(0)}function yi(C,N){1&C&&i.GkF(0)}function es(C,N){if(1&C&&i._UZ(0,"tbody",25),2&C){const l=i.oxw(2);i.Q6J("value",l.frozenValue)("frozenRows",!0)("pTableBody",l.columns)("pTableBodyTemplate",l.bodyTemplate)("frozen",!0)}}function $r(C,N){1&C&&i.GkF(0)}function yr(C,N){if(1&C&&(i.TgZ(0,"tfoot",26),i.YNc(1,$r,1,0,"ng-container",20),i.qZA()),2&C){const l=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",l.footerGroupedTemplate||l.footerTemplate)("ngTemplateOutletContext",i.VKq(2,kn,l.columns))}}function fu(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"cdk-virtual-scroll-viewport",27),i.NdJ("scrolledIndexChange",function(y){return i.CHM(l),i.oxw().onScrollIndexChange(y)}),i.TgZ(1,"table",18,19),i.YNc(3,pi,1,0,"ng-container",20),i.TgZ(4,"thead",21,28),i.YNc(6,yi,1,0,"ng-container",20),i.qZA(),i.YNc(7,es,1,5,"tbody",22),i._UZ(8,"tbody",23),i.YNc(9,yr,2,4,"tfoot",24),i.qZA(),i.qZA()}if(2&C){const l=i.oxw();i.Udp("height","flex"!==l.scrollHeight?l.scrollHeight:void 0),i.Q6J("itemSize",l.virtualRowHeight)("minBufferPx",l.minBufferPx)("maxBufferPx",l.maxBufferPx),i.xp6(1),i.Q6J("ngClass",l.tableStyleClass)("ngStyle",l.tableStyle),i.uIk("id",l.id+"-table"),i.xp6(2),i.Q6J("ngTemplateOutlet",l.colGroupTemplate)("ngTemplateOutletContext",i.VKq(17,kn,l.columns)),i.xp6(3),i.Q6J("ngTemplateOutlet",l.headerGroupedTemplate||l.headerTemplate)("ngTemplateOutletContext",i.VKq(19,kn,l.columns)),i.xp6(1),i.Q6J("ngIf",l.frozenValue||l.frozenBodyTemplate),i.xp6(1),i.Q6J("value",l.dataToRender)("pTableBody",l.columns)("pTableBodyTemplate",l.bodyTemplate),i.xp6(1),i.Q6J("ngIf",l.footerGroupedTemplate||l.footerTemplate)}}function pu(C,N){if(1&C){const l=i.EpF();i.TgZ(0,"p-paginator",29),i.NdJ("onPageChange",function(y){return i.CHM(l),i.oxw().onPageChange(y)}),i.qZA()}if(2&C){const l=i.oxw();i.Q6J("rows",l.rows)("first",l.first)("totalRecords",l.totalRecords)("pageLinkSize",l.pageLinks)("alwaysShow",l.alwaysShowPaginator)("rowsPerPageOptions",l.rowsPerPageOptions)("templateLeft",l.paginatorLeftTemplate)("templateRight",l.paginatorRightTemplate)("dropdownAppendTo",l.paginatorDropdownAppendTo)("dropdownScrollHeight",l.paginatorDropdownScrollHeight)("currentPageReportTemplate",l.currentPageReportTemplate)("showFirstLastIcon",l.showFirstLastIcon)("dropdownItemTemplate",l.paginatorDropdownItemTemplate)("showCurrentPageReport",l.showCurrentPageReport)("showJumpToPageDropdown",l.showJumpToPageDropdown)("showJumpToPageInput",l.showJumpToPageInput)("showPageLinks",l.showPageLinks)}}function ut(C,N){1&C&&i.GkF(0)}function Ea(C,N){if(1&C&&(i.TgZ(0,"div",30),i.YNc(1,ut,1,0,"ng-container",16),i.qZA()),2&C){const l=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",l.summaryTemplate)}}function yl(C,N){1&C&&i._UZ(0,"div",31,32)}function Si(C,N){1&C&&i._UZ(0,"span",33,34)}function ai(C,N){1&C&&i._UZ(0,"span",35,36)}const Mc=function(C,N,l,f,y,S,le,Te,Fe,vt,Lt,pn,ti,Mn){return{"p-datatable p-component":!0,"p-datatable-hoverable-rows":C,"p-datatable-auto-layout":N,"p-datatable-resizable":l,"p-datatable-resizable-fit":f,"p-datatable-scrollable":y,"p-datatable-scrollable-vertical":S,"p-datatable-scrollable-horizontal":le,"p-datatable-scrollable-both":Te,"p-datatable-flex-scrollable":Fe,"p-datatable-responsive-stack":vt,"p-datatable-responsive-scroll":Lt,"p-datatable-responsive":pn,"p-datatable-grouped-header":ti,"p-datatable-grouped-footer":Mn}},Ta=function(C){return{height:C}},un=["pTableBody",""];function Ll(C,N){1&C&&i.GkF(0)}const xn=function(C,N,l,f,y){return{$implicit:C,rowIndex:N,columns:l,editing:f,frozen:y}};function Oc(C,N){if(1&C&&(i.ynx(0,3),i.YNc(1,Ll,1,0,"ng-container",4),i.BQk()),2&C){const l=i.oxw(),f=l.$implicit,y=l.index,S=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",S.dt.groupHeaderTemplate)("ngTemplateOutletContext",i.qbA(2,xn,f,S.dt.paginator?S.dt.first+y:y,S.columns,"row"===S.dt.editMode&&S.dt.isRowEditing(f),S.frozen))}}function Ko(C,N){1&C&&i.GkF(0)}function gu(C,N){if(1&C&&(i.ynx(0),i.YNc(1,Ko,1,0,"ng-container",4),i.BQk()),2&C){const l=i.oxw(),f=l.$implicit,y=l.index,S=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",S.template)("ngTemplateOutletContext",i.qbA(2,xn,f,S.dt.paginator?S.dt.first+y:y,S.columns,"row"===S.dt.editMode&&S.dt.isRowEditing(f),S.frozen))}}function Fr(C,N){1&C&&i.GkF(0)}const Vl=function(C,N,l,f,y,S,le){return{$implicit:C,rowIndex:N,columns:l,editing:f,frozen:y,rowgroup:S,rowspan:le}};function $u(C,N){if(1&C&&(i.ynx(0),i.YNc(1,Fr,1,0,"ng-container",4),i.BQk()),2&C){const l=i.oxw(),f=l.$implicit,y=l.index,S=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",S.template)("ngTemplateOutletContext",i.Hh0(2,Vl,f,S.dt.paginator?S.dt.first+y:y,S.columns,"row"===S.dt.editMode&&S.dt.isRowEditing(f),S.frozen,S.shouldRenderRowspan(S.value,f,y),S.calculateRowGroupSize(S.value,f,y)))}}function vl(C,N){1&C&&i.GkF(0)}function kc(C,N){if(1&C&&(i.ynx(0,3),i.YNc(1,vl,1,0,"ng-container",4),i.BQk()),2&C){const l=i.oxw(),f=l.$implicit,y=l.index,S=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",S.dt.groupFooterTemplate)("ngTemplateOutletContext",i.qbA(2,xn,f,S.dt.paginator?S.dt.first+y:y,S.columns,"row"===S.dt.editMode&&S.dt.isRowEditing(f),S.frozen))}}function ki(C,N){if(1&C&&(i.YNc(0,Oc,2,8,"ng-container",2),i.YNc(1,gu,2,8,"ng-container",0),i.YNc(2,$u,2,10,"ng-container",0),i.YNc(3,kc,2,8,"ng-container",2)),2&C){const l=N.$implicit,f=N.index,y=i.oxw(2);i.Q6J("ngIf",y.dt.groupHeaderTemplate&&"subheader"===y.dt.rowGroupMode&&y.shouldRenderRowGroupHeader(y.value,l,f)),i.xp6(1),i.Q6J("ngIf","rowspan"!==y.dt.rowGroupMode),i.xp6(1),i.Q6J("ngIf","rowspan"===y.dt.rowGroupMode),i.xp6(1),i.Q6J("ngIf",y.dt.groupFooterTemplate&&"subheader"===y.dt.rowGroupMode&&y.shouldRenderRowGroupFooter(y.value,l,f))}}function Hs(C,N){if(1&C&&(i.ynx(0),i.YNc(1,ki,4,4,"ng-template",1),i.BQk()),2&C){const l=i.oxw();i.xp6(1),i.Q6J("ngForOf",l.value)("ngForTrackBy",l.dt.rowTrackBy)}}function vr(C,N){1&C&&i.GkF(0)}function mo(C,N){if(1&C&&i.YNc(0,vr,1,0,"ng-container",4),2&C){const l=N.$implicit,f=N.index,y=i.oxw(2);i.Q6J("ngTemplateOutlet",l?y.template:y.dt.loadingBodyTemplate)("ngTemplateOutletContext",i.qbA(2,xn,l,y.dt.paginator?y.dt.first+f:f,y.columns,"row"===y.dt.editMode&&y.dt.isRowEditing(l),y.frozen))}}function bl(C,N){if(1&C&&(i.ynx(0),i.YNc(1,mo,1,8,"ng-template",5),i.BQk()),2&C){const l=i.oxw();i.xp6(1),i.Q6J("cdkVirtualForOf",l.dt.filteredValue||l.dt.value)("cdkVirtualForTrackBy",l.dt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function Zu(C,N){1&C&&i.GkF(0)}const mu=function(C,N,l,f,y,S){return{$implicit:C,rowIndex:N,columns:l,expanded:f,editing:y,frozen:S}};function Gu(C,N){if(1&C&&(i.ynx(0),i.YNc(1,Zu,1,0,"ng-container",4),i.BQk()),2&C){const l=i.oxw(),f=l.$implicit,y=l.index,S=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",S.template)("ngTemplateOutletContext",i.HTZ(2,mu,f,S.dt.paginator?S.dt.first+y:y,S.columns,S.dt.isRowExpanded(f),"row"===S.dt.editMode&&S.dt.isRowEditing(f),S.frozen))}}function _u(C,N){1&C&&i.GkF(0)}function fs(C,N){if(1&C&&(i.ynx(0,3),i.YNc(1,_u,1,0,"ng-container",4),i.BQk()),2&C){const l=i.oxw(),f=l.$implicit,y=l.index,S=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",S.dt.groupHeaderTemplate)("ngTemplateOutletContext",i.HTZ(2,mu,f,S.dt.paginator?S.dt.first+y:y,S.columns,S.dt.isRowExpanded(f),"row"===S.dt.editMode&&S.dt.isRowEditing(f),S.frozen))}}function Rc(C,N){1&C&&i.GkF(0)}function ts(C,N){1&C&&i.GkF(0)}function Ia(C,N){if(1&C&&(i.ynx(0,3),i.YNc(1,ts,1,0,"ng-container",4),i.BQk()),2&C){const l=i.oxw(2),f=l.$implicit,y=l.index,S=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",S.dt.groupFooterTemplate)("ngTemplateOutletContext",i.HTZ(2,mu,f,S.dt.paginator?S.dt.first+y:y,S.columns,S.dt.isRowExpanded(f),"row"===S.dt.editMode&&S.dt.isRowEditing(f),S.frozen))}}const _o=function(C,N,l,f){return{$implicit:C,rowIndex:N,columns:l,frozen:f}};function Bl(C,N){if(1&C&&(i.ynx(0),i.YNc(1,Rc,1,0,"ng-container",4),i.YNc(2,Ia,2,9,"ng-container",2),i.BQk()),2&C){const l=i.oxw(),f=l.$implicit,y=l.index,S=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",S.dt.expandedRowTemplate)("ngTemplateOutletContext",i.l5B(3,_o,f,S.dt.paginator?S.dt.first+y:y,S.columns,S.frozen)),i.xp6(1),i.Q6J("ngIf",S.dt.groupFooterTemplate&&"subheader"===S.dt.rowGroupMode&&S.shouldRenderRowGroupFooter(S.value,f,y))}}function js(C,N){if(1&C&&(i.YNc(0,Gu,2,9,"ng-container",0),i.YNc(1,fs,2,9,"ng-container",2),i.YNc(2,Bl,3,8,"ng-container",0)),2&C){const l=N.$implicit,f=N.index,y=i.oxw(2);i.Q6J("ngIf",!y.dt.groupHeaderTemplate),i.xp6(1),i.Q6J("ngIf",y.dt.groupHeaderTemplate&&"subheader"===y.dt.rowGroupMode&&y.shouldRenderRowGroupHeader(y.value,l,f)),i.xp6(1),i.Q6J("ngIf",y.dt.isRowExpanded(l))}}function Ul(C,N){if(1&C&&(i.ynx(0),i.YNc(1,js,3,3,"ng-template",1),i.BQk()),2&C){const l=i.oxw();i.xp6(1),i.Q6J("ngForOf",l.value)("ngForTrackBy",l.dt.rowTrackBy)}}function Wu(C,N){1&C&&i.GkF(0)}function yu(C,N){1&C&&i.GkF(0)}function Hl(C,N){if(1&C&&(i.ynx(0),i.YNc(1,yu,1,0,"ng-container",4),i.BQk()),2&C){const l=i.oxw(),f=l.$implicit,y=l.index,S=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",S.dt.frozenExpandedRowTemplate)("ngTemplateOutletContext",i.l5B(2,_o,f,S.dt.paginator?S.dt.first+y:y,S.columns,S.frozen))}}function Dd(C,N){if(1&C&&(i.YNc(0,Wu,1,0,"ng-container",4),i.YNc(1,Hl,2,7,"ng-container",0)),2&C){const l=N.$implicit,f=N.index,y=i.oxw(2);i.Q6J("ngTemplateOutlet",y.template)("ngTemplateOutletContext",i.HTZ(3,mu,l,y.dt.paginator?y.dt.first+f:f,y.columns,y.dt.isRowExpanded(l),"row"===y.dt.editMode&&y.dt.isRowEditing(l),y.frozen)),i.xp6(1),i.Q6J("ngIf",y.dt.isRowExpanded(l))}}function qu(C,N){if(1&C&&(i.ynx(0),i.YNc(1,Dd,2,10,"ng-template",1),i.BQk()),2&C){const l=i.oxw();i.xp6(1),i.Q6J("ngForOf",l.value)("ngForTrackBy",l.dt.rowTrackBy)}}function wl(C,N){1&C&&i.GkF(0)}const jl=function(C,N){return{$implicit:C,frozen:N}};function Sa(C,N){if(1&C&&(i.ynx(0),i.YNc(1,wl,1,0,"ng-container",4),i.BQk()),2&C){const l=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",l.dt.loadingBodyTemplate)("ngTemplateOutletContext",i.WLB(2,jl,l.columns,l.frozen))}}function Yo(C,N){1&C&&i.GkF(0)}function za(C,N){if(1&C&&(i.ynx(0),i.YNc(1,Yo,1,0,"ng-container",4),i.BQk()),2&C){const l=i.oxw();i.xp6(1),i.Q6J("ngTemplateOutlet",l.dt.emptyMessageTemplate)("ngTemplateOutletContext",i.WLB(2,jl,l.columns,l.frozen))}}let Lc=(()=>{class C{constructor(){this.sortSource=new te.x,this.selectionSource=new te.x,this.contextMenuSource=new te.x,this.valueSource=new te.x,this.totalRecordsSource=new te.x,this.columnsSource=new te.x,this.resetSource=new te.x,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.valueSource$=this.valueSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable(),this.columnsSource$=this.columnsSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onSort(l){this.sortSource.next(l)}onSelectionChange(){this.selectionSource.next(null)}onResetChange(){this.resetSource.next(null)}onContextMenu(l){this.contextMenuSource.next(l)}onValueChange(l){this.valueSource.next(l)}onTotalRecordsChange(l){this.totalRecordsSource.next(l)}onColumnsChange(l){this.columnsSource.next(l)}}return C.\u0275fac=function(l){return new(l||C)},C.\u0275prov=i.Yz7({token:C,factory:C.\u0275fac}),C})(),Qu=(()=>{class C{constructor(l,f,y,S,le,Te){this.el=l,this.zone=f,this.tableService=y,this.cd=S,this.filterService=le,this.overlayService=Te,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.paginatorDropdownScrollHeight="200px",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectAllChange=new i.vpe,this.selectionChange=new i.vpe,this.contextMenuSelectionChange=new i.vpe,this.contextMenuSelectionMode="separate",this.rowTrackBy=(Fe,vt)=>vt,this.lazy=!1,this.lazyLoadOnInit=!0,this.compareSelectionBy="deepEquals",this.csvSeparator=",",this.exportFilename="download",this.filters={},this.filterDelay=300,this.expandedRowKeys={},this.editingRowKeys={},this.rowExpandMode="multiple",this.scrollDirection="vertical",this.virtualScrollDelay=250,this.virtualRowHeight=28,this.columnResizeMode="fit",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.showInitialSortBadge=!0,this.stateStorage="session",this.editMode="cell",this.groupRowsByOrder=1,this.responsiveLayout="stack",this.breakpoint="960px",this.onRowSelect=new i.vpe,this.onRowUnselect=new i.vpe,this.onPage=new i.vpe,this.onSort=new i.vpe,this.onFilter=new i.vpe,this.onLazyLoad=new i.vpe,this.onRowExpand=new i.vpe,this.onRowCollapse=new i.vpe,this.onContextMenuSelect=new i.vpe,this.onColResize=new i.vpe,this.onColReorder=new i.vpe,this.onRowReorder=new i.vpe,this.onEditInit=new i.vpe,this.onEditComplete=new i.vpe,this.onEditCancel=new i.vpe,this.onHeaderCheckboxToggle=new i.vpe,this.sortFunction=new i.vpe,this.firstChange=new i.vpe,this.rowsChange=new i.vpe,this.onStateSave=new i.vpe,this.onStateRestore=new i.vpe,this._value=[],this._totalRecords=0,this._first=0,this.selectionKeys={},this._sortOrder=1,this._selectAll=null,this.columnResizing=!1,this.rowGroupHeaderStyleObject={},this.id=(0,Gt.Th)()}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&(this.virtualScroll||this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.restoringFilter&&(this.restoringFilter=!1)),"stack"===this.responsiveLayout&&!this.scrollable&&this.createResponsiveStyle(),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(l=>{switch(l.getType()){case"caption":this.captionTemplate=l.template;break;case"header":this.headerTemplate=l.template;break;case"headergrouped":this.headerGroupedTemplate=l.template;break;case"body":this.bodyTemplate=l.template;break;case"loadingbody":this.loadingBodyTemplate=l.template;break;case"footer":this.footerTemplate=l.template;break;case"footergrouped":this.footerGroupedTemplate=l.template;break;case"summary":this.summaryTemplate=l.template;break;case"colgroup":this.colGroupTemplate=l.template;break;case"rowexpansion":this.expandedRowTemplate=l.template;break;case"groupheader":this.groupHeaderTemplate=l.template;break;case"rowspan":this.rowspanTemplate=l.template;break;case"groupfooter":this.groupFooterTemplate=l.template;break;case"frozenrows":this.frozenRowsTemplate=l.template;break;case"frozenheader":this.frozenHeaderTemplate=l.template;break;case"frozenbody":this.frozenBodyTemplate=l.template;break;case"frozenfooter":this.frozenFooterTemplate=l.template;break;case"frozencolgroup":this.frozenColGroupTemplate=l.template;break;case"frozenrowexpansion":this.frozenExpandedRowTemplate=l.template;break;case"emptymessage":this.emptyMessageTemplate=l.template;break;case"paginatorleft":this.paginatorLeftTemplate=l.template;break;case"paginatorright":this.paginatorRightTemplate=l.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=l.template}})}ngAfterViewInit(){this.isStateful()&&this.resizableColumns&&this.restoreColumnWidths(),this.scrollable&&this.virtualScroll&&(this.virtualScrollSubscription=this.virtualScrollBody.renderedRangeStream.subscribe(l=>{this.tableHeaderViewChild.nativeElement.style.top=l.start*this.virtualRowHeight*-1+"px"}))}ngOnChanges(l){l.value&&(this.isStateful()&&!this.stateRestored&&this.restoreState(),this._value=l.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&(this.sortField||this.groupRowsBy)?this.sortSingle():"multiple"==this.sortMode&&(this.multiSortMeta||this.groupRowsBy)?this.sortMultiple():this.hasFilter()&&this._filter()),this.tableService.onValueChange(l.value.currentValue)),l.columns&&(this._columns=l.columns.currentValue,this.tableService.onColumnsChange(l.columns.currentValue),this._columns&&this.isStateful()&&this.reorderableColumns&&!this.columnOrderStateRestored&&this.restoreColumnOrder()),l.sortField&&(this._sortField=l.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),l.groupRowsBy&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),l.sortOrder&&(this._sortOrder=l.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),l.groupRowsByOrder&&(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle(),l.multiSortMeta&&(this._multiSortMeta=l.multiSortMeta.currentValue,"multiple"===this.sortMode&&(this.initialized||!this.lazy&&!this.virtualScroll)&&this.sortMultiple()),l.selection&&(this._selection=l.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1),l.selectAll&&(this._selectAll=l.selectAll.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(l){this._value=l}get columns(){return this._columns}set columns(l){this._columns=l}get first(){return this._first}set first(l){this._first=l}get rows(){return this._rows}set rows(l){this._rows=l}get totalRecords(){return this._totalRecords}set totalRecords(l){this._totalRecords=l,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(l){this._sortField=l}get sortOrder(){return this._sortOrder}set sortOrder(l){this._sortOrder=l}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(l){this._multiSortMeta=l}get selection(){return this._selection}set selection(l){this._selection=l}get selectAll(){return this._selection}set selectAll(l){this._selection=l}get dataToRender(){let l=this.filteredValue||this.value;return l?this.paginator&&!this.lazy?l.slice(this.first,this.first+this.rows):l:[]}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let l of this._selection)this.selectionKeys[String(Gt.gb.resolveFieldData(l,this.dataKey))]=1;else this.selectionKeys[String(Gt.gb.resolveFieldData(this._selection,this.dataKey))]=1}onPageChange(l){this.first=l.first,this.rows=l.rows,this.lazy&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.onPage.emit({first:this.first,rows:this.rows}),this.firstChange.emit(this.first),this.rowsChange.emit(this.rows),this.tableService.onValueChange(this.value),this.isStateful()&&this.saveState(),this.anchorRowIndex=null,this.scrollable&&this.resetScrollTop()}sort(l){let f=l.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===l.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=l.field,this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop()),this.sortSingle()),"multiple"===this.sortMode){let y=f.metaKey||f.ctrlKey,S=this.getSortMeta(l.field);S?y?S.order=-1*S.order:(this._multiSortMeta=[{field:l.field,order:-1*S.order}],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first),this.scrollable&&this.resetScrollTop())):((!y||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&(this._first=0,this.firstChange.emit(this._first))),this._multiSortMeta.push({field:l.field,order:this.defaultSortOrder})),this.sortMultiple()}this.isStateful()&&this.saveState(),this.anchorRowIndex=null}sortSingle(){let l=this.sortField||this.groupRowsBy,f=this.sortField?this.sortOrder:this.groupRowsByOrder;if(this.groupRowsBy&&this.sortField&&this.groupRowsBy!==this.sortField)return this._multiSortMeta=[this.getGroupRowsMeta(),{field:this.sortField,order:this.sortOrder}],void this.sortMultiple();if(l&&f){this.restoringSort&&(this.restoringSort=!1),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,field:l,order:f}):(this.value.sort((S,le)=>{let Te=Gt.gb.resolveFieldData(S,l),Fe=Gt.gb.resolveFieldData(le,l),vt=null;return vt=null==Te&&null!=Fe?-1:null!=Te&&null==Fe?1:null==Te&&null==Fe?0:"string"==typeof Te&&"string"==typeof Fe?Te.localeCompare(Fe):Te<Fe?-1:Te>Fe?1:0,f*vt}),this._value=[...this.value]),this.hasFilter()&&this._filter());let y={field:l,order:f};this.onSort.emit(y),this.tableService.onSort(y)}}sortMultiple(){this.groupRowsBy&&(this._multiSortMeta?this.multiSortMeta[0].field!==this.groupRowsBy&&(this._multiSortMeta=[this.getGroupRowsMeta(),...this._multiSortMeta]):this._multiSortMeta=[this.getGroupRowsMeta()]),this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):(this.value.sort((l,f)=>this.multisortField(l,f,this.multiSortMeta,0)),this._value=[...this.value]),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.tableService.onSort(this.multiSortMeta))}multisortField(l,f,y,S){let le=Gt.gb.resolveFieldData(l,y[S].field),Te=Gt.gb.resolveFieldData(f,y[S].field),Fe=null;if(null==le&&null!=Te)Fe=-1;else if(null!=le&&null==Te)Fe=1;else if(null==le&&null==Te)Fe=0;else if("string"==typeof le||le instanceof String){if(le.localeCompare&&le!=Te)return y[S].order*le.localeCompare(Te)}else Fe=le<Te?-1:1;return le==Te?y.length-1>S?this.multisortField(l,f,y,S+1):0:y[S].order*Fe}getSortMeta(l){if(this.multiSortMeta&&this.multiSortMeta.length)for(let f=0;f<this.multiSortMeta.length;f++)if(this.multiSortMeta[f].field===l)return this.multiSortMeta[f];return null}isSorted(l){if("single"===this.sortMode)return this.sortField&&this.sortField===l;if("multiple"===this.sortMode){let f=!1;if(this.multiSortMeta)for(let y=0;y<this.multiSortMeta.length;y++)if(this.multiSortMeta[y].field==l){f=!0;break}return f}}handleRowClick(l){let f=l.originalEvent.target,y=f.nodeName,S=f.parentElement&&f.parentElement.nodeName;if("INPUT"!=y&&"BUTTON"!=y&&"A"!=y&&"INPUT"!=S&&"BUTTON"!=S&&"A"!=S&&!wt.p.hasClass(l.originalEvent.target,"p-clickable")){if(this.selectionMode){let le=l.rowData,Te=l.rowIndex;if(this.preventSelectionSetterPropagation=!0,this.isMultipleSelectionMode()&&l.originalEvent.shiftKey&&null!=this.anchorRowIndex)wt.p.clearSelection(),null!=this.rangeRowIndex&&this.clearSelectionRange(l.originalEvent),this.rangeRowIndex=Te,this.selectRange(l.originalEvent,Te);else{let Fe=this.isSelected(le);if(!Fe&&!this.isRowSelectable(le,Te))return;let vt=!this.rowTouched&&this.metaKeySelection,Lt=this.dataKey?String(Gt.gb.resolveFieldData(le,this.dataKey)):null;if(this.anchorRowIndex=Te,this.rangeRowIndex=Te,vt){let pn=l.originalEvent.metaKey||l.originalEvent.ctrlKey;if(Fe&&pn){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let ti=this.findIndexInSelection(le);this._selection=this.selection.filter((Mn,Ri)=>Ri!=ti),this.selectionChange.emit(this.selection),Lt&&delete this.selectionKeys[Lt]}this.onRowUnselect.emit({originalEvent:l.originalEvent,data:le,type:"row"})}else this.isSingleSelectionMode()?(this._selection=le,this.selectionChange.emit(le),Lt&&(this.selectionKeys={},this.selectionKeys[Lt]=1)):this.isMultipleSelectionMode()&&(pn?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,le],this.selectionChange.emit(this.selection),Lt&&(this.selectionKeys[Lt]=1)),this.onRowSelect.emit({originalEvent:l.originalEvent,data:le,type:"row",index:Te})}else if("single"===this.selectionMode)Fe?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:l.originalEvent,data:le,type:"row",index:Te})):(this._selection=le,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:l.originalEvent,data:le,type:"row",index:Te}),Lt&&(this.selectionKeys={},this.selectionKeys[Lt]=1));else if("multiple"===this.selectionMode)if(Fe){let pn=this.findIndexInSelection(le);this._selection=this.selection.filter((ti,Mn)=>Mn!=pn),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:l.originalEvent,data:le,type:"row",index:Te}),Lt&&delete this.selectionKeys[Lt]}else this._selection=this.selection?[...this.selection,le]:[le],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:l.originalEvent,data:le,type:"row",index:Te}),Lt&&(this.selectionKeys[Lt]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}this.rowTouched=!1}}handleRowTouchEnd(l){this.rowTouched=!0}handleRowRightClick(l){if(this.contextMenu){const f=l.rowData,y=l.rowIndex;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=f,this.contextMenuSelectionChange.emit(f),this.onContextMenuSelect.emit({originalEvent:l.originalEvent,data:f,index:l.rowIndex}),this.contextMenu.show(l.originalEvent),this.tableService.onContextMenu(f);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let S=this.isSelected(f),le=this.dataKey?String(Gt.gb.resolveFieldData(f,this.dataKey)):null;if(!S){if(!this.isRowSelectable(f,y))return;this.isSingleSelectionMode()?(this.selection=f,this.selectionChange.emit(f),le&&(this.selectionKeys={},this.selectionKeys[le]=1)):this.isMultipleSelectionMode()&&(this._selection=this.selection?[...this.selection,f]:[f],this.selectionChange.emit(this.selection),le&&(this.selectionKeys[le]=1))}this.tableService.onSelectionChange(),this.contextMenu.show(l.originalEvent),this.onContextMenuSelect.emit({originalEvent:l,data:f,index:l.rowIndex})}}}selectRange(l,f){let y,S;this.anchorRowIndex>f?(y=f,S=this.anchorRowIndex):this.anchorRowIndex<f?(y=this.anchorRowIndex,S=f):(y=f,S=f),this.lazy&&this.paginator&&(y-=this.first,S-=this.first);let le=[];for(let Te=y;Te<=S;Te++){let Fe=this.filteredValue?this.filteredValue[Te]:this.value[Te];if(!this.isSelected(Fe)){if(!this.isRowSelectable(Fe,f))continue;le.push(Fe),this._selection=[...this.selection,Fe];let vt=this.dataKey?String(Gt.gb.resolveFieldData(Fe,this.dataKey)):null;vt&&(this.selectionKeys[vt]=1)}}this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:l,data:le,type:"row"})}clearSelectionRange(l){let f,y;this.rangeRowIndex>this.anchorRowIndex?(f=this.anchorRowIndex,y=this.rangeRowIndex):this.rangeRowIndex<this.anchorRowIndex?(f=this.rangeRowIndex,y=this.anchorRowIndex):(f=this.rangeRowIndex,y=this.rangeRowIndex);for(let S=f;S<=y;S++){let le=this.value[S],Te=this.findIndexInSelection(le);this._selection=this.selection.filter((vt,Lt)=>Lt!=Te);let Fe=this.dataKey?String(Gt.gb.resolveFieldData(le,this.dataKey)):null;Fe&&delete this.selectionKeys[Fe],this.onRowUnselect.emit({originalEvent:l,data:le,type:"row"})}}isSelected(l){return!(!l||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[Gt.gb.resolveFieldData(l,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(l)>-1:this.equals(l,this.selection))}findIndexInSelection(l){let f=-1;if(this.selection&&this.selection.length)for(let y=0;y<this.selection.length;y++)if(this.equals(l,this.selection[y])){f=y;break}return f}isRowSelectable(l,f){return!(this.rowSelectable&&!this.rowSelectable({data:l,index:f}))}toggleRowWithRadio(l,f){if(this.preventSelectionSetterPropagation=!0,this.selection!=f){if(!this.isRowSelectable(f,l.rowIndex))return;this._selection=f,this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:l.originalEvent,index:l.rowIndex,data:f,type:"radiobutton"}),this.dataKey&&(this.selectionKeys={},this.selectionKeys[String(Gt.gb.resolveFieldData(f,this.dataKey))]=1)}else this._selection=null,this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:l.originalEvent,index:l.rowIndex,data:f,type:"radiobutton"});this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowWithCheckbox(l,f){this.selection=this.selection||[];let y=this.isSelected(f),S=this.dataKey?String(Gt.gb.resolveFieldData(f,this.dataKey)):null;if(this.preventSelectionSetterPropagation=!0,y){let le=this.findIndexInSelection(f);this._selection=this.selection.filter((Te,Fe)=>Fe!=le),this.selectionChange.emit(this.selection),this.onRowUnselect.emit({originalEvent:l.originalEvent,index:l.rowIndex,data:f,type:"checkbox"}),S&&delete this.selectionKeys[S]}else{if(!this.isRowSelectable(f,l.rowIndex))return;this._selection=this.selection?[...this.selection,f]:[f],this.selectionChange.emit(this.selection),this.onRowSelect.emit({originalEvent:l.originalEvent,index:l.rowIndex,data:f,type:"checkbox"}),S&&(this.selectionKeys[S]=1)}this.tableService.onSelectionChange(),this.isStateful()&&this.saveState()}toggleRowsWithCheckbox(l,f){if(null!==this._selectAll)this.selectAllChange.emit({originalEvent:l,checked:f});else{const y=this.selectionPageOnly?this.dataToRender:this.filteredValue||this.value||[];let S=this.selectionPageOnly&&this._selection?this._selection.filter(le=>!y.some(Te=>this.equals(le,Te))):[];f&&(S=this.frozenValue?[...S,...this.frozenValue,...y]:[...S,...y],S=this.rowSelectable?S.filter((le,Te)=>this.rowSelectable({data:le,index:Te})):S),this._selection=S,this.preventSelectionSetterPropagation=!0,this.updateSelectionKeys(),this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:l,checked:f}),this.isStateful()&&this.saveState()}}equals(l,f){return"equals"===this.compareSelectionBy?l===f:Gt.gb.equals(l,f,this.dataKey)}filter(l,f,y){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(l)?this.filters[f]&&delete this.filters[f]:this.filters[f]={value:l,matchMode:y},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay),this.anchorRowIndex=null}filterGlobal(l,f){this.filter(l,"global",f)}isFilterBlank(l){return null==l||"string"==typeof l&&0==l.trim().length||l instanceof Array&&0==l.length}_filter(){if(this.restoringFilter||(this.first=0,this.firstChange.emit(this.first)),this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let l;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");l=this.globalFilterFields||this.columns}this.filteredValue=[];for(let f=0;f<this.value.length;f++){let Te,y=!0,S=!1,le=!1;for(let Fe in this.filters)if(this.filters.hasOwnProperty(Fe)&&"global"!==Fe){le=!0;let vt=Fe,Lt=this.filters[vt];if(Array.isArray(Lt)){for(let pn of Lt)if(y=this.executeLocalFilter(vt,this.value[f],pn),pn.operator===fe.pg.OR&&y||pn.operator===fe.pg.AND&&!y)break}else y=this.executeLocalFilter(vt,this.value[f],Lt);if(!y)break}if(this.filters.global&&!S&&l)for(let Fe=0;Fe<l.length&&(S=this.filterService.filters[this.filters.global.matchMode](Gt.gb.resolveFieldData(this.value[f],l[Fe].field||l[Fe]),this.filters.global.value,this.filterLocale),!S);Fe++);Te=this.filters.global?le?le&&y&&S:S:le&&y,Te&&this.filteredValue.push(this.value[f])}this.filteredValue.length===this.value.length&&(this.filteredValue=null),this.paginator&&(this.totalRecords=this.filteredValue?this.filteredValue.length:this.value?this.value.length:0)}else this.filteredValue=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.onFilter.emit({filters:this.filters,filteredValue:this.filteredValue||this.value}),this.tableService.onValueChange(this.value),this.isStateful()&&!this.restoringFilter&&this.saveState(),this.restoringFilter&&(this.restoringFilter=!1),this.cd.markForCheck(),this.scrollable&&this.resetScrollTop()}executeLocalFilter(l,f,y){let S=y.value,le=y.matchMode||fe.a6.STARTS_WITH,Te=Gt.gb.resolveFieldData(f,l);return this.filterService.filters[le](Te,S,this.filterLocale)}hasFilter(){let l=!0;for(let f in this.filters)if(this.filters.hasOwnProperty(f)){l=!1;break}return!l}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}clear(){this._sortField=null,this._sortOrder=this.defaultSortOrder,this._multiSortMeta=null,this.tableService.onSort(null),this.filters.global&&(this.filters.global.value=null),this.filteredValue=null,this.tableService.onResetChange(),this.first=0,this.firstChange.emit(this.first),this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}reset(){this.clear()}getExportHeader(l){return l[this.exportHeader]||l.header||l.field}exportCSV(l){let f,y="",S=this.columns;l&&l.selectionOnly?f=this.selection||[]:(f=this.filteredValue||this.value,this.frozenValue&&(f=f?[...this.frozenValue,...f]:this.frozenValue));for(let Fe=0;Fe<S.length;Fe++){let vt=S[Fe];!1!==vt.exportable&&vt.field&&(y+='"'+this.getExportHeader(vt)+'"',Fe<S.length-1&&(y+=this.csvSeparator))}f.forEach((Fe,vt)=>{y+="\n";for(let Lt=0;Lt<S.length;Lt++){let pn=S[Lt];if(!1!==pn.exportable&&pn.field){let ti=Gt.gb.resolveFieldData(Fe,pn.field);ti=null!=ti?this.exportFunction?this.exportFunction({data:ti,field:pn.field}):String(ti).replace(/"/g,'""'):"",y+='"'+ti+'"',Lt<S.length-1&&(y+=this.csvSeparator)}}});let le=new Blob([y],{type:"text/csv;charset=utf-8;"}),Te=document.createElement("a");Te.style.display="none",document.body.appendChild(Te),void 0!==Te.download?(Te.setAttribute("href",URL.createObjectURL(le)),Te.setAttribute("download",this.exportFilename+".csv"),Te.click()):(y="data:text/csv;charset=utf-8,"+y,window.open(encodeURI(y))),document.body.removeChild(Te)}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(l){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(l)}onScrollIndexChange(l){this.lazy&&(this.virtualScrollTimeout&&clearTimeout(this.virtualScrollTimeout),this.virtualScrollTimeout=setTimeout(()=>{let f=Math.floor(l/this.rows),y=0===f?0:(f-1)*this.rows,S=0===f?2*this.rows:3*this.rows;f!==this.virtualPage&&(this.virtualPage=f,this.onLazyLoad.emit({first:y,rows:S,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}))},this.virtualScrollDelay))}scrollTo(l){this.virtualScrollBody?this.virtualScrollBody.scrollTo(l):this.wrapperViewChild&&this.wrapperViewChild.nativeElement&&(this.wrapperViewChild.nativeElement.scrollTo?this.wrapperViewChild.nativeElement.scrollTo(l):(this.wrapperViewChild.nativeElement.scrollLeft=l.left,this.wrapperViewChild.nativeElement.scrollTop=l.top))}updateEditingCell(l,f,y,S){this.editingCell=l,this.editingCellData=f,this.editingCellField=y,this.editingCellRowIndex=S,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===wt.p.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=l=>{this.editingCell&&!this.selfClick&&this.isEditingCellValid()&&(wt.p.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData,originalEvent:l,index:this.editingCellRowIndex}),this.editingCellField=null,this.editingCellData=null,this.editingCellRowIndex=null,this.unbindDocumentEditListener(),this.cd.markForCheck(),this.overlaySubscription&&this.overlaySubscription.unsubscribe()),this.selfClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}initRowEdit(l){let f=String(Gt.gb.resolveFieldData(l,this.dataKey));this.editingRowKeys[f]=!0}saveRowEdit(l,f){if(0===wt.p.find(f,".ng-invalid.ng-dirty").length){let y=String(Gt.gb.resolveFieldData(l,this.dataKey));delete this.editingRowKeys[y]}}cancelRowEdit(l){let f=String(Gt.gb.resolveFieldData(l,this.dataKey));delete this.editingRowKeys[f]}toggleRow(l,f){if(!this.dataKey)throw new Error("dataKey must be defined to use row expansion");let y=String(Gt.gb.resolveFieldData(l,this.dataKey));null!=this.expandedRowKeys[y]?(delete this.expandedRowKeys[y],this.onRowCollapse.emit({originalEvent:f,data:l})):("single"===this.rowExpandMode&&(this.expandedRowKeys={}),this.expandedRowKeys[y]=!0,this.onRowExpand.emit({originalEvent:f,data:l})),f&&f.preventDefault(),this.isStateful()&&this.saveState()}isRowExpanded(l){return!0===this.expandedRowKeys[String(Gt.gb.resolveFieldData(l,this.dataKey))]}isRowEditing(l){return!0===this.editingRowKeys[String(Gt.gb.resolveFieldData(l,this.dataKey))]}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}onColumnResizeBegin(l){let f=wt.p.getOffset(this.containerViewChild.nativeElement).left;this.resizeColumnElement=l.target.parentElement,this.columnResizing=!0,this.lastResizerHelperX=l.pageX-f+this.containerViewChild.nativeElement.scrollLeft,this.onColumnResize(l),l.preventDefault()}onColumnResize(l){let f=wt.p.getOffset(this.containerViewChild.nativeElement).left;wt.p.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=l.pageX-f+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(){let l=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,y=this.resizeColumnElement.offsetWidth+l;if(y>=(this.resizeColumnElement.style.minWidth||15)){if("fit"===this.columnResizeMode){let Te=this.resizeColumnElement.nextElementSibling.offsetWidth-l;y>15&&Te>15&&this.resizeTableCells(y,Te)}else if("expand"===this.columnResizeMode){let le=this.tableViewChild.nativeElement.offsetWidth+l;this.tableViewChild.nativeElement.style.width=le+"px",this.tableViewChild.nativeElement.style.minWidth=le+"px",this.resizeTableCells(y,null)}this.onColResize.emit({element:this.resizeColumnElement,delta:l}),this.isStateful()&&this.saveState()}this.resizeHelperViewChild.nativeElement.style.display="none",wt.p.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}resizeTableCells(l,f){let y=wt.p.index(this.resizeColumnElement),S=[];const le=wt.p.findSingle(this.containerViewChild.nativeElement,".p-datatable-thead");wt.p.find(le,"tr > th").forEach(vt=>S.push(wt.p.getOuterWidth(vt))),this.destroyStyleElement(),this.createStyleElement();let Fe="";S.forEach((vt,Lt)=>{let pn=Lt===y?l:f&&Lt===y+1?f:vt;Fe+=`\n                #${this.id} .p-datatable-thead > tr > th:nth-child(${Lt+1}),\n                #${this.id} .p-datatable-tbody > tr > td:nth-child(${Lt+1}),\n                #${this.id} .p-datatable-tfoot > tr > td:nth-child(${Lt+1}) {\n                    ${this.scrollable?`flex: 1 1 ${pn}px !important`:`width: ${pn}px !important`}\n                }\n            `}),this.styleElement.innerHTML=Fe}onColumnDragStart(l,f){this.reorderIconWidth=wt.p.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=wt.p.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=f,l.dataTransfer.setData("text","b")}onColumnDragEnter(l,f){if(this.reorderableColumns&&this.draggedColumn&&f){l.preventDefault();let y=wt.p.getOffset(this.containerViewChild.nativeElement),S=wt.p.getOffset(f);if(this.draggedColumn!=f){let le=wt.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),Te=wt.p.indexWithinGroup(f,"preorderablecolumn"),Fe=S.left-y.left,Lt=S.left+f.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=S.top-y.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=S.top-y.top+f.offsetHeight+"px",l.pageX>Lt?(this.reorderIndicatorUpViewChild.nativeElement.style.left=Fe+f.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=Fe+f.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=Fe-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=Fe-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),Te-le==1&&-1===this.dropPosition||Te-le==-1&&1===this.dropPosition?(this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none"):(this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block")}else l.dataTransfer.dropEffect="none"}}onColumnDragLeave(l){this.reorderableColumns&&this.draggedColumn&&(l.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(l,f){if(l.preventDefault(),this.draggedColumn){let y=wt.p.indexWithinGroup(this.draggedColumn,"preorderablecolumn"),S=wt.p.indexWithinGroup(f,"preorderablecolumn"),le=y!=S;le&&(S-y==1&&-1===this.dropPosition||y-S==1&&1===this.dropPosition)&&(le=!1),le&&S<y&&1===this.dropPosition&&(S+=1),le&&S>y&&-1===this.dropPosition&&(S-=1),le&&(Gt.gb.reorderArray(this.columns,y,S),this.onColReorder.emit({dragIndex:y,dropIndex:S,columns:this.columns}),this.isStateful()&&this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.saveState()})})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}onRowDragStart(l,f){this.rowDragging=!0,this.draggedRowIndex=f,l.dataTransfer.setData("text","b")}onRowDragOver(l,f,y){if(this.rowDragging&&this.draggedRowIndex!==f){let S=wt.p.getOffset(y).top+wt.p.getWindowScrollTop(),le=l.pageY,Te=S+wt.p.getOuterHeight(y)/2,Fe=y.previousElementSibling;le<Te?(wt.p.removeClass(y,"p-datatable-dragpoint-bottom"),this.droppedRowIndex=f,Fe?wt.p.addClass(Fe,"p-datatable-dragpoint-bottom"):wt.p.addClass(y,"p-datatable-dragpoint-top")):(Fe?wt.p.removeClass(Fe,"p-datatable-dragpoint-bottom"):wt.p.addClass(y,"p-datatable-dragpoint-top"),this.droppedRowIndex=f+1,wt.p.addClass(y,"p-datatable-dragpoint-bottom"))}}onRowDragLeave(l,f){let y=f.previousElementSibling;y&&wt.p.removeClass(y,"p-datatable-dragpoint-bottom"),wt.p.removeClass(f,"p-datatable-dragpoint-bottom"),wt.p.removeClass(f,"p-datatable-dragpoint-top")}onRowDragEnd(l){this.rowDragging=!1,this.draggedRowIndex=null,this.droppedRowIndex=null}onRowDrop(l,f){if(null!=this.droppedRowIndex){let y=this.draggedRowIndex>this.droppedRowIndex?this.droppedRowIndex:0===this.droppedRowIndex?0:this.droppedRowIndex-1;Gt.gb.reorderArray(this.value,this.draggedRowIndex,y),this.onRowReorder.emit({dragIndex:this.draggedRowIndex,dropIndex:y})}this.onRowDragLeave(l,f),this.onRowDragEnd(l)}isEmpty(){let l=this.filteredValue||this.value;return null==l||0==l.length}getBlockableElement(){return this.el.nativeElement.children[0]}getStorage(){switch(this.stateStorage){case"local":return window.localStorage;case"session":return window.sessionStorage;default:throw new Error(this.stateStorage+' is not a valid value for the state storage, supported values are "local" and "session".')}}isStateful(){return null!=this.stateKey}saveState(){const l=this.getStorage();let f={};this.paginator&&(f.first=this.first,f.rows=this.rows),this.sortField&&(f.sortField=this.sortField,f.sortOrder=this.sortOrder),this.multiSortMeta&&(f.multiSortMeta=this.multiSortMeta),this.hasFilter()&&(f.filters=this.filters),this.resizableColumns&&this.saveColumnWidths(f),this.reorderableColumns&&this.saveColumnOrder(f),this.selection&&(f.selection=this.selection),Object.keys(this.expandedRowKeys).length&&(f.expandedRowKeys=this.expandedRowKeys),l.setItem(this.stateKey,JSON.stringify(f)),this.onStateSave.emit(f)}clearState(){const l=this.getStorage();this.stateKey&&l.removeItem(this.stateKey)}restoreState(){const f=this.getStorage().getItem(this.stateKey),y=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/;if(f){let le=JSON.parse(f,function(le,Te){return"string"==typeof Te&&y.test(Te)?new Date(Te):Te});this.paginator&&(void 0!==this.first&&(this.first=le.first,this.firstChange.emit(this.first)),void 0!==this.rows&&(this.rows=le.rows,this.rowsChange.emit(this.rows))),le.sortField&&(this.restoringSort=!0,this._sortField=le.sortField,this._sortOrder=le.sortOrder),le.multiSortMeta&&(this.restoringSort=!0,this._multiSortMeta=le.multiSortMeta),le.filters&&(this.restoringFilter=!0,this.filters=le.filters),this.resizableColumns&&(this.columnWidthsState=le.columnWidths,this.tableWidthState=le.tableWidth),le.expandedRowKeys&&(this.expandedRowKeys=le.expandedRowKeys),le.selection&&Promise.resolve(null).then(()=>this.selectionChange.emit(le.selection)),this.stateRestored=!0,this.onStateRestore.emit(le)}}saveColumnWidths(l){let f=[];wt.p.find(this.containerViewChild.nativeElement,".p-datatable-thead > tr > th").forEach(S=>f.push(wt.p.getOuterWidth(S))),l.columnWidths=f.join(","),"expand"===this.columnResizeMode&&(l.tableWidth=wt.p.getOuterWidth(this.tableViewChild.nativeElement)+"px")}restoreColumnWidths(){if(this.columnWidthsState){let l=this.columnWidthsState.split(",");if("expand"===this.columnResizeMode&&this.tableWidthState&&(this.tableViewChild.nativeElement.style.width=this.tableWidthState,this.tableViewChild.nativeElement.style.minWidth=this.tableWidthState,this.containerViewChild.nativeElement.style.width=this.tableWidthState),Gt.gb.isNotEmpty(l)){this.createStyleElement();let f="";l.forEach((y,S)=>{f+=`\n                        #${this.id} .p-datatable-thead > tr > th:nth-child(${S+1}),\n                        #${this.id} .p-datatable-tbody > tr > td:nth-child(${S+1}),\n                        #${this.id} .p-datatable-tfoot > tr > td:nth-child(${S+1}) {\n                            ${this.scrollable?`flex: 1 1 ${y}px !important`:`width: ${y}px !important`}\n                        }\n                    `}),this.styleElement.innerHTML=f}}}saveColumnOrder(l){if(this.columns){let f=[];this.columns.map(y=>{f.push(y.field||y.key)}),l.columnOrder=f}}restoreColumnOrder(){const f=this.getStorage().getItem(this.stateKey);if(f){let S=JSON.parse(f).columnOrder;if(S){let le=[];S.map(Te=>{let Fe=this.findColumnByKey(Te);Fe&&le.push(Fe)}),this.columnOrderStateRestored=!0,this.columns=le}}}findColumnByKey(l){if(!this.columns)return null;for(let f of this.columns)if(f.key===l||f.field===l)return f}createStyleElement(){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement)}getGroupRowsMeta(){return{field:this.groupRowsBy,order:this.groupRowsByOrder}}createResponsiveStyle(){this.responsiveStyleElement||(this.responsiveStyleElement=document.createElement("style"),this.responsiveStyleElement.type="text/css",document.head.appendChild(this.responsiveStyleElement),this.responsiveStyleElement.innerHTML=`\n@media screen and (max-width: ${this.breakpoint}) {\n    #${this.id} .p-datatable-thead > tr > th,\n    #${this.id} .p-datatable-tfoot > tr > td {\n        display: none !important;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td {\n        display: flex;\n        width: 100% !important;\n        align-items: center;\n        justify-content: space-between;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td:not(:last-child) {\n        border: 0 none;\n    }\n\n    #${this.id}.p-datatable-gridlines .p-datatable-tbody > tr > td:last-child {\n        border-top: 0;\n        border-right: 0;\n        border-left: 0;\n    }\n\n    #${this.id} .p-datatable-tbody > tr > td > .p-column-title {\n        display: block;\n    }\n}\n`)}destroyResponsiveStyle(){this.responsiveStyleElement&&(document.head.removeChild(this.responsiveStyleElement),this.responsiveStyleElement=null)}destroyStyleElement(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.initialized=null,this.virtualScrollSubscription&&this.virtualScrollSubscription.unsubscribe(),this.destroyStyleElement(),this.destroyResponsiveStyle()}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(Lc),i.Y36(i.sBO),i.Y36(fe.iZ),i.Y36(fe.F0))},C.\u0275cmp=i.Xpm({type:C,selectors:[["p-table"]],contentQueries:function(l,f,y){if(1&l&&i.Suo(y,fe.jx,4),2&l){let S;i.iGM(S=i.CRH())&&(f.templates=S)}},viewQuery:function(l,f){if(1&l&&(i.Gf(ja,5),i.Gf(hu,5),i.Gf(M,5),i.Gf(D,5),i.Gf(I,5),i.Gf(V,5),i.Gf(G,5),i.Gf(Ur,5)),2&l){let y;i.iGM(y=i.CRH())&&(f.containerViewChild=y.first),i.iGM(y=i.CRH())&&(f.resizeHelperViewChild=y.first),i.iGM(y=i.CRH())&&(f.reorderIndicatorUpViewChild=y.first),i.iGM(y=i.CRH())&&(f.reorderIndicatorDownViewChild=y.first),i.iGM(y=i.CRH())&&(f.wrapperViewChild=y.first),i.iGM(y=i.CRH())&&(f.tableViewChild=y.first),i.iGM(y=i.CRH())&&(f.tableHeaderViewChild=y.first),i.iGM(y=i.CRH())&&(f.virtualScrollBody=y.first)}},hostAttrs:[1,"p-element"],inputs:{frozenColumns:"frozenColumns",frozenValue:"frozenValue",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",paginator:"paginator",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",paginatorDropdownScrollHeight:"paginatorDropdownScrollHeight",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showJumpToPageInput:"showJumpToPageInput",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",selectionMode:"selectionMode",selectionPageOnly:"selectionPageOnly",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",rowSelectable:"rowSelectable",rowTrackBy:"rowTrackBy",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",compareSelectionBy:"compareSelectionBy",csvSeparator:"csvSeparator",exportFilename:"exportFilename",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterLocale:"filterLocale",expandedRowKeys:"expandedRowKeys",editingRowKeys:"editingRowKeys",rowExpandMode:"rowExpandMode",scrollable:"scrollable",scrollDirection:"scrollDirection",rowGroupMode:"rowGroupMode",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",frozenWidth:"frozenWidth",responsive:"responsive",contextMenu:"contextMenu",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",rowHover:"rowHover",customSort:"customSort",showInitialSortBadge:"showInitialSortBadge",autoLayout:"autoLayout",exportFunction:"exportFunction",exportHeader:"exportHeader",stateKey:"stateKey",stateStorage:"stateStorage",editMode:"editMode",groupRowsBy:"groupRowsBy",groupRowsByOrder:"groupRowsByOrder",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",responsiveLayout:"responsiveLayout",breakpoint:"breakpoint",value:"value",columns:"columns",first:"first",rows:"rows",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",selectAll:"selectAll"},outputs:{selectAllChange:"selectAllChange",selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onRowSelect:"onRowSelect",onRowUnselect:"onRowUnselect",onPage:"onPage",onSort:"onSort",onFilter:"onFilter",onLazyLoad:"onLazyLoad",onRowExpand:"onRowExpand",onRowCollapse:"onRowCollapse",onContextMenuSelect:"onContextMenuSelect",onColResize:"onColResize",onColReorder:"onColReorder",onRowReorder:"onRowReorder",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",sortFunction:"sortFunction",firstChange:"firstChange",rowsChange:"rowsChange",onStateSave:"onStateSave",onStateRestore:"onStateRestore"},features:[i._Bn([Lc]),i.TTD],decls:14,vars:33,consts:[[3,"ngStyle","ngClass"],["container",""],["class","p-datatable-loading-overlay p-component-overlay",4,"ngIf"],["class","p-datatable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],[1,"p-datatable-wrapper",3,"ngStyle"],["wrapper",""],["role","table","class","p-datatable-table",3,"ngClass","ngStyle",4,"ngIf"],["tabindex","0","class","p-datatable-virtual-scrollable-body",3,"itemSize","height","minBufferPx","maxBufferPx","scrolledIndexChange",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange",4,"ngIf"],["class","p-datatable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-datatable-reorder-indicator-up","style","display:none",4,"ngIf"],["class","pi pi-arrow-up p-datatable-reorder-indicator-down","style","display:none",4,"ngIf"],[1,"p-datatable-loading-overlay","p-component-overlay"],[1,"p-datatable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],["role","table",1,"p-datatable-table",3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-datatable-thead"],["class","p-datatable-tbody p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen",4,"ngIf"],[1,"p-datatable-tbody",3,"value","pTableBody","pTableBodyTemplate"],["class","p-datatable-tfoot",4,"ngIf"],[1,"p-datatable-tbody","p-datatable-frozen-tbody",3,"value","frozenRows","pTableBody","pTableBodyTemplate","frozen"],[1,"p-datatable-tfoot"],["tabindex","0",1,"p-datatable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx","scrolledIndexChange"],["tableHeader",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","dropdownScrollHeight","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showJumpToPageInput","showPageLinks","onPageChange"],[1,"p-datatable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-datatable-reorder-indicator-up",2,"display","none"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-datatable-reorder-indicator-down",2,"display","none"],["reorderIndicatorDown",""]],template:function(l,f){1&l&&(i.TgZ(0,"div",0,1),i.YNc(2,ae,2,2,"div",2),i.YNc(3,Re,2,1,"div",3),i.YNc(4,ft,1,17,"p-paginator",4),i.TgZ(5,"div",5,6),i.YNc(7,Xr,8,16,"table",7),i.YNc(8,fu,10,21,"cdk-virtual-scroll-viewport",8),i.qZA(),i.YNc(9,pu,1,17,"p-paginator",9),i.YNc(10,Ea,2,1,"div",10),i.YNc(11,yl,2,0,"div",11),i.YNc(12,Si,2,0,"span",12),i.YNc(13,ai,2,0,"span",13),i.qZA()),2&l&&(i.Tol(f.styleClass),i.Q6J("ngStyle",f.style)("ngClass",i.rFY(16,Mc,[f.rowHover||f.selectionMode,f.autoLayout,f.resizableColumns,f.resizableColumns&&"fit"===f.columnResizeMode,f.scrollable,f.scrollable&&"vertical"===f.scrollDirection,f.scrollable&&"horizontal"===f.scrollDirection,f.scrollable&&"both"===f.scrollDirection,f.scrollable&&"flex"===f.scrollHeight,"stack"===f.responsiveLayout,"scroll"===f.responsiveLayout,f.responsive,null!=f.headerGroupedTemplate,null!=f.footerGroupedTemplate])),i.uIk("id",f.id),i.xp6(2),i.Q6J("ngIf",f.loading&&f.showLoader),i.xp6(1),i.Q6J("ngIf",f.captionTemplate),i.xp6(1),i.Q6J("ngIf",f.paginator&&("top"===f.paginatorPosition||"both"==f.paginatorPosition)),i.xp6(1),i.Q6J("ngStyle",i.VKq(31,Ta,f.scrollHeight)),i.xp6(2),i.Q6J("ngIf",!f.virtualScroll),i.xp6(1),i.Q6J("ngIf",f.virtualScroll),i.xp6(1),i.Q6J("ngIf",f.paginator&&("bottom"===f.paginatorPosition||"both"==f.paginatorPosition)),i.xp6(1),i.Q6J("ngIf",f.summaryTemplate),i.xp6(1),i.Q6J("ngIf",f.resizableColumns),i.xp6(1),i.Q6J("ngIf",f.reorderableColumns),i.xp6(1),i.Q6J("ngIf",f.reorderableColumns))},directives:function(){return[v.PC,v.mk,v.O5,v.tP,Na,Zl,Ur,hi]},styles:[".p-datatable{position:relative}.p-datatable table{border-collapse:collapse;min-width:100%;table-layout:fixed}.p-datatable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-datatable .p-sortable-column .p-column-title,.p-datatable .p-sortable-column .p-sortable-column-icon,.p-datatable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-datatable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-datatable-auto-layout>.p-datatable-wrapper{overflow-x:auto}.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper{overflow-x:auto}.p-datatable-responsive-scroll>.p-datatable-wrapper>table,.p-datatable-auto-layout>.p-datatable-wrapper>table{table-layout:auto}.p-datatable-hoverable-rows .p-selectable-row{cursor:pointer}.p-datatable-scrollable .p-datatable-wrapper{position:relative;overflow:auto}.p-datatable-scrollable .p-datatable-thead,.p-datatable-scrollable .p-datatable-tbody,.p-datatable-scrollable .p-datatable-tfoot{display:block}.p-datatable-scrollable .p-datatable-thead>tr,.p-datatable-scrollable .p-datatable-tbody>tr,.p-datatable-scrollable .p-datatable-tfoot>tr{display:flex;flex-wrap:nowrap;width:100%}.p-datatable-scrollable .p-datatable-thead>tr>th,.p-datatable-scrollable .p-datatable-tbody>tr>td,.p-datatable-scrollable .p-datatable-tfoot>tr>td{display:flex;flex:1 1 0;align-items:center}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-thead,.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-virtual-scrollable-body>.cdk-virtual-scroll-content-wrapper>.p-datatable-table>.p-datatable-thead{position:sticky;top:0;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-frozen-tbody{position:sticky;z-index:1}.p-datatable-scrollable>.p-datatable-wrapper>.p-datatable-table>.p-datatable-tfoot{position:sticky;bottom:0;z-index:1}.p-datatable-scrollable .p-frozen-column{position:sticky;background:inherit}.p-datatable-scrollable th.p-frozen-column{z-index:1}.p-datatable-scrollable-both .p-datatable-thead>tr>th,.p-datatable-scrollable-both .p-datatable-tbody>tr>td,.p-datatable-scrollable-both .p-datatable-tfoot>tr>td,.p-datatable-scrollable-horizontal .p-datatable-thead>tr>th .p-datatable-scrollable-horizontal .p-datatable-tbody>tr>td,.p-datatable-scrollable-horizontal .p-datatable-tfoot>tr>td{flex:0 0 auto}.p-datatable-flex-scrollable{display:flex;flex-direction:column;height:100%}.p-datatable-flex-scrollable .p-datatable-wrapper{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-scrollable .p-rowgroup-header{position:sticky;z-index:1}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot{display:table;border-collapse:collapse;width:100%;table-layout:fixed}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr{display:table-row}.p-datatable-scrollable.p-datatable-grouped-header .p-datatable-thead>tr>th,.p-datatable-scrollable.p-datatable-grouped-footer .p-datatable-tfoot>tr>td{display:table-cell}.p-datatable-flex-scrollable{display:flex;flex-direction:column;flex:1;height:100%}.p-datatable-flex-scrollable .p-datatable-virtual-scrollable-body{flex:1}.p-datatable-resizable>.p-datatable-wrapper{overflow-x:auto}.p-datatable-resizable .p-datatable-thead>tr>th,.p-datatable-resizable .p-datatable-tfoot>tr>td,.p-datatable-resizable .p-datatable-tbody>tr>td{overflow:hidden;white-space:nowrap}.p-datatable-resizable .p-resizable-column:not(.p-frozen-column){background-clip:padding-box;position:relative}.p-datatable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-datatable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-datatable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-datatable .p-row-editor-init,.p-datatable .p-row-editor-save,.p-datatable .p-row-editor-cancel{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-datatable-reorder-indicator-up,.p-datatable-reorder-indicator-down{position:absolute;display:none}.p-datatable-reorderablerow-handle{cursor:move}[pReorderableColumn]{cursor:move}.p-datatable .p-datatable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-column-filter-row{display:flex;align-items:center;width:100%}.p-column-filter-menu{display:inline-flex}.p-column-filter-row p-columnfilterformelement{flex:1 1 auto;width:1%}.p-column-filter-menu-button,.p-column-filter-clear-button{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-column-filter-overlay{position:absolute;top:0;left:0}.p-column-filter-row-items{margin:0;padding:0;list-style:none}.p-column-filter-row-item{cursor:pointer}.p-column-filter-add-button,.p-column-filter-remove-button{justify-content:center}.p-column-filter-add-button .p-button-label,.p-column-filter-remove-button .p-button-label{flex-grow:0}.p-column-filter-buttonbar{display:flex;align-items:center;justify-content:space-between}.p-column-filter-buttonbar .p-button{width:auto}.p-datatable .p-datatable-tbody>tr>td>.p-column-title{display:none}cdk-virtual-scroll-viewport{outline:0 none}\n"],encapsulation:2}),C})(),Zl=(()=>{class C{constructor(l,f,y,S){this.dt=l,this.tableService=f,this.cd=y,this.el=S,this.subscription=this.dt.tableService.valueSource$.subscribe(()=>{this.dt.virtualScroll&&this.cd.detectChanges()})}get value(){return this._value}set value(l){this._value=l,this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}ngAfterViewInit(){this.frozenRows&&this.updateFrozenRowStickyPosition(),this.dt.scrollable&&"subheader"===this.dt.rowGroupMode&&this.updateFrozenRowGroupHeaderStickyPosition()}shouldRenderRowGroupHeader(l,f,y){let S=Gt.gb.resolveFieldData(f,this.dt.groupRowsBy),le=l[y-1];return!le||S!==Gt.gb.resolveFieldData(le,this.dt.groupRowsBy)}shouldRenderRowGroupFooter(l,f,y){let S=Gt.gb.resolveFieldData(f,this.dt.groupRowsBy),le=l[y+1];return!le||S!==Gt.gb.resolveFieldData(le,this.dt.groupRowsBy)}shouldRenderRowspan(l,f,y){let S=Gt.gb.resolveFieldData(f,this.dt.groupRowsBy),le=l[y-1];return!le||S!==Gt.gb.resolveFieldData(le,this.dt.groupRowsBy)}calculateRowGroupSize(l,f,y){let S=Gt.gb.resolveFieldData(f,this.dt.groupRowsBy),le=S,Te=0;for(;S===le;){Te++;let Fe=l[++y];if(!Fe)break;le=Gt.gb.resolveFieldData(Fe,this.dt.groupRowsBy)}return 1===Te?null:Te}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}updateFrozenRowStickyPosition(){this.el.nativeElement.style.top=wt.p.getOuterHeight(this.el.nativeElement.previousElementSibling)+"px"}updateFrozenRowGroupHeaderStickyPosition(){if(this.el.nativeElement.previousElementSibling){let l=wt.p.getOuterHeight(this.el.nativeElement.previousElementSibling);this.dt.rowGroupHeaderStyleObject.top=l+"px"}}}return C.\u0275fac=function(l){return new(l||C)(i.Y36(Qu),i.Y36(Lc),i.Y36(i.sBO),i.Y36(i.SBq))},C.\u0275cmp=i.Xpm({type:C,selectors:[["","pTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTableBody","columns"],template:["pTableBodyTemplate","template"],value:"value",frozen:"frozen",frozenRows:"frozenRows"},attrs:un,decls:6,vars:6,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","row",4,"ngIf"],["role","row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(l,f){1&l&&(i.YNc(0,Hs,2,2,"ng-container",0),i.YNc(1,bl,2,3,"ng-container",0),i.YNc(2,Ul,2,2,"ng-container",0),i.YNc(3,qu,2,2,"ng-container",0),i.YNc(4,Sa,2,5,"ng-container",0),i.YNc(5,za,2,5,"ng-container",0)),2&l&&(i.Q6J("ngIf",!f.dt.expandedRowTemplate&&!f.dt.virtualScroll),i.xp6(1),i.Q6J("ngIf",!f.dt.expandedRowTemplate&&f.dt.virtualScroll),i.xp6(1),i.Q6J("ngIf",f.dt.expandedRowTemplate&&!(f.frozen&&f.dt.frozenExpandedRowTemplate)),i.xp6(1),i.Q6J("ngIf",f.dt.frozenExpandedRowTemplate&&f.frozen),i.xp6(1),i.Q6J("ngIf",f.dt.loading),i.xp6(1),i.Q6J("ngIf",f.dt.isEmpty()&&!f.dt.loading))},directives:[v.O5,v.sg,v.tP,qi],encapsulation:2}),C})(),Vf=(()=>{class C{}return C.\u0275fac=function(l){return new(l||C)},C.\u0275mod=i.oAB({type:C}),C.\u0275inj=i.cJS({imports:[[v.ez,Js,Ts.j,Hn,Ui,z.u5,Fi.hJ,ul,Ca,L,Vu],fe.m8,Ui]}),C})()},7773:(Dt,Ve,R)=>{R.d(Ve,{EV:()=>Ce,FN:()=>re});var i=R(5e3),v=R(9808),z=R(9783),fe=R(5921),q=R(5787),Y=R(1777);const J=["container"],ce=function(Ie,ke,Z,ve){return{"pi-info-circle":Ie,"pi-exclamation-triangle":ke,"pi-times-circle":Z,"pi-check":ve}};function de(Ie,ke){if(1&Ie&&(i.ynx(0),i._UZ(1,"span",6),i.TgZ(2,"div",7),i.TgZ(3,"div",8),i._uU(4),i.qZA(),i.TgZ(5,"div",9),i._uU(6),i.qZA(),i.qZA(),i.BQk()),2&Ie){const Z=i.oxw();i.xp6(1),i.Tol("p-toast-message-icon pi"+(Z.message.icon?" "+Z.message.icon:"")),i.Q6J("ngClass",i.l5B(5,ce,"info"==Z.message.severity,"warn"==Z.message.severity,"error"==Z.message.severity,"success"==Z.message.severity)),i.xp6(3),i.Oqu(Z.message.summary),i.xp6(2),i.Oqu(Z.message.detail)}}function K(Ie,ke){1&Ie&&i.GkF(0)}function ee(Ie,ke){if(1&Ie){const Z=i.EpF();i.TgZ(0,"button",10),i.NdJ("click",function(he){return i.CHM(Z),i.oxw().onCloseIconClick(he)})("keydown.enter",function(he){return i.CHM(Z),i.oxw().onCloseIconClick(he)}),i._UZ(1,"span",11),i.qZA()}}const te=function(Ie){return[Ie,"p-toast-message"]},We=function(Ie,ke,Z,ve){return{showTransformParams:Ie,hideTransformParams:ke,showTransitionParams:Z,hideTransitionParams:ve}},$e=function(Ie){return{value:"visible",params:Ie}},ot=function(Ie){return{$implicit:Ie}};function Ze(Ie,ke){if(1&Ie){const Z=i.EpF();i.TgZ(0,"p-toastItem",3),i.NdJ("onClose",function(he){return i.CHM(Z),i.oxw().onMessageClose(he)})("@toastAnimation.start",function(he){return i.CHM(Z),i.oxw().onAnimationStart(he)})("@toastAnimation.done",function(he){return i.CHM(Z),i.oxw().onAnimationEnd(he)}),i.qZA()}if(2&Ie){const Z=ke.$implicit,ve=ke.index,he=i.oxw();i.Q6J("message",Z)("index",ve)("template",he.template)("@toastAnimation",void 0)("showTransformOptions",he.showTransformOptions)("hideTransformOptions",he.hideTransformOptions)("showTransitionOptions",he.showTransitionOptions)("hideTransitionOptions",he.hideTransitionOptions)}}let ze=(()=>{class Ie{constructor(Z){this.zone=Z,this.onClose=new i.vpe}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(Z){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),Z.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return Ie.\u0275fac=function(Z){return new(Z||Ie)(i.Y36(i.R0b))},Ie.\u0275cmp=i.Xpm({type:Ie,selectors:[["p-toastItem"]],viewQuery:function(Z,ve){if(1&Z&&i.Gf(J,5),2&Z){let he;i.iGM(he=i.CRH())&&(ve.containerViewChild=he.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"ngClass"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[1,"p-toast-icon-close-icon","pi","pi-times"]],template:function(Z,ve){1&Z&&(i.TgZ(0,"div",0,1),i.NdJ("mouseenter",function(){return ve.onMouseEnter()})("mouseleave",function(){return ve.onMouseLeave()}),i.TgZ(2,"div",2),i.YNc(3,de,7,10,"ng-container",3),i.YNc(4,K,1,0,"ng-container",4),i.YNc(5,ee,2,0,"button",5),i.qZA(),i.qZA()),2&Z&&(i.Tol(ve.message.styleClass),i.Q6J("ngClass",i.VKq(10,te,"p-toast-message-"+ve.message.severity))("@messageState",i.VKq(17,$e,i.l5B(12,We,ve.showTransformOptions,ve.hideTransformOptions,ve.showTransitionOptions,ve.hideTransitionOptions))),i.uIk("id",ve.message.id),i.xp6(2),i.Q6J("ngClass",ve.message.contentStyleClass),i.xp6(1),i.Q6J("ngIf",!ve.template),i.xp6(1),i.Q6J("ngTemplateOutlet",ve.template)("ngTemplateOutletContext",i.VKq(19,ot,ve.message)),i.xp6(1),i.Q6J("ngIf",!1!==ve.message.closable))},directives:[v.mk,v.O5,v.tP,q.H],encapsulation:2,data:{animation:[(0,Y.X$)("messageState",[(0,Y.SB)("visible",(0,Y.oB)({transform:"translateY(0)",opacity:1})),(0,Y.eR)("void => *",[(0,Y.oB)({transform:"{{showTransformParams}}",opacity:0}),(0,Y.jt)("{{showTransitionParams}}")]),(0,Y.eR)("* => void",[(0,Y.jt)("{{hideTransitionParams}}",(0,Y.oB)({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0}),Ie})(),re=(()=>{class Ie{constructor(Z,ve,he){this.messageService=Z,this.cd=ve,this.config=he,this.autoZIndex=!0,this.baseZIndex=0,this.position="top-right",this.preventOpenDuplicates=!1,this.preventDuplicates=!1,this.showTransformOptions="translateY(100%)",this.hideTransformOptions="translateY(-100%)",this.showTransitionOptions="300ms ease-out",this.hideTransitionOptions="250ms ease-in",this.onClose=new i.vpe,this.id=(0,fe.Th)()}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(Z=>{if(Z)if(Z instanceof Array){const ve=Z.filter(he=>this.canAdd(he));this.add(ve)}else this.canAdd(Z)&&this.add([Z])}),this.clearSubscription=this.messageService.clearObserver.subscribe(Z=>{Z?this.key===Z&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(Z){this.messages=this.messages?[...this.messages,...Z]:[...Z],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...Z]:[...Z]),this.cd.markForCheck()}canAdd(Z){let ve=this.key===Z.key;return ve&&this.preventOpenDuplicates&&(ve=!this.containsMessage(this.messages,Z)),ve&&this.preventDuplicates&&(ve=!this.containsMessage(this.messagesArchieve,Z)),ve}containsMessage(Z,ve){return!!Z&&null!=Z.find(he=>he.summary===ve.summary&&he.detail==ve.detail&&he.severity===ve.severity)}ngAfterContentInit(){this.templates.forEach(Z=>{Z.getType(),this.template=Z.template})}onMessageClose(Z){this.messages.splice(Z.index,1),this.onClose.emit({message:Z.message}),this.cd.detectChanges()}onAnimationStart(Z){"void"===Z.fromState&&(this.containerViewChild.nativeElement.setAttribute(this.id,""),this.autoZIndex&&fe.P9.set("modal",this.containerViewChild.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(Z){"void"===Z.toState&&this.autoZIndex&&fe.P9.clear(this.containerViewChild.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=document.createElement("style"),this.styleElement.type="text/css",document.head.appendChild(this.styleElement);let Z="";for(let ve in this.breakpoints){let he="";for(let De in this.breakpoints[ve])he+=De+":"+this.breakpoints[ve][De]+" !important;";Z+=`\n                    @media screen and (max-width: ${ve}) {\n                        .p-toast[${this.id}] {\n                           ${he}\n                        }\n                    }\n                `}this.styleElement.innerHTML=Z}}destroyStyle(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&fe.P9.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return Ie.\u0275fac=function(Z){return new(Z||Ie)(i.Y36(z.ez),i.Y36(i.sBO),i.Y36(z.b4))},Ie.\u0275cmp=i.Xpm({type:Ie,selectors:[["p-toast"]],contentQueries:function(Z,ve,he){if(1&Z&&i.Suo(he,z.jx,4),2&Z){let De;i.iGM(De=i.CRH())&&(ve.templates=De)}},viewQuery:function(Z,ve){if(1&Z&&i.Gf(J,5),2&Z){let he;i.iGM(he=i.CRH())&&(ve.containerViewChild=he.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(Z,ve){1&Z&&(i.TgZ(0,"div",0,1),i.YNc(2,Ze,1,8,"p-toastItem",2),i.qZA()),2&Z&&(i.Tol(ve.styleClass),i.Q6J("ngClass","p-toast p-component p-toast-"+ve.position)("ngStyle",ve.style),i.xp6(2),i.Q6J("ngForOf",ve.messages))},directives:[v.mk,v.PC,v.sg,ze],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[(0,Y.X$)("toastAnimation",[(0,Y.eR)(":enter, :leave",[(0,Y.IO)("@*",(0,Y.pV)())])])]},changeDetection:0}),Ie})(),Ce=(()=>{class Ie{}return Ie.\u0275fac=function(Z){return new(Z||Ie)},Ie.\u0275mod=i.oAB({type:Ie}),Ie.\u0275inj=i.cJS({imports:[[v.ez,q.T],z.m8]}),Ie})()},4119:(Dt,Ve,R)=>{R.d(Ve,{u:()=>Y,z:()=>J});var i=R(5e3),v=R(9808),z=R(5730),fe=R(5921),q=R(9783);let Y=(()=>{class ce{constructor(K,ee,te){this.el=K,this.zone=ee,this.config=te,this.escape=!0,this._tooltipOptions={tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",tooltipZIndex:"auto",escape:!1,positionTop:0,positionLeft:0}}get disabled(){return this._disabled}set disabled(K){this._disabled=K,this.deactivate()}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{"hover"===this.getOption("tooltipEvent")?(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.addEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this),this.el.nativeElement.addEventListener("focus",this.focusListener),this.el.nativeElement.addEventListener("blur",this.blurListener))})}ngOnChanges(K){K.tooltipPosition&&this.setOption({tooltipPosition:K.tooltipPosition.currentValue}),K.tooltipEvent&&this.setOption({tooltipEvent:K.tooltipEvent.currentValue}),K.appendTo&&this.setOption({appendTo:K.appendTo.currentValue}),K.positionStyle&&this.setOption({positionStyle:K.positionStyle.currentValue}),K.tooltipStyleClass&&this.setOption({tooltipStyleClass:K.tooltipStyleClass.currentValue}),K.tooltipZIndex&&this.setOption({tooltipZIndex:K.tooltipZIndex.currentValue}),K.escape&&this.setOption({escape:K.escape.currentValue}),K.showDelay&&this.setOption({showDelay:K.showDelay.currentValue}),K.hideDelay&&this.setOption({hideDelay:K.hideDelay.currentValue}),K.life&&this.setOption({life:K.life.currentValue}),K.positionTop&&this.setOption({positionTop:K.positionTop.currentValue}),K.positionLeft&&this.setOption({positionLeft:K.positionLeft.currentValue}),K.disabled&&this.setOption({disabled:K.disabled.currentValue}),K.text&&(this.setOption({tooltipLabel:K.text.currentValue}),this.active&&(K.text.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),K.tooltipOptions&&(this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),K.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}onMouseEnter(K){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(K){this.deactivate()}onFocus(K){this.activate()}onBlur(K){this.deactivate()}onClick(K){this.deactivate()}activate(){if(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life")){let K=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},K)}}deactivate(){this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div");let K=document.createElement("div");K.className="p-tooltip-arrow",this.container.appendChild(K),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),"body"===this.getOption("appendTo")?document.body.appendChild(this.container):"target"===this.getOption("appendTo")?z.p.appendChild(this.container,this.el.nativeElement):z.p.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block"}show(){!this.getOption("tooltipLabel")||this.getOption("disabled")||(this.create(),this.align(),z.p.fadeIn(this.container,250),"auto"===this.getOption("tooltipZIndex")?fe.P9.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener())}hide(){"auto"===this.getOption("tooltipZIndex")&&fe.P9.clear(this.container),this.remove()}updateText(){this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(this.getOption("tooltipLabel")))):this.tooltipText.innerHTML=this.getOption("tooltipLabel")}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()))}}getHostOffset(){if("body"===this.getOption("appendTo")||"target"===this.getOption("appendTo")){let K=this.el.nativeElement.getBoundingClientRect();return{left:K.left+z.p.getWindowScrollLeft(),top:K.top+z.p.getWindowScrollTop()}}return{left:0,top:0}}alignRight(){this.preAlign("right");let K=this.getHostOffset(),ee=K.left+z.p.getOuterWidth(this.el.nativeElement),te=K.top+(z.p.getOuterHeight(this.el.nativeElement)-z.p.getOuterHeight(this.container))/2;this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=te+this.getOption("positionTop")+"px"}alignLeft(){this.preAlign("left");let K=this.getHostOffset(),ee=K.left-z.p.getOuterWidth(this.container),te=K.top+(z.p.getOuterHeight(this.el.nativeElement)-z.p.getOuterHeight(this.container))/2;this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=te+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let K=this.getHostOffset(),ee=K.left+(z.p.getOuterWidth(this.el.nativeElement)-z.p.getOuterWidth(this.container))/2,te=K.top-z.p.getOuterHeight(this.container);this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=te+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let K=this.getHostOffset(),ee=K.left+(z.p.getOuterWidth(this.el.nativeElement)-z.p.getOuterWidth(this.container))/2,te=K.top+z.p.getOuterHeight(this.el.nativeElement);this.container.style.left=ee+this.getOption("positionLeft")+"px",this.container.style.top=te+this.getOption("positionTop")+"px"}setOption(K){this._tooltipOptions=Object.assign(Object.assign({},this._tooltipOptions),K)}getOption(K){return this._tooltipOptions[K]}preAlign(K){this.container.style.left="-999px",this.container.style.top="-999px";let ee="p-tooltip p-component p-tooltip-"+K;this.container.className=this.getOption("tooltipStyleClass")?ee+" "+this.getOption("tooltipStyleClass"):ee}isOutOfBounds(){let K=this.container.getBoundingClientRect(),ee=K.top,te=K.left,We=z.p.getOuterWidth(this.container),$e=z.p.getOuterHeight(this.container),ot=z.p.getViewport();return te+We>ot.width||te<0||ee<0||ee+$e>ot.height}onWindowResize(K){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new z.V(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){"hover"===this.getOption("tooltipEvent")?(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)):"focus"===this.getOption("tooltipEvent")&&(this.el.nativeElement.removeEventListener("focus",this.focusListener),this.el.nativeElement.removeEventListener("blur",this.blurListener)),this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&("body"===this.getOption("appendTo")?document.body.removeChild(this.container):"target"===this.getOption("appendTo")?this.el.nativeElement.removeChild(this.container):z.p.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&fe.P9.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}}return ce.\u0275fac=function(K){return new(K||ce)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(q.b4))},ce.\u0275dir=i.lG2({type:ce,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:"escape",showDelay:"showDelay",hideDelay:"hideDelay",life:"life",positionTop:"positionTop",positionLeft:"positionLeft",text:["pTooltip","text"],disabled:["tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[i.TTD]}),ce})(),J=(()=>{class ce{}return ce.\u0275fac=function(K){return new(K||ce)},ce.\u0275mod=i.oAB({type:ce}),ce.\u0275inj=i.cJS({imports:[[v.ez]]}),ce})()},5921:(Dt,Ve,R)=>{R.d(Ve,{P9:()=>q,Th:()=>z,gb:()=>i});class i{static equals(J,ce,de){return de?this.resolveFieldData(J,de)===this.resolveFieldData(ce,de):this.equalsByValue(J,ce)}static equalsByValue(J,ce){if(J===ce)return!0;if(J&&ce&&"object"==typeof J&&"object"==typeof ce){var ee,te,We,de=Array.isArray(J),K=Array.isArray(ce);if(de&&K){if((te=J.length)!=ce.length)return!1;for(ee=te;0!=ee--;)if(!this.equalsByValue(J[ee],ce[ee]))return!1;return!0}if(de!=K)return!1;var $e=J instanceof Date,ot=ce instanceof Date;if($e!=ot)return!1;if($e&&ot)return J.getTime()==ce.getTime();var Ze=J instanceof RegExp,ze=ce instanceof RegExp;if(Ze!=ze)return!1;if(Ze&&ze)return J.toString()==ce.toString();var re=Object.keys(J);if((te=re.length)!==Object.keys(ce).length)return!1;for(ee=te;0!=ee--;)if(!Object.prototype.hasOwnProperty.call(ce,re[ee]))return!1;for(ee=te;0!=ee--;)if(!this.equalsByValue(J[We=re[ee]],ce[We]))return!1;return!0}return J!=J&&ce!=ce}static resolveFieldData(J,ce){if(J&&ce){if(this.isFunction(ce))return ce(J);if(-1==ce.indexOf("."))return J[ce];{let de=ce.split("."),K=J;for(let ee=0,te=de.length;ee<te;++ee){if(null==K)return null;K=K[de[ee]]}return K}}return null}static isFunction(J){return!!(J&&J.constructor&&J.call&&J.apply)}static reorderArray(J,ce,de){J&&ce!==de&&(de>=J.length&&(de%=J.length,ce%=J.length),J.splice(de,0,J.splice(ce,1)[0]))}static insertIntoOrderedArray(J,ce,de,K){if(de.length>0){let ee=!1;for(let te=0;te<de.length;te++)if(this.findIndexInList(de[te],K)>ce){de.splice(te,0,J),ee=!0;break}ee||de.push(J)}else de.push(J)}static findIndexInList(J,ce){let de=-1;if(ce)for(let K=0;K<ce.length;K++)if(ce[K]==J){de=K;break}return de}static contains(J,ce){if(null!=J&&ce&&ce.length)for(let de of ce)if(this.equals(J,de))return!0;return!1}static removeAccents(J){return J&&J.search(/[\xC0-\xFF]/g)>-1&&(J=J.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),J}static isEmpty(J){return null==J||""===J||Array.isArray(J)&&0===J.length||!(J instanceof Date)&&"object"==typeof J&&0===Object.keys(J).length}static isNotEmpty(J){return!this.isEmpty(J)}}var v=0;function z(){return"pr_id_"+ ++v}var q=function fe(){let Y=[];const K=ee=>ee&&parseInt(ee.style.zIndex,10)||0;return{get:K,set:(ee,te,We)=>{te&&(te.style.zIndex=String(((ee,te)=>{let We=Y.length>0?Y[Y.length-1]:{key:ee,value:te},$e=We.value+(We.key===ee?0:te)+1;return Y.push({key:ee,value:$e}),$e})(ee,We)))},clear:ee=>{ee&&((ee=>{Y=Y.filter(te=>te.value!==ee)})(K(ee)),ee.style.zIndex="")},getCurrent:()=>Y.length>0?Y[Y.length-1].value:0}}()},5861:(Dt,Ve,R)=>{function i(z,fe,q,Y,J,ce,de){try{var K=z[ce](de),ee=K.value}catch(te){return void q(te)}K.done?fe(ee):Promise.resolve(ee).then(Y,J)}function v(z){return function(){var fe=this,q=arguments;return new Promise(function(Y,J){var ce=z.apply(fe,q);function de(ee){i(ce,Y,J,de,K,"next",ee)}function K(ee){i(ce,Y,J,de,K,"throw",ee)}de(void 0)})}}R.d(Ve,{Z:()=>v})}},Dt=>{Dt(Dt.s=2702)}]);